var lS=Object.defineProperty,cS=Object.defineProperties;var uS=Object.getOwnPropertyDescriptors;var gc=Object.getOwnPropertySymbols;var Ry=Object.prototype.hasOwnProperty,ky=Object.prototype.propertyIsEnumerable;var Ny=(e,n,t)=>n in e?lS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,S=(e,n)=>{for(var t in n||={})Ry.call(n,t)&&Ny(e,t,n[t]);if(gc)for(var t of gc(n))ky.call(n,t)&&Ny(e,t,n[t]);return e},Y=(e,n)=>cS(e,uS(n));var vc=(e,n)=>{var t={};for(var r in e)Ry.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&gc)for(var r of gc(e))n.indexOf(r)<0&&ky.call(e,r)&&(t[r]=e[r]);return t};var Bp;function yc(){return Bp}function yr(e){let n=Bp;return Bp=e,n}var Fy=Symbol("NotFound");function Jo(e){return e===Fy||e?.name==="\u0275NotFound"}var kt=null,_c=!1,Up=1,dS=null,Ft=Symbol("SIGNAL");function ae(e){let n=kt;return kt=e,n}function wc(){return kt}var Gi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function es(e){if(_c)throw new Error("");if(kt===null)return;kt.consumerOnSignalRead(e);let n=kt.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=kt.recomputing;if(r&&(t=n!==void 0?n.nextProducer:kt.producers,t!==void 0&&t.producer===e)){kt.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===kt&&(!r||pS(i,kt)))return;let o=rs(kt),s={producer:e,consumer:kt,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};kt.producersTail=s,n!==void 0?n.nextProducer=s:kt.producers=s,o&&By(e,s)}function Ly(){Up++}function Dc(e){if(!(rs(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Up)){if(!e.producerMustRecompute(e)&&!ns(e)){Ec(e);return}e.producerRecomputeValue(e),Ec(e)}}function Hp(e){if(e.consumers===void 0)return;let n=_c;_c=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||fS(r)}}finally{_c=n}}function $p(){return kt?.consumerAllowSignalWrites!==!1}function fS(e){e.dirty=!0,Hp(e),e.consumerMarkedDirty?.(e)}function Ec(e){e.dirty=!1,e.lastCleanEpoch=Up}function qi(e){return e&&Vy(e),ae(e)}function Vy(e){e.producersTail=void 0,e.recomputing=!0}function ts(e,n){ae(n),e&&jy(e)}function jy(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(rs(e))do t=zp(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ns(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(Dc(t),r!==t.version))return!0}return!1}function Wi(e){if(rs(e)){let n=e.producers;for(;n!==void 0;)n=zp(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function By(e,n){let t=e.consumersTail,r=rs(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)By(i.producer,i)}function zp(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!rs(n)){let o=n.producers;for(;o!==void 0;)o=zp(o)}return t}function rs(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function xc(e){dS?.(e)}function pS(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Mc(e,n){return Object.is(e,n)}function Sc(e,n){let t=Object.create(mS);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Dc(t),es(t),t.value===_a)throw t.error;return t.value};return r[Ft]=t,xc(t),r}var Cc=Symbol("UNSET"),bc=Symbol("COMPUTING"),_a=Symbol("ERRORED"),mS=Y(S({},Gi),{value:Cc,dirty:!0,error:null,equal:Mc,kind:"computed",producerMustRecompute(e){return e.value===Cc||e.value===bc},producerRecomputeValue(e){if(e.value===bc)throw new Error("");let n=e.value;e.value=bc;let t=qi(e),r,i=!1;try{r=e.computation(),ae(null),i=n!==Cc&&n!==_a&&r!==_a&&e.equal(n,r)}catch(o){r=_a,e.error=o}finally{ts(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function hS(){throw new Error}var Uy=hS;function Hy(e){Uy(e)}function Gp(e){Uy=e}var gS=null;function qp(e,n){let t=Object.create(Ic);t.value=e,n!==void 0&&(t.equal=n);let r=()=>$y(t);return r[Ft]=t,xc(t),[r,s=>is(t,s),s=>Wp(t,s)]}function $y(e){return es(e),e.value}function is(e,n){$p()||Hy(e),e.equal(e.value,n)||(e.value=n,vS(e))}function Wp(e,n){$p()||Hy(e),is(e,n(e.value))}var Ic=Y(S({},Gi),{equal:Mc,value:void 0,kind:"signal"});function vS(e){e.version++,Ly(),Hp(e),gS?.(e)}function pe(e){return typeof e=="function"}function os(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Tc=os(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ca(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ht=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){n=o instanceof Tc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zy(o)}catch(s){n=n??[],s instanceof Tc?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Tc(n)}}add(n){var t;if(n&&n!==this)if(this.closed)zy(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ca(t,n)}remove(n){let{_finalizers:t}=this;t&&Ca(t,n),n instanceof e&&n._removeParent(this)}};ht.EMPTY=(()=>{let e=new ht;return e.closed=!0,e})();var Zp=ht.EMPTY;function Pc(e){return e instanceof ht||e&&"closed"in e&&pe(e.remove)&&pe(e.add)&&pe(e.unsubscribe)}function zy(e){pe(e)?e():e.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ss={setTimeout(e,n,...t){let{delegate:r}=ss;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=ss;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Oc(e){ss.setTimeout(()=>{let{onUnhandledError:n}=tr;if(n)n(e);else throw e})}function ba(){}var Gy=Kp("C",void 0,void 0);function qy(e){return Kp("E",void 0,e)}function Wy(e){return Kp("N",e,void 0)}function Kp(e,n,t){return{kind:e,value:n,error:t}}var Zi=null;function as(e){if(tr.useDeprecatedSynchronousErrorHandling){let n=!Zi;if(n&&(Zi={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Zi;if(Zi=null,t)throw r}}else e()}function Zy(e){tr.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=e)}var Ki=class extends ht{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Pc(n)&&n.add(this)):this.destination=CS}static create(n,t,r){return new Wr(n,t,r)}next(n){this.isStopped?Qp(Wy(n),this):this._next(n)}error(n){this.isStopped?Qp(qy(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Qp(Gy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yS=Function.prototype.bind;function Yp(e,n){return yS.call(e,n)}var Xp=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ac(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ac(r)}else Ac(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ac(t)}}},Wr=class extends Ki{constructor(n,t,r){super();let i;if(pe(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&tr.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Yp(n.next,o),error:n.error&&Yp(n.error,o),complete:n.complete&&Yp(n.complete,o)}):i=n}this.destination=new Xp(i)}};function Ac(e){tr.useDeprecatedSynchronousErrorHandling?Zy(e):Oc(e)}function _S(e){throw e}function Qp(e,n){let{onStoppedNotification:t}=tr;t&&ss.setTimeout(()=>t(e,n))}var CS={closed:!0,next:ba,error:_S,complete:ba};var ls=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(e){return e}function Jp(...e){return em(e)}function em(e){return e.length===0?yn:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var Ce=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ES(t)?t:new Wr(t,r,i);return as(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ky(r),new r((i,o)=>{let s=new Wr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ls](){return this}pipe(...t){return em(t)(this)}toPromise(t){return t=Ky(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Ky(e){var n;return(n=e??tr.Promise)!==null&&n!==void 0?n:Promise}function bS(e){return e&&pe(e.next)&&pe(e.error)&&pe(e.complete)}function ES(e){return e&&e instanceof Ki||bS(e)&&Pc(e)}function tm(e){return pe(e?.lift)}function we(e){return n=>{if(tm(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(e,n,t,r,i){return new nm(e,n,t,r,i)}var nm=class extends Ki{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function cs(){return we((e,n)=>{let t=null;e._refCount++;let r=De(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var us=class extends Ce{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tm(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ht;let t=this.getSubject();n.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ht.EMPTY)}return n}refCount(){return cs()(this)}};var Yy=os(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class e extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Nc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Yy}next(t){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zp:(this.currentObservers=null,o.push(t),new ht(()=>{this.currentObservers=null,Ca(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return e.create=(n,t)=>new Nc(n,t),e})(),Nc=class extends qe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Zp}};var Tt=class extends qe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var rm={now(){return(rm.delegate||Date).now()},delegate:void 0};var Ea=class extends qe{constructor(n=1/0,t=1/0,r=rm){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var en=new Ce(e=>e.complete());function Qy(e){return e&&pe(e.schedule)}function Xy(e){return e[e.length-1]}function Rc(e){return pe(Xy(e))?e.pop():void 0}function gi(e){return Qy(Xy(e))?e.pop():void 0}function e_(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(p){s(p)}}function l(f){try{c(r.throw(f))}catch(p){s(p)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function Jy(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yi(e){return this instanceof Yi?(this.v=e,this):new Yi(e)}function t_(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,p)}}function a(g,y){r[g]&&(i[g]=function(_){return new Promise(function(b,C){o.push([g,_,b,C])>1||l(g,_)})},y&&(i[g]=y(i[g])))}function l(g,y){try{c(r[g](y))}catch(_){v(o[0][3],_)}}function c(g){g.value instanceof Yi?Promise.resolve(g.value.v).then(f,p):v(o[0][2],g)}function f(g){l("next",g)}function p(g){l("throw",g)}function v(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function n_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Jy=="function"?Jy(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var kc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Fc(e){return pe(e?.then)}function Lc(e){return pe(e[ls])}function Vc(e){return Symbol.asyncIterator&&pe(e?.[Symbol.asyncIterator])}function jc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bc=wS();function Uc(e){return pe(e?.[Bc])}function Hc(e){return t_(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Yi(t.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{t.releaseLock()}})}function $c(e){return pe(e?.getReader)}function Qe(e){if(e instanceof Ce)return e;if(e!=null){if(Lc(e))return DS(e);if(kc(e))return xS(e);if(Fc(e))return MS(e);if(Vc(e))return r_(e);if(Uc(e))return SS(e);if($c(e))return IS(e)}throw jc(e)}function DS(e){return new Ce(n=>{let t=e[ls]();if(pe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xS(e){return new Ce(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function MS(e){return new Ce(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Oc)})}function SS(e){return new Ce(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function r_(e){return new Ce(n=>{TS(e,n).catch(t=>n.error(t))})}function IS(e){return r_(Hc(e))}function TS(e,n){var t,r,i,o;return e_(this,void 0,void 0,function*(){try{for(t=n_(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function tn(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function zc(e,n=0){return we((t,r)=>{t.subscribe(De(r,i=>tn(r,e,()=>r.next(i),n),()=>tn(r,e,()=>r.complete(),n),i=>tn(r,e,()=>r.error(i),n)))})}function Gc(e,n=0){return we((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function i_(e,n){return Qe(e).pipe(Gc(n),zc(n))}function o_(e,n){return Qe(e).pipe(Gc(n),zc(n))}function s_(e,n){return new Ce(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function a_(e,n){return new Ce(t=>{let r;return tn(t,n,()=>{r=e[Bc](),tn(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function qc(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ce(t=>{tn(t,n,()=>{let r=e[Symbol.asyncIterator]();tn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function l_(e,n){return qc(Hc(e),n)}function c_(e,n){if(e!=null){if(Lc(e))return i_(e,n);if(kc(e))return s_(e,n);if(Fc(e))return o_(e,n);if(Vc(e))return qc(e,n);if(Uc(e))return a_(e,n);if($c(e))return l_(e,n)}throw jc(e)}function He(e,n){return n?c_(e,n):Qe(e)}function U(...e){let n=gi(e);return He(e,n)}function An(e,n){let t=pe(e)?e:()=>e,r=i=>i.error(t());return new Ce(n?i=>n.schedule(r,0,i):r)}function im(e){return!!e&&(e instanceof Ce||pe(e.lift)&&pe(e.subscribe))}var Zr=os(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(e,n){return we((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:PS}=Array;function OS(e,n){return PS(n)?e(...n):e(n)}function Wc(e){return oe(n=>OS(e,n))}var{isArray:AS}=Array,{getPrototypeOf:NS,prototype:RS,keys:kS}=Object;function Zc(e){if(e.length===1){let n=e[0];if(AS(n))return{args:n,keys:null};if(FS(n)){let t=kS(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function FS(e){return e&&typeof e=="object"&&NS(e)===RS}function Kc(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Qi(...e){let n=gi(e),t=Rc(e),{args:r,keys:i}=Zc(e);if(r.length===0)return He([],n);let o=new Ce(LS(r,n,i?s=>Kc(i,s):yn));return t?o.pipe(Wc(t)):o}function LS(e,n,t=yn){return r=>{u_(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)u_(n,()=>{let c=He(e[l],n),f=!1;c.subscribe(De(r,p=>{o[l]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function u_(e,n,t){e?tn(t,e,n):n()}function d_(e,n,t,r,i,o,s,a){let l=[],c=0,f=0,p=!1,v=()=>{p&&!l.length&&!c&&n.complete()},g=_=>c<r?y(_):l.push(_),y=_=>{o&&n.next(_),c++;let b=!1;Qe(t(_,f++)).subscribe(De(n,C=>{i?.(C),o?g(C):n.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let C=l.shift();s?tn(n,s,()=>y(C)):y(C)}v()}catch(C){n.error(C)}}))};return e.subscribe(De(n,g,()=>{p=!0,v()})),()=>{a?.()}}function ct(e,n,t=1/0){return pe(n)?ct((r,i)=>oe((o,s)=>n(r,o,i,s))(Qe(e(r,i))),t):(typeof n=="number"&&(t=n),we((r,i)=>d_(r,i,e,t)))}function ds(e=1/0){return ct(yn,e)}function f_(){return ds(1)}function fs(...e){return f_()(He(e,gi(e)))}function wa(e){return new Ce(n=>{Qe(e()).subscribe(n)})}function om(...e){let n=Rc(e),{args:t,keys:r}=Zc(e),i=new Ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let f=0;f<s;f++){let p=!1;Qe(t[f]).subscribe(De(o,v=>{p||(p=!0,c--),a[f]=v},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?Kc(r,a):a),o.complete())}))}});return n?i.pipe(Wc(n)):i}function Lt(e,n){return we((t,r)=>{let i=0;t.subscribe(De(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Pt(e){return we((n,t)=>{let r=null,i=!1,o;r=n.subscribe(De(t,void 0,void 0,s=>{o=Qe(e(s,Pt(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function p_(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(De(s,f=>{let p=c++;l=a?e(l,f,p):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function _r(e,n){return pe(n)?ct(e,n,1):ct(e,1)}function vi(e){return we((n,t)=>{let r=!1;n.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Kr(e){return e<=0?()=>en:we((n,t)=>{let r=0;n.subscribe(De(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Yc(e=VS){return we((n,t)=>{let r=!1;n.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function VS(){return new Zr}function Xi(e){return we((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Yr(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Lt((i,o)=>e(i,o,r)):yn,Kr(1),t?vi(n):Yc(()=>new Zr))}function ps(e){return e<=0?()=>en:we((n,t)=>{let r=[];n.subscribe(De(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sm(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Lt((i,o)=>e(i,o,r)):yn,ps(1),t?vi(n):Yc(()=>new Zr))}function am(e,n){return we(p_(e,n,arguments.length>=2,!0))}function m_(e={}){let{connector:n=()=>new qe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,f=!1,p=!1,v=()=>{a?.unsubscribe(),a=void 0},g=()=>{v(),s=l=void 0,f=p=!1},y=()=>{let _=s;g(),_?.unsubscribe()};return we((_,b)=>{c++,!p&&!f&&v();let C=l=l??n();b.add(()=>{c--,c===0&&!p&&!f&&(a=lm(y,i))}),C.subscribe(b),!s&&c>0&&(s=new Wr({next:M=>C.next(M),error:M=>{p=!0,v(),a=lm(g,t,M),C.error(M)},complete:()=>{f=!0,v(),a=lm(g,r),C.complete()}}),Qe(_).subscribe(s))})(o)}}function lm(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new Wr({next:()=>{r.unsubscribe(),e()}});return Qe(n(...t)).subscribe(r)}function Qc(e,n,t){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=e:r=e??1/0,m_({connector:()=>new Ea(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function cm(...e){let n=gi(e);return we((t,r)=>{(n?fs(e,t,n):fs(e,t)).subscribe(r)})}function Xe(e,n){return we((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,l=>{i?.unsubscribe();let c=0,f=o++;Qe(e(l,f)).subscribe(i=De(r,p=>r.next(n?n(l,p,f,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ms(e){return we((n,t)=>{Qe(e).subscribe(De(t,()=>t.complete(),ba)),!t.closed&&n.subscribe(t)})}function Fe(e,n,t){let r=pe(e)||n||t?{next:e,error:n,complete:t}:e;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):yn}function h_(e){let n=ae(null);try{return e()}finally{ae(n)}}var g_=Y(S({},Gi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function v_(e){if(e.dirty=!1,e.version>0&&!ns(e))return;e.version++;let n=qi(e);try{e.cleanup(),e.fn()}finally{ts(e,n)}}var tu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(n,t){super(kn(n,t)),this.code=n}};function jS(e){return`NG0${Math.abs(e)}`}function kn(e,n){return`${jS(e)}${n?": "+n:""}`}var Fn=globalThis;function Re(e){for(let n in e)if(e[n]===Re)return n;throw Error("")}function C_(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Xr(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Xr).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nu(e,n){return e?n?`${e} ${n}`:e:n||""}var BS=Re({__forward_ref__:Re});function nn(e){return e.__forward_ref__=nn,e.toString=function(){return Xr(this())},e}function Ot(e){return Cm(e)?e():e}function Cm(e){return typeof e=="function"&&e.hasOwnProperty(BS)&&e.__forward_ref__===nn}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _n(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ia(e){return US(e,ru)}function bm(e){return Ia(e)!==null}function US(e,n){return e.hasOwnProperty(n)&&e[n]||null}function HS(e){let n=e?.[ru]??null;return n||null}function dm(e){return e&&e.hasOwnProperty(Jc)?e[Jc]:null}var ru=Re({\u0275prov:Re}),Jc=Re({\u0275inj:Re}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Em(e){return e&&!!e.\u0275providers}var wm=Re({\u0275cmp:Re}),Dm=Re({\u0275dir:Re}),xm=Re({\u0275pipe:Re}),Mm=Re({\u0275mod:Re}),xa=Re({\u0275fac:Re}),ro=Re({__NG_ELEMENT_ID__:Re}),y_=Re({__NG_ENV_ID__:Re});function io(e){return typeof e=="string"?e:e==null?"":String(e)}function b_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():io(e)}var E_=Re({ngErrorCode:Re}),$S=Re({ngErrorMessage:Re}),zS=Re({ngTokenPath:Re});function Sm(e,n){return w_("",-200,n)}function iu(e,n){throw new x(-201,!1)}function w_(e,n,t){let r=new x(n,e);return r[E_]=n,r[$S]=e,t&&(r[zS]=t),r}function GS(e){return e[E_]}var fm;function D_(){return fm}function zt(e){let n=fm;return fm=e,n}function Im(e,n,t){let r=Ia(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;iu(e,"Injector")}var qS={},Ji=qS,WS="__NG_DI_FLAG__",pm=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=eo(t)||0;try{return this.injector.get(n,r&8?null:Ji,r)}catch(i){if(Jo(i))return i;throw i}}};function ZS(e,n=0){let t=yc();if(t===void 0)throw new x(-203,!1);if(t===null)return Im(e,void 0,n);{let r=KS(n),i=t.retrieve(e,r);if(Jo(i)){if(r.optional)return null;throw i}return i}}function B(e,n=0){return(D_()||ZS)(Ot(e),n)}function D(e,n){return B(e,eo(n))}function eo(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function KS(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function mm(e){let n=[];for(let t=0;t<e.length;t++){let r=Ot(e[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=YS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(B(i,o))}else n.push(B(r))}return n}function YS(e){return e[WS]}function yi(e,n){let t=e.hasOwnProperty(xa);return t?e[xa]:null}function x_(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function M_(e){return e.flat(Number.POSITIVE_INFINITY)}function ou(e,n){e.forEach(t=>Array.isArray(t)?ou(t,n):n(t))}function Tm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Ta(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function S_(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function su(e,n,t){let r=gs(e,n);return r>=0?e[r|1]=t:(r=~r,S_(e,r,n,t)),r}function au(e,n){let t=gs(e,n);if(t>=0)return e[t|1]}function gs(e,n){return QS(e,n,1)}function QS(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Ci={},Gt=[],Ln=new F(""),Pm=new F("",-1),Om=new F(""),Ma=class{get(n,t=Ji){if(t===Ji){let i=w_("",-201);throw i.name="\u0275NotFound",i}return t}};function Am(e){return e[Mm]||null}function Cr(e){return e[wm]||null}function lu(e){return e[Dm]||null}function Nm(e){return e[xm]||null}function Cn(e){return{\u0275providers:e}}function I_(e){return Cn([{provide:Ln,multi:!0,useValue:e}])}function T_(...e){return{\u0275providers:cu(!0,e),\u0275fromNgModule:!0}}function cu(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return ou(n,s=>{let a=s;eu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&P_(i,o),t}function P_(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Rm(i,o=>{n(o,r)})}}function eu(e,n,t,r){if(e=Ot(e),!e)return!1;let i=null,o=dm(e),s=!o&&Cr(e);if(!o&&!s){let l=e.ngModule;if(o=dm(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)eu(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ou(o.imports,f=>{eu(f,n,t,r)&&(c||=[],c.push(f))})}finally{}c!==void 0&&P_(c,n)}if(!a){let c=yi(i)||(()=>new i);n({provide:i,useFactory:c,deps:Gt},i),n({provide:Om,useValue:i,multi:!0},i),n({provide:Ln,useValue:()=>B(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Rm(l,f=>{n(f,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Rm(e,n){for(let t of e)Em(t)&&(t=t.\u0275providers),Array.isArray(t)?Rm(t,n):n(t)}var XS=Re({provide:String,useValue:Re});function O_(e){return e!==null&&typeof e=="object"&&XS in e}function JS(e){return!!(e&&e.useExisting)}function eI(e){return!!(e&&e.useFactory)}function to(e){return typeof e=="function"}function A_(e){return!!e.useClass}var Pa=new F(""),Xc={},__={},um;function Oa(){return um===void 0&&(um=new Ma),um}var rt=class{},no=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,gm(n,s=>this.processProvider(s)),this.records.set(Pm,hs(void 0,this)),i.has("environment")&&this.records.set(rt,hs(void 0,this));let o=this.records.get(Pa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Om,Gt,{self:!0}))}retrieve(n,t){let r=eo(t)||0;try{return this.get(n,Ji,r)}catch(i){if(Jo(i))return i;throw i}}destroy(){Da(this),this._destroyed=!0;let n=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(n)}}onDestroy(n){return Da(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Da(this);let t=yr(this),r=zt(void 0),i;try{return n()}finally{yr(t),zt(r)}}get(n,t=Ji,r){if(Da(this),n.hasOwnProperty(y_))return n[y_](this);let i=eo(r),o,s=yr(this),a=zt(void 0);try{if(!(i&4)){let c=this.records.get(n);if(c===void 0){let f=oI(n)&&Ia(n);f&&this.injectableDefInScope(f)?c=hs(hm(n),Xc):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,i)}let l=i&2?Oa():this.parent;return t=i&8&&t===Ji?null:t,l.get(n,t)}catch(l){let c=GS(l);throw c===-200||c===-201?new x(c,null):l}finally{zt(a),yr(s)}}resolveInjectorInitializers(){let n=ae(null),t=yr(this),r=zt(void 0),i;try{let o=this.get(Ln,Gt,{self:!0});for(let s of o)s()}finally{yr(t),zt(r),ae(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Xr(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Ot(n);let t=to(n)?n:Ot(n&&n.provide),r=nI(n);if(!to(n)&&n.multi===!0){let i=this.records.get(t);i||(i=hs(void 0,Xc,!0),i.factory=()=>mm(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=ae(null);try{if(t.value===__)throw Sm(Xr(n));return t.value===Xc&&(t.value=__,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&iI(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ae(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Ot(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hm(e){let n=Ia(e),t=n!==null?n.factory:yi(e);if(t!==null)return t;if(e instanceof F)throw new x(204,!1);if(e instanceof Function)return tI(e);throw new x(204,!1)}function tI(e){if(e.length>0)throw new x(204,!1);let t=HS(e);return t!==null?()=>t.factory(e):()=>new e}function nI(e){if(O_(e))return hs(void 0,e.useValue);{let n=km(e);return hs(n,Xc)}}function km(e,n,t){let r;if(to(e)){let i=Ot(e);return yi(i)||hm(i)}else if(O_(e))r=()=>Ot(e.useValue);else if(eI(e))r=()=>e.useFactory(...mm(e.deps||[]));else if(JS(e))r=(i,o)=>B(Ot(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ot(e&&(e.useClass||e.provide));if(rI(e))r=()=>new i(...mm(e.deps));else return yi(i)||hm(i)}return r}function Da(e){if(e.destroyed)throw new x(205,!1)}function hs(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function rI(e){return!!e.deps}function iI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function oI(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function gm(e,n){for(let t of e)Array.isArray(t)?gm(t,n):t&&Em(t)?gm(t.\u0275providers,n):n(t)}function Et(e,n){let t;e instanceof no?(Da(e),t=e):t=new pm(e);let r,i=yr(t),o=zt(void 0);try{return n()}finally{yr(i),zt(o)}}function N_(){return D_()!==void 0||yc()!=null}var qt=0,Q=1,le=2,ut=3,Vn=4,jn=5,rn=6,vs=7,dt=8,Bn=9,br=10,Me=11,ys=12,Fm=13,oo=14,Wt=15,bi=16,so=17,Er=18,Aa=19,Lm=20,Qr=21,uu=22,Jr=23,bn=24,ao=25,lo=26,Te=27,R_=1,nr=6,wr=7,Na=8,co=9,ft=10;function En(e){return Array.isArray(e)&&typeof e[R_]=="object"}function wn(e){return Array.isArray(e)&&e[R_]===!0}function Vm(e){return(e.flags&4)!==0}function Dr(e){return e.componentOffset>-1}function Ra(e){return(e.flags&1)===1}function xr(e){return!!e.template}function uo(e){return(e[le]&512)!==0}function Ei(e){return(e[le]&256)===256}var jm="svg",k_="math";function Dn(e){for(;Array.isArray(e);)e=e[qt];return e}function Bm(e,n){return Dn(n[e])}function xn(e,n){return Dn(n[e.index])}function fo(e,n){return e.data[n]}function ka(e,n){return e[n]}function Um(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Un(e,n){let t=n[e];return En(t)?t:t[qt]}function F_(e){return(e[le]&4)===4}function du(e){return(e[le]&128)===128}function L_(e){return wn(e[ut])}function Hn(e,n){return n==null?null:e[n]}function Hm(e){e[so]=0}function $m(e){e[le]&1024||(e[le]|=1024,du(e)&&wi(e))}function V_(e,n){for(;e>0;)n=n[oo],e--;return n}function Fa(e){return!!(e[le]&9216||e[bn]?.dirty)}function fu(e){e[br].changeDetectionScheduler?.notify(8),e[le]&64&&(e[le]|=1024),Fa(e)&&wi(e)}function wi(e){e[br].changeDetectionScheduler?.notify(0);let n=_i(e);for(;n!==null&&!(n[le]&8192||(n[le]|=8192,!du(n)));)n=_i(n)}function zm(e,n){if(Ei(e))throw new x(911,!1);e[Qr]===null&&(e[Qr]=[]),e[Qr].push(n)}function j_(e,n){if(e[Qr]===null)return;let t=e[Qr].indexOf(n);t!==-1&&e[Qr].splice(t,1)}function _i(e){let n=e[ut];return wn(n)?n[ut]:n}function Gm(e){return e[vs]??=[]}function qm(e){return e.cleanup??=[]}function B_(e,n,t,r){let i=Gm(n);i.push(t),e.firstCreatePass&&qm(e).push(r,i.length-1)}var me={lFrame:eC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vm=!1;function U_(){return me.lFrame.elementDepthCount}function H_(){me.lFrame.elementDepthCount++}function Wm(){me.lFrame.elementDepthCount--}function Zm(){return me.bindingsEnabled}function Km(){return me.skipHydrationRootTNode!==null}function Ym(e){return me.skipHydrationRootTNode===e}function $_(e){me.skipHydrationRootTNode=e}function Qm(){me.skipHydrationRootTNode=null}function ie(){return me.lFrame.lView}function Je(){return me.lFrame.tView}function I(e){return me.lFrame.contextLView=e,e[dt]}function T(e){return me.lFrame.contextLView=null,e}function wt(){let e=Xm();for(;e!==null&&e.type===64;)e=e.parent;return e}function Xm(){return me.lFrame.currentTNode}function z_(){let e=me.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function _s(e,n){let t=me.lFrame;t.currentTNode=e,t.isParent=n}function Jm(){return me.lFrame.isParent}function G_(){me.lFrame.isParent=!1}function q_(){return me.lFrame.contextLView}function eh(){return vm}function Cs(e){let n=vm;return vm=e,n}function po(){let e=me.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function W_(){return me.lFrame.bindingIndex}function Z_(e){return me.lFrame.bindingIndex=e}function ei(){return me.lFrame.bindingIndex++}function pu(e){let n=me.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function K_(){return me.lFrame.inI18n}function Y_(e,n){let t=me.lFrame;t.bindingIndex=t.bindingRootIndex=e,mu(n)}function Q_(){return me.lFrame.currentDirectiveIndex}function mu(e){me.lFrame.currentDirectiveIndex=e}function X_(e){let n=me.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function th(){return me.lFrame.currentQueryIndex}function hu(e){me.lFrame.currentQueryIndex=e}function sI(e){let n=e[Q];return n.type===2?n.declTNode:n.type===1?e[jn]:null}function nh(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=sI(o),i===null||(o=o[oo],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=me.lFrame=J_();return r.currentTNode=n,r.lView=e,!0}function gu(e){let n=J_(),t=e[Q];me.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function J_(){let e=me.lFrame,n=e===null?null:e.child;return n===null?eC(e):n}function eC(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function tC(){let e=me.lFrame;return me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var rh=tC;function vu(){let e=tC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nC(e){return(me.lFrame.contextLView=V_(e,me.lFrame.contextLView))[dt]}function Mr(){return me.lFrame.selectedIndex}function Di(e){me.lFrame.selectedIndex=e}function bs(){let e=me.lFrame;return fo(e.tView,e.selectedIndex)}function J(){me.lFrame.currentNamespace=jm}function Pe(){aI()}function aI(){me.lFrame.currentNamespace=null}function ih(){return me.lFrame.currentNamespace}var rC=!0;function yu(){return rC}function ti(e){rC=e}function ym(e,n=null,t=null,r){let i=oh(e,n,t,r);return i.resolveInjectorInitializers(),i}function oh(e,n=null,t=null,r,i=new Set){let o=[t||Gt,T_(e)];return r=r||(typeof e=="object"?void 0:Xr(e)),new no(o,n||Oa(),r||null,i)}var _t=class e{static THROW_IF_NOT_FOUND=Ji;static NULL=new Ma;static create(n,t){if(Array.isArray(n))return ym({name:""},t,n,"");{let r=n.name??"";return ym({name:r},n.parent,n.providers,r)}}static \u0275prov=k({token:e,providedIn:"any",factory:()=>B(Pm)});static __NG_ELEMENT_ID__=-1},Le=new F(""),Vt=(()=>{class e{static __NG_ELEMENT_ID__=lI;static __NG_ENV_ID__=t=>t}return e})(),Sa=class extends Vt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Ei(this._lView)}onDestroy(n){let t=this._lView;return zm(t,n),()=>j_(t,n)}};function lI(){return new Sa(ie())}var Nn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Zt=new F("",{providedIn:"root",factory:()=>{let e=D(rt),n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(Nn),n.handleError(t))}}}),iC={provide:Ln,useValue:()=>void D(Nn),multi:!0},cI=new F("",{providedIn:"root",factory:()=>{let e=D(Le).defaultView;if(!e)return;let n=D(Zt),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),D(Vt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function sh(){return Cn([I_(()=>void D(cI))])}function ah(e){return typeof e=="function"&&e[Ft]!==void 0}function Z(e,n){let[t,r,i]=qp(e,n?.equal),o=t,s=o[Ft];return o.set=r,o.update=i,o.asReadonly=lh.bind(o),o}function lh(){let e=this[Ft];if(e.readonlyFn===void 0){let n=()=>this();n[Ft]=e,e.readonlyFn=n}return e.readonlyFn}function ch(e){return ah(e)&&typeof e.set=="function"}var Es=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=uI}return e})();function uI(){return new Es(ie(),wt())}var Rn=class{},ws=new F("",{providedIn:"root",factory:()=>!1});var uh=new F(""),_u=new F(""),rr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ce(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),mo=(()=>{class e{internalPendingTasks=D(rr);scheduler=D(Rn);errorHandler=D(Zt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})();function ho(...e){}var La=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new _m})}return e})(),_m=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};var Cu={JSACTION:"jsaction"};function Wa(e){return{toString:e}.toString()}function gI(e){return typeof e=="function"}var Nu=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function KC(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var oi=(()=>{let e=()=>YC;return e.ngInherit=!0,e})();function YC(e){return e.type.prototype.ngOnChanges&&(e.setInput=yI),vI}function vI(){let e=XC(this),n=e?.current;if(n){let t=e.previous;if(t===Ci)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function yI(e,n,t,r,i){let o=this.declaredInputs[r],s=XC(e)||_I(e,{previous:Ci,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Nu(c&&c.currentValue,t,l===Ci),KC(e,n,i,t)}var QC="__ngSimpleChanges__";function XC(e){return e[QC]||null}function _I(e,n){return e[QC]=n}var oC=[];var Oe=function(e,n=null,t){for(let r=0;r<oC.length;r++){let i=oC[r];i(e,n,t)}};function CI(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=YC(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function JC(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),f!=null&&(e.destroyHooks??=[]).push(t,f)}}function Mu(e,n,t){eb(e,n,3,t)}function Su(e,n,t,r){(e[le]&3)===t&&eb(e,n,t,r)}function dh(e,n){let t=e[le];(t&3)===n&&(t&=16383,t+=1,e[le]=t)}function eb(e,n,t,r){let i=r!==void 0?e[so]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[so]+=65536),(a<o||o==-1)&&(bI(e,t,n,l),e[so]=(e[so]&4294901760)+l+2),l++}function sC(e,n){Oe(4,e,n);let t=ae(null);try{n.call(e)}finally{ae(t),Oe(5,e,n)}}function bI(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[le]>>14<e[so]>>16&&(e[le]&3)===n&&(e[le]+=16384,sC(a,o)):sC(a,o)}var xs=-1,yo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function EI(e){return(e.flags&8)!==0}function wI(e){return(e.flags&16)!==0}function DI(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];xI(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function tb(e){return e===3||e===4||e===6}function xI(e){return e.charCodeAt(0)===64}function Is(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?aC(e,t,i,null,n[++r]):aC(e,t,i,null,null))}}return e}function aC(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function nb(e){return e!==xs}function Ru(e){return e&32767}function MI(e){return e>>16}function ku(e,n){let t=MI(e),r=n;for(;t>0;)r=r[oo],t--;return r}var xh=!0;function Fu(e){let n=xh;return xh=e,n}var SI=256,rb=SI-1,ib=5,II=0,Sr={};function TI(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ro)&&(r=t[ro]),r==null&&(r=t[ro]=II++);let i=r&rb,o=1<<i;n.data[e+(i>>ib)]|=o}function Lu(e,n){let t=ob(e,n);if(t!==-1)return t;let r=n[Q];r.firstCreatePass&&(e.injectorIndex=n.length,fh(r.data,e),fh(n,null),fh(r.blueprint,null));let i=dg(e,n),o=e.injectorIndex;if(nb(i)){let s=Ru(i),a=ku(i,n),l=a[Q].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function fh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ob(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function dg(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=ub(i),r===null)return xs;if(t++,i=i[oo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xs}function Mh(e,n,t){TI(e,n,t)}function PI(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(tb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function sb(e,n,t){if(t&8||e!==void 0)return e;iu(n,"NodeInjector")}function ab(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[Bn],o=zt(void 0);try{return i?i.get(n,r,t&8):Im(n,r,t&8)}finally{zt(o)}}return sb(r,n,t)}function lb(e,n,t,r=0,i){if(e!==null){if(n[le]&2048&&!(r&2)){let s=RI(e,n,t,r,Sr);if(s!==Sr)return s}let o=cb(e,n,t,r,Sr);if(o!==Sr)return o}return ab(n,t,r,i)}function cb(e,n,t,r,i){let o=AI(t);if(typeof o=="function"){if(!nh(n,e,r))return r&1?sb(i,t,r):ab(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))iu(t);else return s}finally{rh()}}else if(typeof o=="number"){let s=null,a=ob(e,n),l=xs,c=r&1?n[Wt][jn]:null;for((a===-1||r&4)&&(l=a===-1?dg(e,n):n[a+8],l===xs||!cC(r,!1)?a=-1:(s=n[Q],a=Ru(l),n=ku(l,n)));a!==-1;){let f=n[Q];if(lC(o,a,f.data)){let p=OI(a,n,t,s,r,c);if(p!==Sr)return p}l=n[a+8],l!==xs&&cC(r,n[Q].data[a+8]===c)&&lC(o,a,n)?(s=f,a=Ru(l),n=ku(l,n)):a=-1}}return i}function OI(e,n,t,r,i,o){let s=n[Q],a=s.data[e+8],l=r==null?Dr(a)&&xh:r!=s&&(a.type&3)!==0,c=i&1&&o===a,f=Iu(a,s,t,l,c);return f!==null?Ba(n,s,f,a,i):Sr}function Iu(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,f=o>>20,p=r?a:a+f,v=i?a+f:c;for(let g=p;g<v;g++){let y=s[g];if(g<l&&t===y||g>=l&&y.type===t)return g}if(i){let g=s[l];if(g&&xr(g)&&g.type===t)return l}return null}function Ba(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof yo){let a=o;if(a.resolving){let g=b_(s[t]);throw Sm(g)}let l=Fu(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],f,p=a.injectImpl?zt(a.injectImpl):null,v=nh(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&CI(t,s[t],n)}finally{p!==null&&zt(p),Fu(l),a.resolving=!1,rh()}}return o}function AI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ro)?e[ro]:void 0;return typeof n=="number"?n>=0?n&rb:NI:n}function lC(e,n,t){let r=1<<e;return!!(t[n+(e>>ib)]&r)}function cC(e,n){return!(e&2)&&!(e&1&&n)}var vo=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return lb(this._tNode,this._lView,n,eo(r),t)}};function NI(){return new vo(wt(),ie())}function $n(e){return Wa(()=>{let n=e.prototype.constructor,t=n[xa]||Sh(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[xa]||Sh(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sh(e){return Cm(e)?()=>{let n=Sh(Ot(e));return n&&n()}:yi(e)}function RI(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[le]&2048&&!uo(s);){let a=cb(o,s,t,r|2,Sr);if(a!==Sr)return a;let l=o.parent;if(!l){let c=s[Lm];if(c){let f=c.get(t,Sr,r);if(f!==Sr)return f}l=ub(s),s=s[oo]}o=l}return i}function ub(e){let n=e[Q],t=n.type;return t===2?n.declTNode:t===1?e[jn]:null}function Za(e){return PI(wt(),e)}function kI(){return Ns(wt(),ie())}function Ns(e,n){return new At(xn(e,n))}var At=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=kI}return e})();function FI(e){return e instanceof At?e.nativeElement:e}function LI(){return this._results[Symbol.iterator]()}var Vu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new qe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=M_(n);(this._changesDetected=!x_(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=LI},db="ngSkipHydration",VI="ngskiphydration";function fb(e){let n=e.mergedAttrs;if(n===null)return!1;for(let t=0;t<n.length;t+=2){let r=n[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===VI)return!0}return!1}function pb(e){return e.hasAttribute(db)}function ju(e){return(e.flags&128)===128}function mb(e){if(ju(e))return!0;let n=e.parent;for(;n;){if(ju(e)||fb(n))return!0;n=n.parent}return!1}var fg=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(fg||{}),hb=new Map,jI=0;function BI(){return jI++}function UI(e){hb.set(e[Aa],e)}function Ih(e){hb.delete(e[Aa])}var uC="__ngContext__";function Ts(e,n){En(n)?(e[uC]=n[Aa],UI(n)):e[uC]=n}function gb(e){return yb(e[ys])}function vb(e){return yb(e[Vn])}function yb(e){for(;e!==null&&!wn(e);)e=e[Vn];return e}var Th;function pg(e){Th=e}function Ka(){if(Th!==void 0)return Th;if(typeof document<"u")return document;throw new x(210,!1)}var Tr=new F("",{providedIn:"root",factory:()=>HI}),HI="ng",td=new F(""),Pr=new F("",{providedIn:"platform",factory:()=>"unknown"});var nd=new F(""),rd=new F("",{providedIn:"root",factory:()=>Ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function $I(){let e=new wo;return e.store=zI(Ka(),D(Tr)),e}var wo=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:$I});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function zI(e,n){let t=e.getElementById(n+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+n,r)}return{}}var _b="h",Cb="b",GI="f",qI="n",bb="e",Eb="t",id="c",mg="x",Ua="r",wb="i",Db="n",hg="d";var xb="di",Mb="s",Sb="p";var Ya=new F(""),Ib=!1,gg=new F("",{providedIn:"root",factory:()=>Ib});var vg=new F(""),Tb=!1,Pb=new F(""),yg=new F("",{providedIn:"root",factory:()=>new Map}),od=new F("");var Qa="ngb";var Ob=(e,n,t)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(n)??[];o.push(t),i.set(n,o),r.__jsaction_fns=i},Ab=(e,n)=>{let t=e,r=t.getAttribute(Qa)??"",i=n.get(r)??new Set;i.has(t)||i.add(t),n.set(r,i)};var Nb=e=>{e.removeAttribute(Cu.JSACTION),e.removeAttribute(Qa),e.__jsaction_fns=void 0},Rb=new F("",{providedIn:"root",factory:()=>({})});function _g(e,n){let t=n?.__jsaction_fns?.get(e.type);if(!(!t||!n?.isConnected))for(let r of t)r(e)}var Ph=new Map;function kb(e,n){return Ph.set(e,n),()=>Ph.delete(e)}var dC=!1,Fb=(e,n,t,r)=>{};function WI(e,n,t,r){Fb(e,n,t,r)}function Lb(){dC||(Fb=(e,n,t,r)=>{let i=e[Bn].get(Tr);Ph.get(i)?.(n,t,r)},dC=!0)}var sd=new F("");function ad(e){return(e.flags&32)===32}var ZI="__nghData__",Cg=ZI,KI="__nghDeferData__",Vb=KI;var Tu="ngh",jb="nghm",Bb=()=>null;function YI(e,n,t=!1){let r=e.getAttribute(Tu);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,l={};if(r!==""){let f=n.get(wo,null,{optional:!0});f!==null&&(l=f.get(Cg,[])[Number(r)])}let c={data:l,firstChild:e.firstChild??null};return t&&(c.firstChild=e,ld(c,0,e.nextSibling)),a?e.setAttribute(Tu,a):e.removeAttribute(Tu),c}function Ub(){Bb=YI}function Hb(e,n,t=!1){return Bb(e,n,t)}function $b(e){let n=e._lView;return n[Q].type===2?null:(uo(n)&&(n=n[Te]),n)}function QI(e){return e.textContent?.replace(/\s/gm,"")}function XI(e){let n=Ka(),t=n.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=QI(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(n.createTextNode("")):o.remove()}function ld(e,n,t){e.segmentHeads??={},e.segmentHeads[n]=t}function Oh(e,n){return e.segmentHeads?.[n]??null}function zb(e){return e.get(Pb,!1,{optional:!0})}function JI(e,n){let t=e.data,r=t[bb]?.[n]??null;return r===null&&t[id]?.[n]&&(r=bg(e,n)),r}function Gb(e,n){return e.data[id]?.[n]??null}function bg(e,n){let t=Gb(e,n)??[],r=0;for(let i of t)r+=i[Ua]*(i[mg]??1);return r}function eT(e){if(typeof e.disconnectedNodes>"u"){let n=e.data[hg];e.disconnectedNodes=n?new Set(n):null}return e.disconnectedNodes}function qb(e,n){if(typeof e.disconnectedNodes>"u"){let t=e.data[hg];e.disconnectedNodes=t?new Set(t):null}return!!eT(e)?.has(n)}function cd(e,n){let t=e[rn];return t!==null&&!Km()&&!ad(n)&&!qb(t,n.index-Te)}function tT(e,n){let t=n.get(sd),i=n.get(wo).get(Vb,{}),o=!1,s=e,a=null,l=[];for(;!o&&s;){o=t.has(s);let c=t.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=i[s][Sb]}return{parentBlockPromise:a,hydrationQueue:l}}function ph(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===jb}function fC(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function Wb(e){for(let r of e.body.childNodes)if(ph(r))return;let n=fC(e.body.previousSibling);if(ph(n))return;let t=fC(e.head.lastChild);if(!ph(t))throw new x(-507,!1)}function Zb(e,n){let t=e.contentQueries;if(t!==null){let r=ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];hu(o),a.contentQueries(2,n[s],s)}}}finally{ae(r)}}}function Ah(e,n,t){hu(0);let r=ae(null);try{n(e,t)}finally{ae(r)}}function Kb(e,n,t){if(Vm(n)){let r=ae(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ae(r)}}}var ni=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(ni||{}),bu;function nT(){if(bu===void 0&&(bu=null,Fn.trustedTypes))try{bu=Fn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bu}function ud(e){return nT()?.createHTML(e)||e}var Eu;function rT(){if(Eu===void 0&&(Eu=null,Fn.trustedTypes))try{Eu=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Eu}function pC(e){return rT()?.createScriptURL(e)||e}var ri=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tu})`}},Nh=class extends ri{getTypeName(){return"HTML"}},Rh=class extends ri{getTypeName(){return"Style"}},kh=class extends ri{getTypeName(){return"Script"}},Fh=class extends ri{getTypeName(){return"URL"}},Lh=class extends ri{getTypeName(){return"ResourceURL"}};function zn(e){return e instanceof ri?e.changingThisBreaksApplicationSecurity:e}function si(e,n){let t=Yb(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${tu})`)}return t===n}function Yb(e){return e instanceof ri&&e.getTypeName()||null}function Eg(e){return new Nh(e)}function wg(e){return new Rh(e)}function Dg(e){return new kh(e)}function xg(e){return new Fh(e)}function Mg(e){return new Lh(e)}function iT(e){let n=new jh(e);return oT()?new Vh(n):n}var Vh=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(ud(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},jh=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=ud(n),t}};function oT(){try{return!!new window.DOMParser().parseFromString(ud(""),"text/html")}catch{return!1}}var sT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xa(e){return e=String(e),e.match(sT)?e:"unsafe:"+e}function ai(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Ja(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var Qb=ai("area,br,col,hr,img,wbr"),Xb=ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jb=ai("rp,rt"),aT=Ja(Jb,Xb),lT=Ja(Xb,ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cT=Ja(Jb,ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mC=Ja(Qb,lT,cT,aT),eE=ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uT=ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dT=ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fT=Ja(eE,uT,dT),pT=ai("script,style,template"),Bh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=gT(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=hT(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=hC(n).toLowerCase();if(!mC.hasOwnProperty(t))return this.sanitizedSomething=!0,!pT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!fT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;eE[a]&&(l=Xa(l)),this.buf.push(" ",s,'="',gC(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=hC(n).toLowerCase();mC.hasOwnProperty(t)&&!Qb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(gC(n))}};function mT(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function hT(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw tE(n);return n}function gT(e){let n=e.firstChild;if(n&&mT(e,n))throw tE(n);return n}function hC(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function tE(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var vT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yT=/([^\#-~ |!])/g;function gC(e){return e.replace(/&/g,"&amp;").replace(vT,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(yT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wu;function Sg(e,n){let t=null;try{wu=wu||iT(e);let r=n?String(n):"";t=wu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=wu.getInertBodyElement(r)}while(r!==o);let a=new Bh().sanitizeChildren(vC(t)||t);return ud(a)}finally{if(t){let r=vC(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function vC(e){return"content"in e&&_T(e)?e.content:null}function _T(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var sr=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(sr||{});function it(e){let n=nE();return n?n.sanitize(sr.URL,e)||"":si(e,"URL")?zn(e):Xa(io(e))}function Rs(e){let n=nE();if(n)return pC(n.sanitize(sr.RESOURCE_URL,e)||"");if(si(e,"ResourceURL"))return pC(zn(e));throw new x(904,!1)}function CT(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Rs:it}function Ig(e,n,t){return CT(n,t)(e)}function nE(){let e=ie();return e&&e[br].sanitizer}var bT=/^>|^->|<!--|-->|--!>|<!-$/g,ET=/(<|>)/g,wT="\u200B$1\u200B";function DT(e){return e.replace(bT,n=>n.replace(ET,wT))}function rE(e){return e.ownerDocument.body}function iE(e){return e instanceof Function?e():e}function xT(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var oE="ng-template";function MT(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&xT(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Tg(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Tg(e){return e.type===4&&e.value!==oE}function ST(e,n,t){let r=e.type===4&&!t?oE:e.value;return n===r}function IT(e,n,t){let r=4,i=e.attrs,o=i!==null?OT(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ir(r)&&!ir(l))return!1;if(s&&ir(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!ST(e,l,t)||l===""&&n.length===1){if(ir(r))return!1;s=!0}}else if(r&8){if(i===null||!MT(e,i,l,t)){if(ir(r))return!1;s=!0}}else{let c=n[++a],f=TT(l,i,Tg(e),t);if(f===-1){if(ir(r))return!1;s=!0;continue}if(c!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&c!==p){if(ir(r))return!1;s=!0}}}}return ir(r)||s}function ir(e){return(e&1)===0}function TT(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AT(n,e)}function PT(e,n,t=!1){for(let r=0;r<n.length;r++)if(IT(e,n[r],t))return!0;return!1}function OT(e){for(let n=0;n<e.length;n++){let t=e[n];if(tb(t))return n}return e.length}function AT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function yC(e,n){return e?":not("+n.trim()+")":n}function NT(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ir(s)&&(n+=yC(o,i),i=""),r=s,o=o||!ir(r);t++}return i!==""&&(n+=yC(o,i)),n}function RT(e){return e.map(NT).join(",")}function kT(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!ir(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Kt={};function sE(e,n){return e.createText(n)}function FT(e,n,t){e.setValue(n,t)}function aE(e,n){return e.createComment(DT(n))}function Pg(e,n,t){return e.createElement(n,t)}function Bu(e,n,t,r,i){e.insertBefore(n,t,r,i)}function lE(e,n,t){e.appendChild(n,t)}function _C(e,n,t,r,i){r!==null?Bu(e,n,t,r,i):lE(e,n,t)}function Og(e,n,t,r){e.removeChild(null,n,t,r)}function cE(e){e.textContent=""}function LT(e,n,t){e.setAttribute(n,"style",t)}function VT(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function uE(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&DI(e,n,r),i!==null&&VT(e,n,i),o!==null&&LT(e,n,o)}function Ag(e,n,t,r,i,o,s,a,l,c,f){let p=Te+r,v=p+i,g=jT(p,v),y=typeof c=="function"?c():c;return g[Q]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:f}}function jT(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Kt);return t}function BT(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Ag(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ng(e,n,t,r,i,o,s,a,l,c,f){let p=n.blueprint.slice();return p[qt]=i,p[le]=r|4|128|8|64|1024,(c!==null||e&&e[le]&2048)&&(p[le]|=2048),Hm(p),p[ut]=p[oo]=e,p[dt]=t,p[br]=s||e&&e[br],p[Me]=a||e&&e[Me],p[Bn]=l||e&&e[Bn]||null,p[jn]=o,p[Aa]=BI(),p[rn]=f,p[Lm]=c,p[Wt]=n.type==2?e[Wt]:p,p}function UT(e,n,t){let r=xn(n,e),i=BT(t),o=e[br].rendererFactory,s=Rg(e,Ng(e,i,null,dE(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function dE(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function fE(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Rg(e,n){return e[ys]?e[Fm][Vn]=n:e[ys]=n,e[Fm]=n,n}function h(e=1){pE(Je(),ie(),Mr()+e,!1)}function pE(e,n,t,r){if(!r)if((n[le]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Mu(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Su(n,o,0,t)}Di(t)}var dd=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(dd||{});function Uh(e,n,t,r){let i=ae(null);try{let[o,s,a]=e.inputs[t],l=null;(s&dd.SignalBased)!==0&&(l=n[o][Ft]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):KC(n,l,o,r)}finally{ae(i)}}var Ir=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Ir||{}),HT;function kg(e,n){return HT(e,n)}var Ps=new Set,fd=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(fd||{}),Do=new F(""),CC=new Set;function Nt(e){CC.has(e)||(CC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var mE=!1,Hh=class extends qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,N_()&&(this.destroyRef=D(Vt,{optional:!0})??void 0,this.pendingTasks=D(rr,{optional:!0})??void 0)}emit(n){let t=ae(null);try{super.next(n)}finally{ae(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof ht&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=Hh;function hE(e){let n,t;function r(){e=ho;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function bC(e){return queueMicrotask(()=>e()),()=>{e=ho}}var Fg="isAngularZone",Uu=Fg+"_ID",$T=0,$e=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mE}=n;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,zT,ho,ho);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},zT={};function Lg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function GT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){hE(()=>{e.callbackScheduled=!1,$h(e),e.isCheckStableRunning=!0,Lg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),$h(e)}function qT(e){let n=()=>{GT(e)},t=$T++;e._inner=e._inner.fork({name:"angular",properties:{[Fg]:!0,[Uu]:t,[Uu+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(WT(l))return r.invokeTask(o,s,a,l);try{return EC(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),wC(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return EC(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ZT(l)&&n(),wC(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,$h(e),Lg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function $h(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function EC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wC(e){e._nesting--,Lg(e)}var Ha=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function WT(e){return gE(e,"__ignore_ng_zone__")}function ZT(e){return gE(e,"__scheduler_tick__")}function gE(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Vg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),vE=[0,1,2,3],yE=(()=>{class e{ngZone=D($e);scheduler=D(Rn);errorHandler=D(Nn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(Do,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Oe(16),this.executing=!0;for(let r of vE)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Oe(17)}register(t){let{view:r}=t;r!==void 0?((r[ao]??=[]).push(t),wi(r),r[le]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(fd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),Hu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[ao];n&&(this.view[ao]=n.filter(t=>t!==this))}};function ks(e,n){let t=n?.injector??D(_t);return Nt("NgAfterNextRender"),YT(e,t,n,!0)}function KT(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function YT(e,n,t,r){let i=n.get(Vg);i.impl??=n.get(yE);let o=n.get(Do,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(Vt):null,a=n.get(Es,null,{optional:!0}),l=new Hu(i.impl,KT(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var QT=new F("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function _E(e,n){let t=e.get(QT);if(Array.isArray(n))for(let r of n)t.queue.add(r);else t.queue.add(n);t.scheduler&&t.scheduler(e)}function XT(e,n){for(let[t,r]of n)_E(e,r.animateFns)}function DC(e,n,t,r){let i=e?.[lo]?.enter;n!==null&&i&&i.has(t.index)&&XT(r,i)}function Ds(e,n,t,r,i,o,s,a){if(i!=null){let l,c=!1;wn(i)?l=i:En(i)&&(c=!0,i=i[qt]);let f=Dn(i);e===0&&r!==null?(DC(a,r,o,t),s==null?lE(n,r,f):Bu(n,r,f,s||null,!0)):e===1&&r!==null?(DC(a,r,o,t),Bu(n,r,f,s||null,!0)):e===2?xC(a,o,t,p=>{Og(n,f,c,p)}):e===3&&xC(a,o,t,()=>{n.destroyNode(f)}),l!=null&&dP(n,e,t,l,o,r,s)}}function JT(e,n){CE(e,n),n[qt]=null,n[jn]=null}function eP(e,n,t,r,i,o){r[qt]=i,r[jn]=n,md(e,r,t,1,i,o)}function CE(e,n){n[br].changeDetectionScheduler?.notify(9),md(e,n,n[Me],2,null,null)}function tP(e){let n=e[ys];if(!n)return mh(e[Q],e);for(;n;){let t=null;if(En(n))t=n[ys];else{let r=n[ft];r&&(t=r)}if(!t){for(;n&&!n[Vn]&&n!==e;)En(n)&&mh(n[Q],n),n=n[ut];n===null&&(n=e),En(n)&&mh(n[Q],n),t=n&&n[Vn]}n=t}}function jg(e,n){let t=e[co],r=t.indexOf(n);t.splice(r,1)}function pd(e,n){if(Ei(n))return;let t=n[Me];t.destroyNode&&md(e,n,t,3,null,null),tP(n)}function mh(e,n){if(Ei(n))return;let t=ae(null);try{n[le]&=-129,n[le]|=256,n[bn]&&Wi(n[bn]),iP(e,n),rP(e,n),n[Q].type===1&&n[Me].destroy();let r=n[bi];if(r!==null&&wn(n[ut])){r!==n[ut]&&jg(r,n);let i=n[Er];i!==null&&i.detachView(e)}Ih(n)}finally{ae(t)}}function xC(e,n,t,r){let i=e?.[lo];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);e&&Ps.add(e),_E(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s)for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:f}=c();a.push(f)}i.running=Promise.allSettled(a),nP(e,r)}else e&&Ps.delete(e),r(!1)})}function nP(e,n){let t=e[lo]?.running;if(t){t.then(()=>{e[lo].running=void 0,Ps.delete(e),n(!0)});return}n(!1)}function rP(e,n){let t=e.cleanup,r=n[vs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[vs]=null);let i=n[Qr];if(i!==null){n[Qr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Jr];if(o!==null){n[Jr]=null;for(let s of o)s.destroy()}}function iP(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof yo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Oe(4,a,l);try{l.call(a)}finally{Oe(5,a,l)}}else{Oe(4,i,o);try{o.call(i)}finally{Oe(5,i,o)}}}}}function oP(e,n,t){return sP(e,n.parent,t)}function sP(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[qt];if(Dr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===ni.None||i===ni.Emulated)return null}return xn(r,t)}function aP(e,n,t){return cP(e,n,t)}function lP(e,n,t){return e.type&40?xn(e,t):null}var cP=lP,MC;function Bg(e,n,t,r){let i=oP(e,r,n),o=n[Me],s=r.parent||n[jn],a=aP(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)_C(o,i,t[l],a,!1);else _C(o,i,t,a,!1);MC!==void 0&&MC(o,r,n,t,i)}function Va(e,n){if(n!==null){let t=n.type;if(t&3)return xn(n,e);if(t&4)return zh(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Va(e,r);{let i=e[n.index];return wn(i)?zh(-1,i):Dn(i)}}else{if(t&128)return Va(e,n.next);if(t&32)return kg(n,e)()||Dn(e[n.index]);{let r=bE(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(e[Wt]);return Va(i,r)}else return Va(e,n.next)}}}return null}function bE(e,n){if(n!==null){let r=e[Wt][jn],i=n.projection;return r.projection[i]}return null}function zh(e,n){let t=ft+e+1;if(t<n.length){let r=n[t],i=r[Q].firstChild;if(i!==null)return Va(r,i)}return n[wr]}function Ug(e,n,t,r,i,o,s){for(;t!=null;){let a=r[Bn];if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&n===0&&(l&&Ts(Dn(l),r),t.flags|=2),!ad(t))if(c&8)Ug(e,n,t.child,r,i,o,!1),Ds(n,e,a,i,l,t,o,r);else if(c&32){let f=kg(t,r),p;for(;p=f();)Ds(n,e,a,i,p,t,o,r);Ds(n,e,a,i,l,t,o,r)}else c&16?uP(e,n,r,t,i,o):Ds(n,e,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function md(e,n,t,r,i,o){Ug(t,r,e.firstChild,n,i,o,!1)}function uP(e,n,t,r,i,o){let s=t[Wt],l=s[jn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];Ds(n,e,t[Bn],i,f,r,o,t)}else{let c=l,f=s[ut];ju(r)&&(c.flags|=128),Ug(e,n,c,f,i,o,!0)}}function dP(e,n,t,r,i,o,s){let a=r[wr],l=Dn(r);a!==l&&Ds(n,e,t,o,a,i,s);for(let c=ft;c<r.length;c++){let f=r[c];md(f[Q],f,e,n,o,a)}}function fP(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),e.setStyle(t,r,i,o))}}function EE(e,n,t,r,i){let o=Mr(),s=r&2;try{Di(-1),s&&n.length>Te&&pE(e,n,Te,!1),Oe(s?2:0,i,t),t(r,i)}finally{Di(o),Oe(s?3:1,i,t)}}function Hg(e,n,t){vP(e,n,t),(t.flags&64)===64&&yP(e,n,t)}function hd(e,n,t=xn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function pP(e,n,t,r){let o=r.get(gg,Ib)||t===ni.ShadowDom,s=e.selectRootElement(n,o);return mP(s),s}function mP(e){wE(e)}var wE=()=>null;function hP(e){pb(e)?cE(e):XI(e)}function DE(){wE=hP}function gP(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function xE(e,n,t,r,i,o){let s=n[Q];if(gd(e,s,n,t,r)){Dr(e)&&SE(n,e.index);return}e.type&3&&(t=gP(t)),ME(e,n,t,r,i,o)}function ME(e,n,t,r,i,o){if(e.type&3){let s=xn(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function SE(e,n){let t=Un(n,e);t[le]&16||(t[le]|=64)}function vP(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Dr(t)&&UT(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Lu(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ba(n,e,s,t);if(Ts(l,n),o!==null&&bP(n,s-r,l,a,t,o),xr(a)){let c=Un(t.index,n);c[dt]=Ba(n,e,s,t)}}}function yP(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Q_();try{Di(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];mu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&_P(l,c)}}finally{Di(-1),mu(s)}}function _P(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function IE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];PT(n,o.selectors,!1)&&(r??=[],xr(o)?r.unshift(o):r.push(o))}return r}function CP(e,n,t,r,i,o){let s=xn(e,n);TE(n[Me],s,o,e.value,t,r,i)}function TE(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?io(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function bP(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Uh(r,t,l,c)}}function PE(e,n,t,r,i){let o=Te+t,s=n[Q],a=i(s,n,e,r,t);n[o]=a,_s(e,!0);let l=e.type===2;return l?(uE(n[Me],a,e),(U_()===0||Ra(e))&&Ts(a,n),H_()):Ts(a,n),yu()&&(!l||!ad(e))&&Bg(s,n,a,e),e}function OE(e){let n=e;return Jm()?G_():(n=n.parent,_s(n,!1)),n}function $g(e,n){let t=e[Bn];if(!t)return;let r;try{r=t.get(Zt,null)}catch{r=null}r?.(n)}function gd(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],f=s[l+1],p=n.data[c];Uh(p,t[c],f,i),a=!0}if(o)for(let l of o){let c=t[l],f=n.data[l];Uh(f,c,r,i),a=!0}return a}function EP(e,n){let t=Un(n,e),r=t[Q];wP(r,t);let i=t[qt];i!==null&&t[rn]===null&&(t[rn]=Hb(i,t[Bn])),Oe(18),zg(r,t,t[dt]),Oe(19,t[dt])}function wP(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function zg(e,n,t){gu(n);try{let r=e.viewQuery;r!==null&&Ah(1,r,t);let i=e.template;i!==null&&EE(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Er]?.finishViewCreation(e),e.staticContentQueries&&Zb(e,n),e.staticViewQueries&&Ah(2,e.viewQuery,t);let o=e.components;o!==null&&DP(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[le]&=-5,vu()}}function DP(e,n){for(let t=0;t<n.length;t++)EP(e,n[t])}function el(e,n,t,r){let i=ae(null);try{let o=n.tView,a=e[le]&4096?4096:16,l=Ng(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[bi]=c;let f=e[Er];return f!==null&&(l[Er]=f.createEmbeddedView(o)),zg(o,l,t),l}finally{ae(i)}}function Os(e,n){return!n||n.firstChild===null||ju(e)}function $a(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Dn(o)),wn(o)&&AE(o,r);let s=t.type;if(s&8)$a(e,n,t.child,r);else if(s&32){let a=kg(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=bE(n,t);if(Array.isArray(a))r.push(...a);else{let l=_i(n[Wt]);$a(l[Q],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function AE(e,n){for(let t=ft;t<e.length;t++){let r=e[t],i=r[Q].firstChild;i!==null&&$a(r[Q],r,i,n)}e[wr]!==e[qt]&&n.push(e[wr])}function NE(e){if(e[ao]!==null){for(let n of e[ao])n.impl.addSequence(n);e[ao].length=0}}var RE=[];function xP(e){return e[bn]??MP(e)}function MP(e){let n=RE.pop()??Object.create(IP);return n.lView=e,n}function SP(e){e.lView[bn]!==e&&(e.lView=null,RE.push(e))}var IP=Y(S({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wi(e.lView)},consumerOnSignalRead(){this.lView[bn]=this}});function TP(e){let n=e[bn]??Object.create(PP);return n.lView=e,n}var PP=Y(S({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=_i(e.lView);for(;n&&!kE(n[Q]);)n=_i(n);n&&$m(n)},consumerOnSignalRead(){this.lView[bn]=this}});function kE(e){return e.type!==2}function FE(e){if(e[Jr]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Jr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[le]&8192)}}var OP=100;function LE(e,n=0){let r=e[br].rendererFactory,i=!1;i||r.begin?.();try{AP(e,n)}finally{i||r.end?.()}}function AP(e,n){let t=eh();try{Cs(!0),Gh(e,n);let r=0;for(;Fa(e);){if(r===OP)throw new x(103,!1);r++,Gh(e,1)}}finally{Cs(t)}}function NP(e,n,t,r){if(Ei(n))return;let i=n[le],o=!1,s=!1;gu(n);let a=!0,l=null,c=null;o||(kE(e)?(c=xP(n),l=qi(c)):wc()===null?(a=!1,c=TP(n),l=qi(c)):n[bn]&&(Wi(n[bn]),n[bn]=null));try{Hm(n),Z_(e.bindingStartIndex),t!==null&&EE(e,n,t,2,r);let f=(i&3)===3;if(!o)if(f){let g=e.preOrderCheckHooks;g!==null&&Mu(n,g,null)}else{let g=e.preOrderHooks;g!==null&&Su(n,g,0,null),dh(n,0)}if(s||RP(n),FE(n),VE(n,0),e.contentQueries!==null&&Zb(e,n),!o)if(f){let g=e.contentCheckHooks;g!==null&&Mu(n,g)}else{let g=e.contentHooks;g!==null&&Su(n,g,1),dh(n,1)}FP(e,n);let p=e.components;p!==null&&BE(n,p,0);let v=e.viewQuery;if(v!==null&&Ah(2,v,r),!o)if(f){let g=e.viewCheckHooks;g!==null&&Mu(n,g)}else{let g=e.viewHooks;g!==null&&Su(n,g,2),dh(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[uu]){for(let g of n[uu])g();n[uu]=null}o||(NE(n),n[le]&=-73)}catch(f){throw o||wi(n),f}finally{c!==null&&(ts(c,l),a&&SP(c)),vu()}}function VE(e,n){for(let t=gb(e);t!==null;t=vb(t))for(let r=ft;r<t.length;r++){let i=t[r];jE(i,n)}}function RP(e){for(let n=gb(e);n!==null;n=vb(n)){if(!(n[le]&2))continue;let t=n[co];for(let r=0;r<t.length;r++){let i=t[r];$m(i)}}}function kP(e,n,t){Oe(18);let r=Un(n,e);jE(r,t),Oe(19,r[dt])}function jE(e,n){du(e)&&Gh(e,n)}function Gh(e,n){let r=e[Q],i=e[le],o=e[bn],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&ns(o)),s||=!1,o&&(o.dirty=!1),e[le]&=-9217,s)NP(r,e,r.template,e[dt]);else if(i&8192){let a=ae(null);try{FE(e),VE(e,1);let l=r.components;l!==null&&BE(e,l,1),NE(e)}finally{ae(a)}}}function BE(e,n,t){for(let r=0;r<n.length;r++)kP(e,n[r],t)}function FP(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Di(~i);else{let o=i,s=t[++r],a=t[++r];Y_(s,o);let l=n[o];Oe(24,l),a(2,l),Oe(25,l)}}}finally{Di(-1)}}function vd(e,n){let t=eh()?64:1088;for(e[br].changeDetectionScheduler?.notify(n);e;){e[le]|=t;let r=_i(e);if(uo(e)&&!r)return e;e=r}return null}function UE(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function HE(e,n){let t=ft+n;if(t<e.length)return e[t]}function tl(e,n,t,r=!0){let i=n[Q];if(LP(i,n,e,t),r){let s=zh(t,e),a=n[Me],l=a.parentNode(e[wr]);l!==null&&eP(i,e[jn],a,n,l,s)}let o=n[rn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Gg(e,n){let t=za(e,n);return t!==void 0&&pd(t[Q],t),t}function za(e,n){if(e.length<=ft)return;let t=ft+n,r=e[t];if(r){let i=r[bi];i!==null&&i!==e&&jg(i,r),n>0&&(e[t-1][Vn]=r[Vn]);let o=Ta(e,ft+n);JT(r[Q],r);let s=o[Er];s!==null&&s.detachView(o[Q]),r[ut]=null,r[Vn]=null,r[le]&=-129}return r}function LP(e,n,t,r){let i=ft+r,o=t.length;r>0&&(t[i-1][Vn]=n),r<o-ft?(n[Vn]=t[i],Tm(t,ft+r,n)):(t.push(n),n[Vn]=null),n[ut]=t;let s=n[bi];s!==null&&t!==s&&$E(s,n);let a=n[Er];a!==null&&a.insertView(e),fu(n),n[le]|=128}function $E(e,n){let t=e[co],r=n[ut];if(En(r))e[le]|=2;else{let i=r[ut][Wt];n[Wt]!==i&&(e[le]|=2)}t===null?e[co]=[n]:t.push(n)}var xi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[Q];return $a(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[dt]}set context(n){this._lView[dt]=n}get destroyed(){return Ei(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ut];if(wn(n)){let t=n[Na],r=t?t.indexOf(this):-1;r>-1&&(za(n,r),Ta(t,r))}this._attachedToViewContainer=!1}pd(this._lView[Q],this._lView)}onDestroy(n){zm(this._lView,n)}markForCheck(){vd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){fu(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,LE(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=uo(this._lView),t=this._lView[bi];t!==null&&!n&&jg(t,this._lView),CE(this._lView[Q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=n;let t=uo(this._lView),r=this._lView[bi];r!==null&&!t&&$E(r,this._lView),fu(this._lView)}};var _o=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=VP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=el(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new xi(o)}}return e})();function VP(){return qg(wt(),ie())}function qg(e,n){return e.type&4?new _o(n,e,Ns(e,n)):null}function nl(e,n,t,r,i){let o=e.data[n];if(o===null)o=jP(e,n,t,r,i),K_()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=z_();o.injectorIndex=s===null?-1:s.injectorIndex}return _s(o,!0),o}function jP(e,n,t,r,i){let o=Xm(),s=Jm(),a=s?o:o&&o.parent,l=e.data[n]=UP(e,a,t,n,r,i);return BP(e,l,o,s),l}function BP(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function UP(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Km()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var HP=new RegExp(`^(\\d+)*(${Cb}|${_b})*(.*)`);function $P(e){let n=e.match(HP),[t,r,i,o]=n,s=r?parseInt(r,10):i,a=[];for(let[l,c,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;a.push(c,p)}return[s,...a]}function zP(e){return!e.prev&&e.parent?.type===8}function hh(e){return e.index-Te}function GP(e,n){let t=e.i18nNodes;if(t)return t.get(n)}function yd(e,n,t,r){let i=hh(r),o=GP(e,i);if(o===void 0){let s=e.data[Db];if(s?.[i])o=WP(s[i],t);else if(n.firstChild===r)o=e.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(zP(r)){let c=hh(r.parent);o=Oh(e,c)}else{let c=xn(l,t);if(a)o=c.firstChild;else{let f=hh(l),p=Oh(e,f);if(l.type===2&&p){let g=bg(e,f)+1;o=_d(g,p)}else o=c.nextSibling}}}}return o}function _d(e,n){let t=n;for(let r=0;r<e;r++)t=t.nextSibling;return t}function qP(e,n){let t=e;for(let r=0;r<n.length;r+=2){let i=n[r],o=n[r+1];for(let s=0;s<o;s++)switch(i){case GI:t=t.firstChild;break;case qI:t=t.nextSibling;break}}return t}function WP(e,n){let[t,...r]=$P(e),i;if(t===_b)i=n[Wt][qt];else if(t===Cb)i=rE(n[Wt][qt]);else{let o=Number(t);i=Dn(n[o+Te])}return qP(i,r)}var ZP=!1;function zE(e){ZP=e}function KP(e){let n=e[rn];if(n){let{i18nNodes:t,dehydratedIcuData:r}=n;if(t&&r){let i=e[Me];for(let o of r.values())YP(i,t,o)}n.i18nNodes=void 0,n.dehydratedIcuData=void 0}}function YP(e,n,t){for(let r of t.node.cases[t.case]){let i=n.get(r.index-Te);i&&Og(e,i,!1)}}function Cd(e){let n=e[nr]??[],r=e[ut][Me],i=[];for(let o of n)o.data[xb]!==void 0?i.push(o):GE(o,r);e[nr]=i}function QP(e){let{lContainer:n}=e,t=n[nr];if(t===null)return;let i=n[ut][Me];for(let o of t)GE(o,i)}function GE(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[Ua];for(;t<i;){let o=r.nextSibling;Og(n,r,!1),r=o,t++}}}function bd(e){Cd(e);let n=e[qt];En(n)&&$u(n);for(let t=ft;t<e.length;t++)$u(e[t])}function $u(e){KP(e);let n=e[Q];for(let t=Te;t<n.bindingStartIndex;t++)if(wn(e[t])){let r=e[t];bd(r)}else En(e[t])&&$u(e[t])}function Wg(e){let n=e._views;for(let t of n){let r=$b(t);r!==null&&r[qt]!==null&&(En(r)?$u(r):bd(r))}}function XP(e,n,t,r){e!==null&&(t.cleanup(n),bd(e.lContainer),Wg(r))}function JP(e,n){let t=[];for(let r of n)for(let i=0;i<(r[mg]??1);i++){let o={data:r,firstChild:null};r[Ua]>0&&(o.firstChild=e,e=_d(r[Ua],e)),t.push(o)}return[e,t]}var qE=()=>null,WE=()=>null;function ZE(){qE=eO,WE=tO}function eO(e,n){return YE(e,n)?e[nr].shift():(Cd(e),null)}function zu(e,n){return qE(e,n)}function tO(e,n,t){if(n.tView.ssrId===null)return null;let r=zu(e,n.tView.ssrId);return t[Q].firstUpdatePass&&r===null&&nO(t,n),r}function KE(e,n,t){return WE(e,n,t)}function nO(e,n){let t=n;for(;t;){if(SC(e,t))return;if((t.flags&256)===256)break;t=t.prev}for(t=n.next;t&&(t.flags&512)===512;){if(SC(e,t))return;t=t.next}}function YE(e,n){let t=e[nr];return!n||t===null||t.length===0?!1:t[0].data[wb]===n}function SC(e,n){let t=n.tView?.ssrId;if(t==null)return!1;let r=e[n.index];return wn(r)&&YE(r,t)?(Cd(r),!0):!1}var QE=class{},Ed=class{},qh=class{resolveComponentFactory(n){throw new x(917,!1)}},rl=class{static NULL=new qh},ii=class{},ar=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>rO()}return e})();function rO(){let e=ie(),n=wt(),t=Un(n.index,e);return(En(t)?t:e)[Me]}var XE=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>null})}return e})();var Pu={},Ms=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Pu,r);return i!==Pu||t===Pu?i:this.parentInjector.get(n,t,r)}};function Gu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=nu(i,a);else if(o==2){let l=a,c=n[++s];r=nu(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function H(e,n=0){let t=ie();if(t===null)return B(e,n);let r=wt();return lb(r,t,Ot(e),n)}function Zg(){let e="invalid";throw new Error(e)}function JE(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,l=null,c=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,l,c]=f.resolveHostDirectives(s);break}sO(e,n,t,a,o,l,c)}o!==null&&r!==null&&iO(t,r,o)}function iO(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new x(-301,!1);r.push(n[i],o)}}function oO(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function sO(e,n,t,r,i,o,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let g=r[v];!l&&xr(g)&&(l=!0,oO(e,t,v)),Mh(Lu(t,n),e,g.type)}fO(t,e.data.length,a);for(let v=0;v<a;v++){let g=r[v];g.providersResolver&&g.providersResolver(g)}let c=!1,f=!1,p=fE(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let g=r[v];if(t.mergedAttrs=Is(t.mergedAttrs,g.hostAttrs),lO(e,t,n,p,g),dO(p,g,i),s!==null&&s.has(g)){let[_,b]=s.get(g);t.directiveToIndex.set(g.type,[p,_+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let y=g.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!f&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}aO(e,t,o)}function aO(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))IC(0,n,i,r),IC(1,n,i,r),PC(n,r,!1);else{let o=t.get(i);TC(0,n,o,r),TC(1,n,o,r),PC(n,r,!0)}}}function IC(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),ew(n,o)}}function TC(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ew(n,s)}}function ew(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function PC(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Tg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let f of c)if(f===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let f=0;f<c.length;f+=2)if(c[f]===n){s??=[],s.push(c[f+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function lO(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=yi(i.type,!0)),s=new yo(o,xr(i),H,null);e.blueprint[r]=s,t[r]=s,cO(e,n,r,fE(e,t,i.hostVars,Kt),i)}function cO(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;uO(s)!=a&&s.push(a),s.push(t,r,o)}}function uO(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function dO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;xr(n)&&(t[""]=e)}}function fO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function tw(e,n,t,r,i,o,s,a){let l=n[Q],c=l.consts,f=Hn(c,s),p=nl(l,e,t,r,f);return o&&JE(l,n,p,Hn(c,a),i),p.mergedAttrs=Is(p.mergedAttrs,p.attrs),p.attrs!==null&&Gu(p,p.attrs,!1),p.mergedAttrs!==null&&Gu(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function nw(e,n){JC(e,n),Vm(n)&&e.queries.elementEnd(n)}function pO(e,n,t,r,i,o){let s=n.consts,a=Hn(s,i),l=nl(n,e,t,r,a);if(l.mergedAttrs=Is(l.mergedAttrs,l.attrs),o!=null){let c=Hn(s,o);l.localNames=[];for(let f=0;f<c.length;f+=2)l.localNames.push(c[f],-1)}return l.attrs!==null&&Gu(l,l.attrs,!1),l.mergedAttrs!==null&&Gu(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function wd(e,n,t){return e[n]=t}function mO(e,n){return e[n]}function on(e,n,t){if(t===Kt)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Kg(e,n,t,r){let i=on(e,n,t);return on(e,n+1,r)||i}function hO(e,n,t,r,i){let o=Kg(e,n,t,r);return on(e,n+2,i)||o}function Ou(e,n,t){return function r(i){let o=Dr(e)?Un(e.index,n):n;vd(o,5);let s=n[dt],a=OC(n,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=OC(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function OC(e,n,t,r){let i=ae(null);try{return Oe(6,n,t),t(r)!==!1}catch(o){return $g(e,o),!1}finally{Oe(7,n,t),ae(i)}}function rw(e,n,t,r,i,o,s,a){let l=Ra(e),c=!1,f=null;if(!r&&l&&(f=vO(n,t,o,e.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,c=!0}else{let p=xn(e,t),v=r?r(p):p;WI(t,v,o,a);let g=i.listen(v,o,a);if(!gO(o)){let y=r?_=>r(Dn(_[e.index])):e.index;iw(y,n,t,o,a,g,!1)}}return c}function gO(e){return e.startsWith("animation")||e.startsWith("transition")}function vO(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[vs],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function iw(e,n,t,r,i,o,s){let a=n.firstCreatePass?qm(n):null,l=Gm(t),c=l.length;l.push(i,o),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function AC(e,n,t,r,i,o){let s=n[t],a=n[Q],c=a.data[t].outputs[r],p=s[c].subscribe(o);iw(e.index,a,n,i,o,p,!0)}var Wh=Symbol("BINDING");var qu=class extends rl{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Cr(n);return new Co(t,this.ngModule)}};function yO(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function _O(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function CO(e,n,t){let r=n instanceof rt?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ms(t,r):t}function bO(e){let n=e.get(ii,null);if(n===null)throw new x(407,!1);let t=e.get(XE,null),r=e.get(Rn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function EO(e,n){let t=ow(e);return Pg(n,t,t==="svg"?jm:t==="math"?k_:null)}function ow(e){return(e.selectors[0][0]||"div").toLowerCase()}var Co=class extends Ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_O(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=RT(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){Oe(22);let a=ae(null);try{let l=this.componentDef,c=wO(r,l,s,o),f=CO(l,i||this.ngModule,n),p=bO(f),v=p.rendererFactory.createRenderer(null,l),g=r?pP(v,r,l.encapsulation,f):EO(l,v),y=s?.some(NC)||o?.some(C=>typeof C!="function"&&C.bindings.some(NC)),_=Ng(null,c,null,512|dE(l),null,null,p,v,f,null,Hb(g,f,!0));_[Te]=g,gu(_);let b=null;try{let C=tw(Te,_,2,"#host",()=>c.directiveRegistry,!0,0);uE(v,g,C),Ts(g,_),Hg(c,_,C),Kb(c,C,_),nw(c,C),t!==void 0&&xO(C,this.ngContentSelectors,t),b=Un(C.index,_),_[dt]=b[dt],zg(c,_,null)}catch(C){throw b!==null&&Ih(b),Ih(_),C}finally{Oe(23),vu()}return new Wu(this.componentType,_,!!y)}finally{ae(a)}}};function wO(e,n,t,r){let i=e?["ng-version","20.3.10"]:kT(n.selectors[0]),o=null,s=null,a=0;if(t)for(let f of t)a+=f[Wh].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let v of p.bindings){a+=v[Wh].requiredVars;let g=f+1;v.create&&(v.targetIdx=g,(o??=[]).push(v)),v.update&&(v.targetIdx=g,(s??=[]).push(v))}}let l=[n];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,v=lu(p);l.push(v)}return Ag(0,null,DO(o,s),1,a,l,null,null,null,[i],null)}function DO(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function NC(e){let n=e[Wh].kind;return n==="input"||n==="twoWay"}var Wu=class extends QE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=fo(t[Q],Te),this.location=Ns(this._tNode,t),this.instance=Un(this._tNode.index,t)[dt],this.hostView=this.changeDetectorRef=new xi(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=gd(r,i[Q],i,n,t);this.previousInputValues.set(n,t);let s=Un(r.index,i);vd(s,1)}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function xO(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Mi=(()=>{class e{static __NG_ELEMENT_ID__=MO}return e})();function MO(){let e=wt();return aw(e,ie())}var SO=Mi,sw=class extends SO{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){let n=dg(this._hostTNode,this._hostLView);if(nb(n)){let t=ku(n,this._hostLView),r=Ru(n),i=t[Q].data[r+8];return new vo(i,t)}else return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=RC(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zu(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Os(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let l=n&&!gI(n),c;if(l)c=t;else{let b=t||{};c=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let f=l?n:new Co(Cr(n)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let C=(l?p:this.parentInjector).get(rt,null);C&&(o=C)}let v=Cr(f.componentType??{}),g=zu(this._lContainer,v?.id??null),y=g?.firstChild??null,_=f.create(p,i,y,o,s,a);return this.insertImpl(_.hostView,c,Os(this._hostTNode,g)),_}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(L_(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[ut],c=new sw(l,l[jn],l[ut]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return tl(s,i,o,r),n.attachToViewContainerRef(),Tm(gh(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=RC(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=za(this._lContainer,t);r&&(Ta(gh(this._lContainer),t),pd(r[Q],r))}detach(n){let t=this._adjustIndex(n,-1),r=za(this._lContainer,t);return r&&Ta(gh(this._lContainer),t)!=null?new xi(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function RC(e){return e[Na]}function gh(e){return e[Na]||(e[Na]=[])}function aw(e,n){let t,r=n[e.index];return wn(r)?t=r:(t=UE(r,n,null,e),n[e.index]=t,Rg(n,t)),lw(t,n,e,r),new sw(t,e,n)}function IO(e,n){let t=e[Me],r=t.createComment(""),i=xn(n,e),o=t.parentNode(i);return Bu(t,o,r,t.nextSibling(i),!1),r}var lw=cw,Yg=()=>!1;function TO(e,n,t){return Yg(e,n,t)}function cw(e,n,t,r){if(e[wr])return;let i;t.type&8?i=Dn(r):i=IO(n,t),e[wr]=i}function PO(e,n,t){if(e[wr]&&e[nr])return!0;let r=t[rn],i=n.index-Te;if(!r||mb(n)||qb(r,i))return!1;let s=Oh(r,i),a=r.data[id]?.[i],[l,c]=JP(s,a);return e[wr]=l,e[nr]=c,!0}function OO(e,n,t,r){Yg(e,t,n)||cw(e,n,t,r)}function uw(){lw=OO,Yg=PO}var Zh=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Kh=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Qg(n,t).matches!==null&&this.queries[t].setDirty()}},Yh=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=jO(n):this.predicate=n}},Qh=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Xh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,AO(t,o)),this.matchTNodeWithReadOption(n,t,Iu(t,n,o,!1,!1))}else r===_o?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Iu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===Mi||i===_o&&t.type&4)this.addMatch(t.index,-2);else{let o=Iu(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function AO(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function NO(e,n){return e.type&11?Ns(e,n):e.type&4?qg(e,n):null}function RO(e,n,t,r){return t===-1?NO(n,e):t===-2?kO(e,n,r):Ba(e,e[Q],t,n)}function kO(e,n,t){if(t===At)return Ns(n,e);if(t===_o)return qg(n,e);if(t===Mi)return aw(n,e)}function dw(e,n,t,r){let i=n[Er].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let f=o[c];a.push(RO(n,f,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Jh(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=dw(e,n,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],f=n[-l];for(let p=ft;p<f.length;p++){let v=f[p];v[bi]===v[ut]&&Jh(v[Q],v,c,r)}if(f[co]!==null){let p=f[co];for(let v=0;v<p.length;v++){let g=p[v];Jh(g[Q],g,c,r)}}}}}return r}function FO(e,n){return e[Er].queries[n].queryList}function LO(e,n,t){let r=new Vu((t&4)===4);return B_(e,n,r,r.destroy),(n[Er]??=new Kh).queries.push(new Zh(r))-1}function VO(e,n,t){let r=Je();return r.firstCreatePass&&(BO(r,new Yh(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),LO(r,ie(),n)}function jO(e){return e.split(",").map(n=>n.trim())}function BO(e,n,t){e.queries===null&&(e.queries=new Qh),e.queries.track(new Xh(n,t))}function Qg(e,n){return e.queries.getByIndex(n)}function UO(e,n){let t=e[Q],r=Qg(t,n);return r.crossesNgTemplate?Jh(t,e,n,[]):dw(t,e,r,n)}var bo=class{},Dd=class{};var Zu=class extends bo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qu(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Am(n);this._bootstrapComponents=iE(o.bootstrap),this._r3Injector=oh(n,t,[{provide:bo,useValue:this},{provide:rl,useValue:this.componentFactoryResolver},...r],Xr(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ku=class extends Dd{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Zu(this.moduleType,n,[])}};var Ga=class extends bo{injector;componentFactoryResolver=new qu(this);instance=null;constructor(n){super();let t=new no([...n.providers,{provide:bo,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],n.parent||Oa(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function xo(e,n,t=null){return new Ga({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var HO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=cu(!1,t.type),i=r.length>0?xo([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(B(rt))})}return e})();function ge(e){return Wa(()=>{let n=fw(e),t=Y(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(HO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ni.Emulated,styles:e.styles||Gt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Nt("NgStandalone"),pw(t);let r=e.dependencies;return t.directiveDefs=kC(r,$O),t.pipeDefs=kC(r,Nm),t.id=qO(t),t})}function $O(e){return Cr(e)||lu(e)}function Gn(e){return Wa(()=>({type:e.type,bootstrap:e.bootstrap||Gt,declarations:e.declarations||Gt,imports:e.imports||Gt,exports:e.exports||Gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zO(e,n){if(e==null)return Ci;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=dd.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function GO(e){if(e==null)return Ci;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ze(e){return Wa(()=>{let n=fw(e);return pw(n),n})}function Mo(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function fw(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Ci,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Gt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zO(e.inputs,n),outputs:GO(e.outputs),debugInfo:null}}function pw(e){e.features?.forEach(n=>n(e))}function kC(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function qO(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function WO(e){return Object.getPrototypeOf(e.prototype).constructor}function Yt(e){let n=WO(e.type),t=!0,r=[e];for(;n;){let i;if(xr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new x(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=vh(e.inputs),s.declaredInputs=vh(e.declaredInputs),s.outputs=vh(e.outputs);let a=i.hostBindings;a&&XO(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&YO(e,l),c&&QO(e,c),ZO(e,i),C_(e.outputs,i.outputs),xr(i)&&i.data.animation){let f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Yt&&(t=!1)}}n=Object.getPrototypeOf(n)}KO(r)}function ZO(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function KO(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Is(i.hostAttrs,t=Is(t,i.hostAttrs))}}function vh(e){return e===Ci?{}:e===Gt?[]:e}function YO(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function QO(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function XO(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function mw(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=Is(e.mergedAttrs,e.attrs);let f=e.tView=Ag(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),f.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),_s(e,!1);let l=hw(t,n,e,r);yu()&&Bg(t,n,l,e),Ts(l,n);let c=UE(l,n,l,e);n[r+Te]=c,Rg(n,c),TO(c,e,n)}function JO(e,n,t,r,i,o,s,a,l,c,f){let p=t+Te,v;return n.firstCreatePass?(v=nl(n,p,4,s||null,a||null),Zm()&&JE(n,e,v,Hn(n.consts,c),IE),JC(n,v)):v=n.data[p],mw(v,e,n,t,r,i,o,l),Ra(v)&&Hg(n,e,v),c!=null&&hd(e,v,f),v}function Yu(e,n,t,r,i,o,s,a,l,c,f){let p=t+Te,v;if(n.firstCreatePass){if(v=nl(n,p,4,s||null,a||null),c!=null){let g=Hn(n.consts,c);v.localNames=[];for(let y=0;y<g.length;y+=2)v.localNames.push(g[y],-1)}}else v=n.data[p];return mw(v,e,n,t,r,i,o,l),c!=null&&hd(e,v,f),v}function xd(e,n,t,r,i,o,s,a){let l=ie(),c=Je(),f=Hn(c.consts,o);return JO(l,c,e,n,t,r,i,f,void 0,s,a),xd}var hw=gw;function gw(e,n,t,r){return ti(!0),n[Me].createComment("")}function eA(e,n,t,r){let i=!cd(n,t);ti(i);let o=n[rn]?.data[Eb]?.[r]??null;if(o!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=o),i)return gw(e,n);let s=n[rn],a=yd(s,e,n,t);ld(s,r,a);let l=bg(s,r);return _d(l,a)}function vw(){hw=eA}var Mn=(function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e})(Mn||{}),FC=0,tA=1,vt=(function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e})(vt||{});var nA=0,il=1;var rA=4,iA=5;var oA=7,Ss=8,sA=9,Xg=(function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e})(Xg||{});function Au(e,n){let t=lA(e),r=n[t];if(r!==null){for(let i of r)i();n[t]=null}}function aA(e){Au(1,e),Au(0,e),Au(2,e)}function lA(e){let n=rA;return e===1?n=iA:e===2&&(n=sA),n}function yw(e){return e+1}function Fs(e,n){let t=e[Q],r=yw(n.index);return e[r]}function ol(e,n){let t=yw(n.index);return e.data[t]}function cA(e,n,t){let r=n[Q],i=ol(r,t);switch(e){case vt.Complete:return i.primaryTmplIndex;case vt.Loading:return i.loadingTmplIndex;case vt.Error:return i.errorTmplIndex;case vt.Placeholder:return i.placeholderTmplIndex;default:return null}}function LC(e,n){return n===vt.Placeholder?e.placeholderBlockConfig?.[FC]??null:n===vt.Loading?e.loadingBlockConfig?.[FC]??null:null}function uA(e){return e.loadingBlockConfig?.[tA]??null}function VC(e,n){if(!e||e.length===0)return n;let t=new Set(e);for(let r of n)t.add(r);return e.length===t.size?e:Array.from(t)}function dA(e,n){let t=n.primaryTmplIndex+Te;return fo(e,t)}var fA=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?xo(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:e,providedIn:"environment",factory:()=>new e})}return e})();var _w=new F("");function yh(e,n,t){return e.get(fA).getOrCreateInjector(n,e,t,"")}function pA(e,n,t){if(e instanceof Ms){let i=e.injector,o=e.parentInjector,s=yh(o,n,t);return new Ms(i,s)}let r=e.get(rt);if(r!==e){let i=yh(r,n,t);return new Ms(e,i)}return yh(e,n,t)}function go(e,n,t,r=!1){let i=t[ut],o=i[Q];if(Ei(i))return;let s=Fs(i,n),a=s[il],l=s[oA];if(!(l!==null&&e<l)&&jC(a,e)&&jC(s[nA]??-1,e)){let c=ol(o,n),p=!r&&!0&&(uA(c)!==null||LC(c,vt.Loading)!==null||LC(c,vt.Placeholder))?gA:hA;try{p(e,s,t,n,i)}catch(v){$g(i,v)}}}function mA(e,n){let t=e[nr]?.findIndex(i=>i.data[Mb]===n[il])??-1;return{dehydratedView:t>-1?e[nr][t]:null,dehydratedViewIx:t}}function hA(e,n,t,r,i){Oe(20);let o=cA(e,i,r);if(o!==null){n[il]=e;let s=i[Q],a=o+Te,l=fo(s,a),c=0;Gg(t,c);let f;if(e===vt.Complete){let y=ol(s,r),_=y.providers;_&&_.length>0&&(f=pA(i[Bn],y,_))}let{dehydratedView:p,dehydratedViewIx:v}=mA(t,n),g=el(i,l,null,{injector:f,dehydratedView:p});if(tl(t,g,c,Os(l,p)),vd(g,2),v>-1&&t[nr]?.splice(v,1),(e===vt.Complete||e===vt.Error)&&Array.isArray(n[Ss])){for(let y of n[Ss])y();n[Ss]=null}}Oe(21)}function jC(e,n){return e<n}function BC(e,n,t){e.loadingPromise.then(()=>{e.loadingState===Mn.COMPLETE?go(vt.Complete,n,t):e.loadingState===Mn.FAILED&&go(vt.Error,n,t)})}var gA=null;var Md=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Jg=new F("");function Si(e){return!!e&&typeof e.then=="function"}function e0(e){return!!e&&typeof e.subscribe=="function"}var t0=new F("");function Sd(e){return Cn([{provide:t0,multi:!0,useValue:e}])}var n0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=D(t0,{optional:!0})??[];injector=D(_t);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Et(this.injector,i);if(Si(o))t.push(o);else if(e0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),li=new F("");function Cw(){Gp(()=>{let e="";throw new x(600,e)})}function bw(e){return e.isBoundToModule}var vA=10;var jt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Zt);afterRenderManager=D(Vg);zonelessEnabled=D(ws);rootEffectScheduler=D(La);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new qe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(rr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){D(Do,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=D(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=_t.NULL){return this._injector.get($e).run(()=>{Oe(10);let s=t instanceof Ed;if(!this._injector.get(n0).done){let y="";throw new x(405,y)}let l;s?l=t:l=this._injector.get(rl).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=bw(l)?void 0:this._injector.get(bo),f=r||l.selector,p=l.create(i,[],f,c),v=p.location.nativeElement,g=p.injector.get(Jg,null);return g?.registerApplication(v),p.onDestroy(()=>{this.detachView(p.hostView),ja(this.components,p),g?.unregisterApplication(v)}),this._loadComponent(p),Oe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let t=ae(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(t),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ii,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<vA;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fa(i))continue;let o=r&&!this.zonelessEnabled?0:1;LE(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Fa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ja(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(li,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ja(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ja(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function yA(){let e,n;return{promise:new Promise((r,i)=>{e=r,n=i}),resolve:e,reject:n}}function Ew(e,n,t){let r=n[Bn],i=n[Q];if(e.loadingState!==Mn.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Fs(n,t),s=dA(i,e);e.loadingState=Mn.IN_PROGRESS,Au(1,o);let a=e.dependencyResolverFn,l=r.get(mo).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(c=>{let f=!1,p=[],v=[];for(let g of c)if(g.status==="fulfilled"){let y=g.value,_=Cr(y)||lu(y);if(_)p.push(_);else{let b=Nm(y);b&&v.push(b)}}else{f=!0;break}if(f){if(e.loadingState=Mn.FAILED,e.errorTmplIndex===null){let y=new x(-750,!1);$g(n,y)}}else{e.loadingState=Mn.COMPLETE;let g=s.tView;if(p.length>0){g.directiveRegistry=VC(g.directiveRegistry,p);let y=p.map(b=>b.type),_=cu(!1,...y);e.providers=_}v.length>0&&(g.pipeRegistry=VC(g.pipeRegistry,v))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,l()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Mn.COMPLETE,l()}),e.loadingPromise)}function _A(e,n){return n[Bn].get(_w,null,{optional:!0})?.behavior!==Xg.Manual}function CA(e,n,t){let r=n[Q],i=n[t.index];if(!_A(e,n))return;let o=Fs(n,t),s=ol(r,t);switch(aA(o),s.loadingState){case Mn.NOT_STARTED:go(vt.Loading,t,i),Ew(s,n,t),s.loadingState===Mn.IN_PROGRESS&&BC(s,t,i);break;case Mn.IN_PROGRESS:go(vt.Loading,t,i),BC(s,t,i);break;case Mn.COMPLETE:go(vt.Complete,t,i);break;case Mn.FAILED:go(vt.Error,t,i);break;default:}}async function ww(e,n,t){let r=e.get(sd);if(r.hydrating.has(n))return;let{parentBlockPromise:o,hydrationQueue:s}=tT(n,e);if(s.length===0)return;o!==null&&s.shift(),wA(r,s),o!==null&&await o;let a=s[0];r.has(a)?await UC(e,s,t):r.awaitParentBlock(a,async()=>await UC(e,s,t))}async function UC(e,n,t){let r=e.get(sd),i=r.hydrating,o=e.get(rr),s=o.add();for(let l=0;l<n.length;l++){let c=n[l],f=r.get(c);if(f!=null){if(await xA(f),await DA(e),bA(f)){QP(f),HC(n.slice(l),r);break}i.get(c).resolve()}else{EA(l,n,r),HC(n.slice(l),r);break}}let a=n[n.length-1];await i.get(a)?.promise,o.remove(s),t&&t(n),XP(r.get(a),n,r,e.get(jt))}function bA(e){return Fs(e.lView,e.tNode)[il]===vt.Error}function EA(e,n,t){let r=e-1,i=r>-1?t.get(n[r]):null;i&&bd(i.lContainer)}function HC(e,n){let t=n.hydrating;for(let r in e)t.get(r)?.reject();n.cleanup(e)}function wA(e,n){for(let t of n)e.hydrating.set(t,yA())}function DA(e){return new Promise(n=>ks(n,{injector:e}))}async function xA(e){let{tNode:n,lView:t}=e,r=Fs(t,n);return new Promise(i=>{MA(r,i),CA(2,t,n)})}function MA(e,n){Array.isArray(e[Ss])||(e[Ss]=[]),e[Ss].push(n)}function Ii(e,n){let t=ie(),r=ei();if(on(t,r,n)){let i=Je(),o=bs();if(gd(o,i,t,e,n))Dr(o)&&SE(t,o.index);else{let a=xn(o,t);TE(t[Me],a,null,o.value,e,n,null)}}return Ii}function ot(e,n,t,r){let i=ie(),o=ei();if(on(i,o,n)){let s=Je(),a=bs();CP(a,i,e,n,t,r)}return ot}var G$=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var eg=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n,!0))}};function _h(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function SA(e,n,t){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let c=e.at(o),f=n[o],p=_h(o,c,o,f,t);if(p!==0){p<0&&e.updateValue(o,f),o++;continue}let v=e.at(s),g=n[l],y=_h(s,v,l,g,t);if(y!==0){y<0&&e.updateValue(s,g),s--,l--;continue}let _=t(o,c),b=t(s,v),C=t(o,f);if(Object.is(C,b)){let M=t(l,g);Object.is(M,_)?(e.swap(o,s),e.updateValue(s,g),l--,s--):e.move(s,o),e.updateValue(o,f),o++;continue}if(r??=new Qu,i??=zC(e,o,s,t),tg(e,r,o,C))e.updateValue(o,f),o++,s++;else if(i.has(C))r.set(_,e.detach(o)),s--;else{let M=e.create(o,n[o]);e.attach(o,M),o++,s++}}for(;o<=l;)$C(e,r,t,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let f=e.at(o),p=c.value,v=_h(o,f,o,p,t);if(v!==0)v<0&&e.updateValue(o,p),o++,c=l.next();else{r??=new Qu,i??=zC(e,o,s,t);let g=t(o,p);if(tg(e,r,o,g))e.updateValue(o,p),o++,s++,c=l.next();else if(!i.has(g))e.attach(o,e.create(o,p)),o++,s++,c=l.next();else{let y=t(o,f);r.set(y,e.detach(o)),s--}}}for(;!c.done;)$C(e,r,t,e.length,c.value),c=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function tg(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function $C(e,n,t,r,i){if(tg(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function zC(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var Qu=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function P(e,n,t,r,i,o,s,a){Nt("NgControlFlow");let l=ie(),c=Je(),f=Hn(c.consts,o);return Yu(l,c,e,n,t,r,i,f,256,s,a),r0}function r0(e,n,t,r,i,o,s,a){Nt("NgControlFlow");let l=ie(),c=Je(),f=Hn(c.consts,o);return Yu(l,c,e,n,t,r,i,f,512,s,a),r0}function O(e,n){Nt("NgControlFlow");let t=ie(),r=ei(),i=t[r]!==Kt?t[r]:-1,o=i!==-1?Xu(t,Te+i):void 0,s=0;if(on(t,r,e)){let a=ae(null);try{if(o!==void 0&&Gg(o,s),e!==-1){let l=Te+e,c=Xu(t,l),f=og(t[Q],l),p=KE(c,f,t),v=el(t,f,n,{dehydratedView:p});tl(c,v,s,Os(f,p))}}finally{ae(a)}}else if(o!==void 0){let a=HE(o,s);a!==void 0&&(a[dt]=n)}}var ng=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ft}};function i0(e){return e}function st(e,n){return n}var rg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function ve(e,n,t,r,i,o,s,a,l,c,f,p,v){Nt("NgControlFlow");let g=ie(),y=Je(),_=l!==void 0,b=ie(),C=a?s.bind(b[Wt][dt]):s,M=new rg(_,C);b[Te+e]=M,Yu(g,y,e+1,n,t,r,i,Hn(y.consts,o),256),_&&Yu(g,y,e+2,l,c,f,p,Hn(y.consts,v),512)}var ig=class extends eg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ft}at(n){return this.getLView(n)[dt].$implicit}attach(n,t){let r=t[rn];this.needsIndexUpdate||=n!==this.length,tl(this.lContainer,t,n,Os(this.templateTNode,r))}detach(n,t){return this.needsIndexUpdate||=n!==this.length-1,t&&IA(this.lContainer,n),TA(this.lContainer,n)}create(n,t){let r=zu(this.lContainer,this.templateTNode.tView.ssrId),i=el(this.hostLView,this.templateTNode,new ng(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){pd(n[Q],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[dt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[dt].$index=n}getLView(n){return PA(this.lContainer,n)}};function ye(e){let n=ae(null),t=Mr();try{let r=ie(),i=r[Q],o=r[t],s=t+1,a=Xu(r,s);if(o.liveCollection===void 0){let c=og(i,s);o.liveCollection=new ig(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(SA(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ei(),f=l.length===0;if(on(r,c,f)){let p=t+2,v=Xu(r,p);if(f){let g=og(i,p),y=KE(v,g,r),_=el(r,g,void 0,{dehydratedView:y});tl(v,_,0,Os(g,y))}else i.firstUpdatePass&&Cd(v),Gg(v,0)}}}finally{ae(n)}}function Xu(e,n){return e[n]}function IA(e,n){if(e.length<=ft)return;let t=ft+n,r=e[t];r&&r[lo]&&(r[lo].skipLeaveAnimations=!0)}function TA(e,n){return za(e,n)}function PA(e,n){return HE(e,n)}function og(e,n){return fo(e,n)}function A(e,n,t){let r=ie(),i=ei();if(on(r,i,n)){let o=Je(),s=bs();xE(s,r,e,n,r[Me],t)}return A}function sg(e,n,t,r,i){gd(n,e,t,i?"class":"style",r)}function u(e,n,t,r){let i=ie(),o=i[Q],s=e+Te,a=o.firstCreatePass?tw(s,i,2,n,IE,Zm(),t,r):o.data[s];if(PE(a,i,e,n,o0),Ra(a)){let l=i[Q];Hg(l,i,a),Kb(l,a,i)}return r!=null&&hd(i,a),u}function d(){let e=Je(),n=wt(),t=OE(n);return e.firstCreatePass&&nw(e,t),Ym(t)&&Qm(),Wm(),t.classesWithoutHost!=null&&EI(t)&&sg(e,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&wI(t)&&sg(e,t,ie(),t.stylesWithoutHost,!1),d}function E(e,n,t,r){return u(e,n,t,r),d(),E}function he(e,n,t,r){let i=ie(),o=i[Q],s=e+Te,a=o.firstCreatePass?pO(s,o,2,n,t,r):o.data[s];return PE(a,i,e,n,o0),r!=null&&hd(i,a),he}function _e(){let e=wt(),n=OE(e);return Ym(n)&&Qm(),Wm(),_e}function qn(e,n,t,r){return he(e,n,t,r),_e(),qn}var o0=(e,n,t,r,i)=>(ti(!0),Pg(n[Me],r,ih()));function OA(e,n,t,r,i){let o=!cd(n,t);if(ti(o),o)return Pg(n[Me],r,ih());let s=n[rn],a=yd(s,e,n,t);return Gb(s,i)&&ld(s,i,a.nextSibling),s&&(fb(t)||pb(a))&&Dr(t)&&($_(t),cE(a)),a}function Dw(){o0=OA}var AA=(e,n,t,r,i)=>(ti(!0),aE(n[Me],""));function NA(e,n,t,r,i){let o,s=!cd(n,t);if(ti(s),s)return aE(n[Me],"");let a=n[rn],l=yd(a,e,n,t),c=JI(a,i);return ld(a,i,l),o=_d(c,l),o}function xw(){AA=NA}function Se(){return ie()}function So(e,n,t){let r=ie(),i=ei();if(on(r,i,n)){let o=Je(),s=bs();ME(s,r,e,n,r[Me],t)}return So}var Du=void 0;function RA(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var kA=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",RA],Ch={};function sn(e){let n=FA(e),t=GC(n);if(t)return t;let r=n.split("-")[0];if(t=GC(r),t)return t;if(r==="en")return kA;throw new x(701,!1)}function GC(e){return e in Ch||(Ch[e]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[e]),Ch[e]}var at=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(at||{});function FA(e){return e.toLowerCase().replace(/_/g,"-")}var sl="en-US";var LA=sl;function Mw(e){typeof e=="string"&&(LA=e.toLowerCase().replace(/_/g,"-"))}function N(e,n,t){let r=ie(),i=Je(),o=wt();return Sw(i,r,r[Me],o,e,n,t),N}function Io(e,n,t){let r=ie(),i=Je(),o=wt();return(o.type&3||t)&&rw(o,i,r,t,r[Me],e,n,Ou(o,r,n)),Io}function Sw(e,n,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Ou(r,n,o),rw(r,e,n,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let v=f[p],g=f[p+1];l??=Ou(r,n,o),AC(r,n,v,g,i,l)}if(c&&c.length)for(let p of c)l??=Ou(r,n,o),AC(r,n,p,i,i,l)}}function w(e=1){return nC(e)}function s0(e,n,t){VO(e,n,t)}function Id(e){let n=ie(),t=Je(),r=th();hu(r+1);let i=Qg(t,r);if(e.dirty&&F_(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=UO(n,r);e.reset(o,FI),e.notifyOnChanges()}return!0}return!1}function Td(){return FO(ie(),th())}function Pd(e){let n=q_();return ka(n,Te+e)}function xu(e,n){return e<<17|n<<2}function Eo(e){return e>>17&32767}function VA(e){return(e&2)==2}function jA(e,n){return e&131071|n<<17}function ag(e){return e|2}function As(e){return(e&131068)>>2}function bh(e,n){return e&-131069|n<<2}function BA(e){return(e&1)===1}function lg(e){return e|1}function UA(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Eo(s),l=As(s);e[r]=t;let c=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||gs(p,f)>0)&&(c=!0)}else f=t;if(i)if(l!==0){let v=Eo(e[a+1]);e[r+1]=xu(v,a),v!==0&&(e[v+1]=bh(e[v+1],r)),e[a+1]=jA(e[a+1],r)}else e[r+1]=xu(a,0),a!==0&&(e[a+1]=bh(e[a+1],r)),a=r;else e[r+1]=xu(l,0),a===0?a=r:e[l+1]=bh(e[l+1],r),l=r;c&&(e[r+1]=ag(e[r+1])),qC(e,f,r,!0),qC(e,f,r,!1),HA(n,f,e,r,o),s=xu(a,l),o?n.classBindings=s:n.styleBindings=s}function HA(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&gs(o,n)>=0&&(t[r+1]=lg(t[r+1]))}function qC(e,n,t,r){let i=e[t+1],o=n===null,s=r?Eo(i):As(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];$A(l,n)&&(a=!0,e[s+1]=r?lg(c):ag(c)),s=r?Eo(c):As(c)}a&&(e[t+1]=r?ag(i):lg(i))}function $A(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?gs(e,n)>=0:!1}var or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zA(e){return e.substring(or.key,or.keyEnd)}function GA(e){return qA(e),Iw(e,Tw(e,0,or.textEnd))}function Iw(e,n){let t=or.textEnd;return t===n?-1:(n=or.keyEnd=WA(e,or.key=n,t),Tw(e,n,t))}function qA(e){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=e.length}function Tw(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function WA(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Ti(e,n,t){return Pw(e,n,t,!1),Ti}function ue(e,n){return Pw(e,n,null,!0),ue}function To(e){KA(tN,ZA,e,!0)}function ZA(e,n){for(let t=GA(n);t>=0;t=Iw(n,t))su(e,zA(n),!0)}function Pw(e,n,t,r){let i=ie(),o=Je(),s=pu(2);if(o.firstUpdatePass&&Aw(o,e,s,r),n!==Kt&&on(i,s,n)){let a=o.data[Mr()];Nw(o,a,i,i[Me],e,i[s+1]=rN(n,t),r,s)}}function KA(e,n,t,r){let i=Je(),o=pu(2);i.firstUpdatePass&&Aw(i,null,o,r);let s=ie();if(t!==Kt&&on(s,o,t)){let a=i.data[Mr()];if(Rw(a,r)&&!Ow(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=nu(l,t||"")),sg(i,a,s,t,r)}else nN(i,a,s,s[Me],s[o+1],s[o+1]=eN(e,n,t),r,o)}}function Ow(e,n){return n>=e.expandoStartIndex}function Aw(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Mr()],s=Ow(e,t);Rw(o,r)&&n===null&&!s&&(n=!1),n=YA(i,o,n,r),UA(i,o,n,t,s,r)}}function YA(e,n,t,r){let i=X_(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Eh(null,e,n,t,r),t=qa(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Eh(i,e,n,t,r),o===null){let l=QA(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Eh(null,e,n,l[1],r),l=qa(l,n.attrs,r),XA(e,n,r,l))}else o=JA(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function QA(e,n,t){let r=t?n.classBindings:n.styleBindings;if(As(r)!==0)return e[Eo(r)]}function XA(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Eo(i)]=r}function JA(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qa(r,s,t)}return qa(r,n.attrs,t)}function Eh(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=qa(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function qa(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),su(e,s,t?!0:n[++o]))}return e===void 0?null:e}function eN(e,n,t){if(t==null||t==="")return Gt;let r=[],i=zn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function tN(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&su(e,r,t)}function nN(e,n,t,r,i,o,s,a){i===Kt&&(i=Gt);let l=0,c=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let v=l<i.length?i[l+1]:void 0,g=c<o.length?o[c+1]:void 0,y=null,_;f===p?(l+=2,c+=2,v!==g&&(y=p,_=g)):p===null||f!==null&&f<p?(l+=2,y=f):(c+=2,y=p,_=g),y!==null&&Nw(e,n,t,r,y,_,s,a),f=l<i.length?i[l]:null,p=c<o.length?o[c]:null}}function Nw(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],f=BA(c)?WC(l,n,t,i,As(c),s):void 0;if(!Ju(f)){Ju(o)||VA(c)&&(o=WC(l,null,t,i,a,s));let p=Bm(Mr(),t);fP(r,s,p,i,o)}}function WC(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),f=c?l[1]:l,p=f===null,v=t[i+1];v===Kt&&(v=p?Gt:void 0);let g=p?au(v,r):f===r?v:void 0;if(c&&!Ju(g)&&(g=au(l,r)),Ju(g)&&(a=g,s))return a;let y=e[i+1];i=s?Eo(y):As(y)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=au(l,r))}return a}function Ju(e){return e!==void 0}function rN(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Xr(zn(e)))),e}function Rw(e,n){return(e.flags&(n?8:16))!==0}function m(e,n=""){let t=ie(),r=Je(),i=e+Te,o=r.firstCreatePass?nl(r,i,1,n,null):r.data[i],s=kw(r,t,o,n,e);t[i]=s,yu()&&Bg(r,t,s,o),_s(o,!1)}var kw=(e,n,t,r,i)=>(ti(!0),sE(n[Me],r));function iN(e,n,t,r,i){let o=!cd(n,t);if(ti(o),o)return sE(n[Me],r);let s=n[rn];return yd(s,e,n,t)}function Fw(){kw=iN}function Lw(e,n,t,r=""){return on(e,ei(),t)?n+io(t)+r:Kt}function oN(e,n,t,r,i,o=""){let s=W_(),a=Kg(e,s,t,i);return pu(2),a?n+io(t)+r+io(i)+o:Kt}function L(e){return G("",e),L}function G(e,n,t){let r=ie(),i=Lw(r,e,n,t);return i!==Kt&&Vw(r,Mr(),i),G}function Pi(e,n,t,r,i){let o=ie(),s=oN(o,e,n,t,r,i);return s!==Kt&&Vw(o,Mr(),s),Pi}function Vw(e,n,t){let r=Bm(n,e);FT(e[Me],r,t)}function $(e,n,t){ch(n)&&(n=n());let r=ie(),i=ei();if(on(r,i,n)){let o=Je(),s=bs();xE(s,r,e,n,r[Me],t)}return $}function q(e,n){let t=ch(e);return t&&e.set(n),t}function z(e,n){let t=ie(),r=Je(),i=wt();return Sw(r,t,t[Me],i,e,n),z}function Po(e,n,t=""){return Lw(ie(),e,n,t)}function sN(e,n,t){let r=Je();if(r.firstCreatePass){let i=xr(e);cg(t,r.data,r.blueprint,i,!0),cg(n,r.data,r.blueprint,i,!1)}}function cg(e,n,t,r,i){if(e=Ot(e),Array.isArray(e))for(let o=0;o<e.length;o++)cg(e[o],n,t,r,i);else{let o=Je(),s=ie(),a=wt(),l=to(e)?e:Ot(e.provide),c=km(e),f=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(to(e)||!e.multi){let g=new yo(c,i,H,null),y=Dh(l,n,i?f:f+v,p);y===-1?(Mh(Lu(a,s),o,l),wh(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{let g=Dh(l,n,f+v,p),y=Dh(l,n,f,f+v),_=g>=0&&t[g],b=y>=0&&t[y];if(i&&!b||!i&&!_){Mh(Lu(a,s),o,l);let C=cN(i?lN:aN,t.length,i,r,c,e);!i&&b&&(t[y].providerFactory=C),wh(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else{let C=jw(t[i?y:g],c,!i&&r);wh(o,e,g>-1?g:y,C)}!i&&r&&b&&t[y].componentProviders++}}}function wh(e,n,t,r){let i=to(n),o=A_(n);if(i||o){let l=(o?Ot(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let f=c.indexOf(t);f===-1?c.push(t,[r,l]):c[f+1].push(r,l)}else c.push(t,l)}}}function jw(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Dh(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function aN(e,n,t,r,i){return ug(this.multi,[])}function lN(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ba(r,r[Q],this.providerFactory.index,i);s=l.slice(0,a),ug(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],ug(o,s);return s}function ug(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function cN(e,n,t,r,i,o){let s=new yo(e,t,H,null);return s.multi=[],s.index=n,s.componentProviders=0,jw(s,i,r&&!t),s}function lr(e,n=[]){return t=>{t.providersResolver=(r,i)=>sN(r,i?i(e):e,n)}}function Rt(e,n,t){let r=po()+e,i=ie();return i[r]===Kt?wd(i,r,t?n.call(t):n()):mO(i,r)}function Oo(e,n,t,r){return Bw(ie(),po(),e,n,t,r)}function an(e,n,t,r,i){return Uw(ie(),po(),e,n,t,r,i)}function a0(e,n){let t=e[n];return t===Kt?void 0:t}function Bw(e,n,t,r,i,o){let s=n+t;return on(e,s,i)?wd(e,s+1,o?r.call(o,i):r(i)):a0(e,s+1)}function Uw(e,n,t,r,i,o,s){let a=n+t;return Kg(e,a,i,o)?wd(e,a+2,s?r.call(s,i,o):r(i,o)):a0(e,a+2)}function uN(e,n,t,r,i,o,s,a){let l=n+t;return hO(e,l,i,o,s)?wd(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):a0(e,l+3)}function Sn(e,n){let t=Je(),r,i=e+Te;t.firstCreatePass?(r=dN(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=yi(r.type,!0)),s,a=zt(H);try{let l=Fu(!1),c=o();return Fu(l),Um(t,ie(),i,c),c}finally{zt(a)}}function dN(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function al(e,n,t){let r=e+Te,i=ie(),o=ka(i,r);return l0(i,r)?Bw(i,po(),n,o.transform,t,o):o.transform(t)}function Ao(e,n,t,r){let i=e+Te,o=ie(),s=ka(o,i);return l0(o,i)?Uw(o,po(),n,s.transform,t,r,s):s.transform(t,r)}function ll(e,n,t,r,i){let o=e+Te,s=ie(),a=ka(s,o);return l0(s,o)?uN(s,po(),n,a.transform,t,r,i,a):a.transform(t,r,i)}function l0(e,n){return e[Q].data[n].pure}var ed=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},c0=(()=>{class e{compileModuleSync(t){return new Ku(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Am(t),o=iE(i.declarations).reduce((s,a)=>{let l=Cr(a);return l&&s.push(new Co(l)),s},[]);return new ed(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fN=(()=>{class e{zone=D($e);changeDetectionScheduler=D(Rn);applicationRef=D(jt);applicationErrorHandler=D(Zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hw({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new $e(Y(S({},$w()),{scheduleInRootZone:t})),[{provide:$e,useFactory:e},{provide:Ln,multi:!0,useFactory:()=>{let r=D(fN,{optional:!0});return()=>r.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{let r=D(pN);return()=>{r.initialize()}}},n===!0?{provide:uh,useValue:!0}:[],{provide:_u,useValue:t??mE},{provide:Zt,useFactory:()=>{let r=D($e),i=D(rt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Nn),o.handleError(s))})}}}]}function $w(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var pN=(()=>{class e{subscription=new ht;initialized=!1;zone=D($e);pendingTasks=D(rr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u0=(()=>{class e{applicationErrorHandler=D(Zt);appRef=D(jt);taskService=D(rr);ngZone=D($e);zonelessEnabled=D(ws);tracing=D(Do,{optional:!0});disableScheduling=D(uh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(_u,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ha||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bC:hE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d0(){return Nt("NgZoneless"),Cn([{provide:Rn,useExisting:u0},{provide:$e,useClass:Ha},{provide:ws,useValue:!0},{provide:_u,useValue:!1},[]])}function mN(){return typeof $localize<"u"&&$localize.locale||sl}var Ls=new F("",{providedIn:"root",factory:()=>D(Ls,{optional:!0,skipSelf:!0})||mN()});function Dt(e){return h_(e)}function Ie(e,n){return Sc(e,n?.equal)}var f0=class{[Ft];constructor(n){this[Ft]=n}destroy(){this[Ft].destroy()}};function p0(e,n){let t=n?.injector??D(_t),r=n?.manualCleanup!==!0?t.get(Vt):null,i,o=t.get(Es,null,{optional:!0}),s=t.get(Rn);return o!==null?(i=vN(o.view,s,e),r instanceof Sa&&r._lView===o.view&&(r=null)):i=yN(e,t.get(La),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new f0(i)}var zw=Y(S({},g_),{cleanupFns:void 0,zone:null,onDestroyFn:ho,run(){let e=Cs(!1);try{v_(this)}finally{Cs(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=ae(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ae(e)}}}),hN=Y(S({},zw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Wi(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),gN=Y(S({},zw),{consumerMarkedDirty(){this.view[le]|=8192,wi(this.view),this.notifier.notify(13)},destroy(){Wi(this),this.onDestroyFn(),this.cleanup(),this.view[Jr]?.delete(this)}});function vN(e,n,t){let r=Object.create(gN);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=Gw(r,t),e[Jr]??=new Set,e[Jr].add(r),r.consumerMarkedDirty(r),r}function yN(e,n,t){let r=Object.create(hN);return r.fn=Gw(r,e),r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Gw(e,n){return()=>{n(t=>(e.cleanupFns??=[]).push(t))}}var y0={JSACTION:"__jsaction",OWNER:"__owner"},Kw={};function _N(e){return e[y0.JSACTION]}function qw(e,n){e[y0.JSACTION]=n}function CN(e){return Kw[e]}function bN(e,n){Kw[e]=n}var ne={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},EN=[ne.MOUSEENTER,ne.MOUSELEAVE,"pointerenter","pointerleave"],l9=[ne.CLICK,ne.DBLCLICK,ne.FOCUSIN,ne.FOCUSOUT,ne.KEYDOWN,ne.KEYUP,ne.KEYPRESS,ne.MOUSEOVER,ne.MOUSEOUT,ne.SUBMIT,ne.TOUCHSTART,ne.TOUCHEND,ne.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],wN=[ne.FOCUS,ne.BLUR,ne.ERROR,ne.LOAD,ne.TOGGLE],_0=e=>wN.indexOf(e)>=0;function DN(e){return e===ne.MOUSEENTER?ne.MOUSEOVER:e===ne.MOUSELEAVE?ne.MOUSEOUT:e===ne.POINTERENTER?ne.POINTEROVER:e===ne.POINTERLEAVE?ne.POINTEROUT:e}function xN(e,n,t,r){let i=!1;_0(n)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(n,t,o),{eventType:n,handler:t,capture:i,passive:r}}function MN(e,n){if(e.removeEventListener){let t=typeof n.passive=="boolean"?{capture:n.capture}:n.capture;e.removeEventListener(n.eventType,n.handler,t)}else e.detachEvent&&e.detachEvent(`on${n.eventType}`,n.handler)}function SN(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Ww=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function IN(e){return e.which===2||e.which==null&&e.button===4}function TN(e){return Ww&&e.metaKey||!Ww&&e.ctrlKey||IN(e)||e.shiftKey}function PN(e,n,t){let r=e.relatedTarget;return(e.type===ne.MOUSEOVER&&n===ne.MOUSEENTER||e.type===ne.MOUSEOUT&&n===ne.MOUSELEAVE||e.type===ne.POINTEROVER&&n===ne.POINTERENTER||e.type===ne.POINTEROUT&&n===ne.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function ON(e,n){let t={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(t[i]=o)}return e.type===ne.MOUSEOVER?t.type=ne.MOUSEENTER:e.type===ne.MOUSEOUT?t.type=ne.MOUSELEAVE:e.type===ne.POINTEROVER?t.type=ne.POINTERENTER:t.type=ne.POINTERLEAVE,t.target=t.srcElement=n,t.bubbles=!1,t._originalEvent=e,t}var AN=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Rd=class{element;handlerInfos=[];constructor(n){this.element=n}addEventListener(n,t,r){AN&&(this.element.style.cursor="pointer"),this.handlerInfos.push(xN(this.element,n,t(this.element),r))}cleanUp(){for(let n=0;n<this.handlerInfos.length;n++)MN(this.element,this.handlerInfos[n]);this.handlerInfos=[]}},NN={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Oi(e){return e.eventType}function C0(e,n){e.eventType=n}function Ad(e){return e.event}function Yw(e,n){e.event=n}function Qw(e){return e.targetElement}function Xw(e,n){e.targetElement=n}function Jw(e){return e.eic}function RN(e,n){e.eic=n}function kN(e){return e.timeStamp}function FN(e,n){e.timeStamp=n}function Nd(e){return e.eia}function eD(e,n,t){e.eia=[n,t]}function m0(e){e.eia=void 0}function Od(e){return e[1]}function LN(e){return e.eirp}function tD(e,n){e.eirp=n}function nD(e){return e.eir}function rD(e,n){e.eir=n}function iD(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function VN(e,n,t,r,i,o,s,a){return{eventType:e,event:n,targetElement:t,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var h0=class e{eventInfo;constructor(n){this.eventInfo=n}getEventType(){return Oi(this.eventInfo)}setEventType(n){C0(this.eventInfo,n)}getEvent(){return Ad(this.eventInfo)}setEvent(n){Yw(this.eventInfo,n)}getTargetElement(){return Qw(this.eventInfo)}setTargetElement(n){Xw(this.eventInfo,n)}getContainer(){return Jw(this.eventInfo)}setContainer(n){RN(this.eventInfo,n)}getTimestamp(){return kN(this.eventInfo)}setTimestamp(n){FN(this.eventInfo,n)}getAction(){let n=Nd(this.eventInfo);if(n)return{name:n[0],element:n[1]}}setAction(n){if(!n){m0(this.eventInfo);return}eD(this.eventInfo,n.name,n.element)}getIsReplay(){return LN(this.eventInfo)}setIsReplay(n){tD(this.eventInfo,n)}getResolved(){return nD(this.eventInfo)}setResolved(n){rD(this.eventInfo,n)}clone(){return new e(iD(this.eventInfo))}},jN={},BN=/\s*;\s*/,UN=ne.CLICK,g0=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:n=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=n,this.clickModSupport=t}resolveEventType(n){this.clickModSupport&&Oi(n)===ne.CLICK&&TN(Ad(n))?C0(n,ne.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(n)}resolveAction(n){nD(n)||(this.populateAction(n,Qw(n)),rD(n,!0))}resolveParentAction(n){let t=Nd(n),r=t&&Od(t);m0(n);let i=r&&this.getParentNode(r);i&&this.populateAction(n,i)}populateAction(n,t){let r=t;for(;r&&r!==Jw(n)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,n),!Nd(n));)r=this.getParentNode(r);let i=Nd(n);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(n),this.syntheticMouseEventSupport&&(Oi(n)===ne.MOUSEENTER||Oi(n)===ne.MOUSELEAVE||Oi(n)===ne.POINTERENTER||Oi(n)===ne.POINTERLEAVE)))if(PN(Ad(n),Oi(n),Od(i))){let o=ON(Ad(n),Od(i));Yw(n,o),Xw(n,Od(i))}else m0(n)}getParentNode(n){let t=n[y0.OWNER];if(t)return t;let r=n.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(n,t){let r=this.parseActions(n),i=r[Oi(t)];i!==void 0&&eD(t,i,n),this.a11yClickSupport&&this.populateClickOnlyAction(n,t,r)}parseActions(n){let t=_N(n);if(!t){let r=n.getAttribute(Cu.JSACTION);if(!r)t=jN,qw(n,t);else{if(t=CN(r),!t){t={};let i=r.split(BN);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(NN.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():UN,f=l?s.substr(a+1).trim():s;t[c]=f}bN(r,t)}qw(n,t)}}return t}addA11yClickSupport(n,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=n,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},oD=(function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e})(oD||{}),v0=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(n,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=n,this.actionResolver=t,this.eventReplayer=r}dispatch(n){let t=new h0(n);this.actionResolver?.resolveEventType(n),this.actionResolver?.resolveAction(n);let r=t.getAction();if(r&&HN(r.element,t)&&SN(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(n){this.replayEventInfoWrappers.push(n),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function HN(e,n){return e.tagName==="A"&&(n.getEventType()===ne.CLICK||n.getEventType()===ne.CLICKMOD)}var sD=Symbol.for("propagationStopped"),b0={REPLAY:101};var $N="`preventDefault` called during event replay.";var zN="`composedPath` called during event replay.",kd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(n,t=!0){this.dispatchDelegate=n,this.clickModSupport=t,this.actionResolver=new g0({clickModSupport:t}),this.dispatcher=new v0(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(n){this.dispatcher.dispatch(n)}dispatchToDelegate(n){for(n.getIsReplay()&&WN(n),GN(n);n.getAction();){if(ZN(n),_0(n.getEventType())&&n.getAction().element!==n.getTargetElement()||(this.dispatchDelegate(n.getEvent(),n.getAction().name),qN(n)))return;this.actionResolver.resolveParentAction(n.eventInfo)}}};function GN(e){let n=e.getEvent(),t=e.getEvent().stopPropagation.bind(n),r=()=>{n[sD]=!0,t()};No(n,"stopPropagation",r),No(n,"stopImmediatePropagation",r)}function qN(e){return!!e.getEvent()[sD]}function WN(e){let n=e.getEvent(),t=e.getTargetElement(),r=n.preventDefault.bind(n);No(n,"target",t),No(n,"eventPhase",b0.REPLAY),No(n,"preventDefault",()=>{throw r(),new Error($N+"")}),No(n,"composedPath",()=>{throw new Error(zN+"")})}function ZN(e){let n=e.getEvent(),t=e.getAction()?.element;t&&No(n,"currentTarget",t,{configurable:!0})}function No(e,n,t,{configurable:r=!1}={}){Object.defineProperty(e,n,{value:t,configurable:r})}function aD(e,n){e.ecrd(t=>{n.dispatch(t)},oD.I_AM_THE_JSACTION_FRAMEWORK)}function KN(e){return e?.q??[]}function YN(e){e&&(Zw(e.c,e.et,e.h),Zw(e.c,e.etc,e.h,!0))}function Zw(e,n,t,r){for(let i=0;i<n.length;i++)e.removeEventListener(n[i],t,r)}var QN=!1,lD=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=QN;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let o=VN(t,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(t){if(!this.dispatcher){tD(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&EN.indexOf(t)>=0)return;let o=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[t]=o;let s=DN(r||t);if(s!==t){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(t),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(t,l,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),YN(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=iD(i);C0(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function cD(e,n=window){return KN(n._ejsas?.[e])}function E0(e,n=window){n._ejsas&&(n._ejsas[e]=void 0)}var hD=Symbol("InputSignalNode#UNSET"),gR=Y(S({},Ic),{transformFn:void 0,applyValueToInputSignal(e,n){is(e,n)}});function gD(e,n){let t=Object.create(gR);t.value=e,t.transformFn=n?.transform;function r(){if(es(t),t.value===hD){let i=null;throw new x(-950,i)}return t.value}return r[Ft]=t,r}var jd=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Za(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},vR=new F("");vR.__NG_ELEMENT_ID__=e=>{let n=wt();if(n===null)throw new x(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new x(204,!1)};function uD(e,n){return gD(e,n)}function yR(e){return gD(hD,e)}var vD=(uD.required=yR,uD);var w0=new F(""),_R=new F("");function cl(e){return!e.moduleRef}function CR(e){let n=cl(e)?e.r3Injector:e.moduleRef.injector,t=n.get($e);return t.run(()=>{cl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Zt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),cl(e)){let o=()=>n.destroy(),s=e.platformInjector.get(w0);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(w0);s.add(o),e.moduleRef.onDestroy(()=>{ja(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return ER(r,t,()=>{let o=n.get(rr),s=o.add(),a=n.get(n0);return a.runInitializers(),a.donePromise.then(()=>{let l=n.get(Ls,sl);if(Mw(l||sl),!n.get(_R,!0))return cl(e)?n.get(jt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cl(e)){let f=n.get(jt);return e.rootComponent!==void 0&&f.bootstrap(e.rootComponent),f}else return bR?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var bR;function ER(e,n,t){try{let r=t();return Si(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Ld=null;function wR(e=[],n){return _t.create({name:n,providers:[{provide:Pa,useValue:"platform"},{provide:w0,useValue:new Set([()=>Ld=null])},...e]})}function DR(e=[]){if(Ld)return Ld;let n=wR(e);return Ld=n,Cw(),xR(n),n}function xR(e){let n=e.get(td,null);Et(e,()=>{n?.forEach(t=>t())})}var Ai=(()=>{class e{static __NG_ELEMENT_ID__=MR}return e})();function MR(e){return SR(wt(),ie(),(e&16)===16)}function SR(e,n,t){if(Dr(e)&&!t){let r=Un(e.index,n);return new xi(r,r)}else if(e.type&175){let r=n[Wt];return new xi(r,n)}return null}function yD(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;Oe(8);try{let o=i?.injector??DR(r),s=[Hw({}),{provide:Rn,useExisting:u0},iC,...t||[]],a=new Ga({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return CR({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{Oe(9)}}var Fd=new WeakSet,dD="",Vd=[];function fD(e){return e.get(vg,Tb)}function _D(){let e=[{provide:vg,useFactory:()=>{let n=!0;{let t=D(Tr);n=!!window._ejsas?.[t]}return n&&Nt("NgEventReplay"),n}}];return e.push({provide:Ln,useValue:()=>{let n=D(jt),{injector:t}=n;if(!Fd.has(n)){let r=D(yg);if(fD(t)){Lb();let i=t.get(Tr),o=kb(i,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(Ob(s,a,l),Ab(s,r))});n.onDestroy(o)}}},multi:!0},{provide:li,useFactory:()=>{let n=D(jt),{injector:t}=n;return()=>{if(!fD(t)||Fd.has(n))return;Fd.add(n);let r=t.get(Tr);n.onDestroy(()=>{Fd.delete(n),E0(r)}),n.whenStable().then(()=>{if(n.destroyed)return;let i=t.get(Rb);IR(i,t);let o=t.get(yg);o.get(dD)?.forEach(Nb),o.delete(dD);let s=i.instance;zb(t)?n.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var IR=(e,n)=>{let t=n.get(Tr),r=window._ejsas[t],i=e.instance=new lD(new Rd(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=cD(t);i.replayEarlyEventInfos(o),E0(t);let s=new kd(a=>{TR(n,a,a.currentTarget)});aD(i,s)};function TR(e,n,t){let r=(t&&t.getAttribute(Qa))??"";/d\d+/.test(r)?PR(r,e,n,t):n.eventPhase===b0.REPLAY&&_g(n,t)}function PR(e,n,t,r){Vd.push({event:t,currentTarget:r}),ww(n,e,OR)}function OR(e){let n=[...Vd],t=new Set(e);Vd=[];for(let{event:r,currentTarget:i}of n){let o=i.getAttribute(Qa);t.has(o)?_g(r,i):Vd.push({event:r,currentTarget:i})}}var pD=!1;function AR(){pD||(pD=!0,Ub(),Dw(),Fw(),xw(),vw(),uw(),ZE(),DE())}function NR(e){return e.whenStable()}function CD(){let e=[{provide:Ya,useFactory:()=>{let n=!0;return n=!!D(wo,{optional:!0})?.get(Cg,null),n&&Nt("NgHydration"),n}},{provide:Ln,useValue:()=>{zE(!1),D(Ya)&&(Wb(Ka()),AR())},multi:!0}];return e.push({provide:gg,useFactory:()=>D(Ya)},{provide:li,useFactory:()=>{if(D(Ya)){let n=D(jt);return()=>{NR(n).then(()=>{n.destroyed||Wg(n)})}}return()=>{}},multi:!0}),Cn(e)}function Ni(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function bD(e){let n=Cr(e);if(!n)return null;let t=new Co(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var DD=null;function Wn(){return DD}function x0(e){DD??=e}var ul=class{},dl=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(xD),providedIn:"platform"})}return e})(),M0=new F(""),xD=(()=>{class e extends dl{_location;_history;_doc=D(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wn().getBaseHref(this._doc)}onPopState(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Bd(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function ED(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function cr(e){return e&&e[0]!=="?"?`?${e}`:e}var ur=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(Hd),providedIn:"root"})}return e})(),Ud=new F(""),Hd=(()=>{class e extends ur{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(B(dl),B(Ud,8))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ri=(()=>{class e{_subject=new qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=FR(ED(wD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cr(r))}normalize(t){return e.stripTrailingSlash(kR(this._basePath,wD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cr;static joinWithSlash=Bd;static stripTrailingSlash=ED;static \u0275fac=function(r){return new(r||e)(B(ur))};static \u0275prov=k({token:e,factory:()=>RR(),providedIn:"root"})}return e})();function RR(){return new Ri(B(ur))}function kR(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function wD(e){return e.replace(/\/index.html$/,"")}function FR(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var N0=(()=>{class e extends ur{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Bd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(B(dl),B(Ud,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var R0=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(R0||{});var Bt=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(Bt||{}),Ve=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(Ve||{}),ln=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(ln||{}),cn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function PD(e){return sn(e)[at.LocaleId]}function OD(e,n,t){let r=sn(e),i=[r[at.DayPeriodsFormat],r[at.DayPeriodsStandalone]],o=Zn(i,n);return Zn(o,t)}function AD(e,n,t){let r=sn(e),i=[r[at.DaysFormat],r[at.DaysStandalone]],o=Zn(i,n);return Zn(o,t)}function ND(e,n,t){let r=sn(e),i=[r[at.MonthsFormat],r[at.MonthsStandalone]],o=Zn(i,n);return Zn(o,t)}function RD(e,n){let r=sn(e)[at.Eras];return Zn(r,n)}function fl(e,n){let t=sn(e);return Zn(t[at.DateFormat],n)}function pl(e,n){let t=sn(e);return Zn(t[at.TimeFormat],n)}function ml(e,n){let r=sn(e)[at.DateTimeFormat];return Zn(r,n)}function Or(e,n){let t=sn(e),r=t[at.NumberSymbols][n];if(typeof r>"u"){if(n===cn.CurrencyDecimal)return t[at.NumberSymbols][cn.Decimal];if(n===cn.CurrencyGroup)return t[at.NumberSymbols][cn.Group]}return r}function kD(e,n){return sn(e)[at.NumberFormats][n]}function FD(e){if(!e[at.ExtraData])throw new x(2303,!1)}function LD(e){let n=sn(e);return FD(n),(n[at.ExtraData][2]||[]).map(r=>typeof r=="string"?S0(r):[S0(r[0]),S0(r[1])])}function VD(e,n,t){let r=sn(e);FD(r);let i=[r[at.ExtraData][0],r[at.ExtraData][1]],o=Zn(i,n)||[];return Zn(o,t)||[]}function Zn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new x(2304,!1)}function S0(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var LR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$d={},VR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function jD(e,n,t,r){let i=WR(e);n=ci(t,n)||n;let s=[],a;for(;n;)if(a=VR.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=UD(r,l),i=qR(i,r));let c="";return s.forEach(f=>{let p=zR(f);c+=p?p(i,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Zd(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function ci(e,n){let t=PD(e);if($d[t]??={},$d[t][n])return $d[t][n];let r="";switch(n){case"shortDate":r=fl(e,ln.Short);break;case"mediumDate":r=fl(e,ln.Medium);break;case"longDate":r=fl(e,ln.Long);break;case"fullDate":r=fl(e,ln.Full);break;case"shortTime":r=pl(e,ln.Short);break;case"mediumTime":r=pl(e,ln.Medium);break;case"longTime":r=pl(e,ln.Long);break;case"fullTime":r=pl(e,ln.Full);break;case"short":let i=ci(e,"shortTime"),o=ci(e,"shortDate");r=zd(ml(e,ln.Short),[i,o]);break;case"medium":let s=ci(e,"mediumTime"),a=ci(e,"mediumDate");r=zd(ml(e,ln.Medium),[s,a]);break;case"long":let l=ci(e,"longTime"),c=ci(e,"longDate");r=zd(ml(e,ln.Long),[l,c]);break;case"full":let f=ci(e,"fullTime"),p=ci(e,"fullDate");r=zd(ml(e,ln.Full),[f,p]);break}return r&&($d[t][n]=r),r}function zd(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function dr(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function jR(e,n){return dr(e,3).substring(0,n)}function yt(e,n,t=0,r=!1,i=!1){return function(o,s){let a=BR(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return jR(a,n);let l=Or(s,cn.MinusSign);return dr(a,n,l,r,i)}}function BR(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new x(2301,!1)}}function Ge(e,n,t=Bt.Format,r=!1){return function(i,o){return UR(i,o,e,n,t,r)}}function UR(e,n,t,r,i,o){switch(t){case 2:return ND(n,i,r)[e.getMonth()];case 1:return AD(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=LD(n),f=VD(n,i,r),p=c.findIndex(v=>{if(Array.isArray(v)){let[g,y]=v,_=s>=g.hours&&a>=g.minutes,b=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(_&&b)return!0}else if(_||b)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return OD(n,i,r)[s<12?0:1];case 3:return RD(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new x(2302,!1)}}function Gd(e){return function(n,t,r){let i=-1*r,o=Or(t,cn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+dr(s,2,o)+dr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+dr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);default:throw new x(2310,!1)}}}var HR=0,Wd=4;function $R(e){let n=Zd(e,HR,1).getDay();return Zd(e,0,1+(n<=Wd?Wd:Wd+7)-n)}function BD(e){let n=e.getDay(),t=n===0?-3:Wd-n;return Zd(e.getFullYear(),e.getMonth(),e.getDate()+t)}function I0(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=BD(t),s=$R(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return dr(i,e,Or(r,cn.MinusSign))}}function qd(e,n=!1){return function(t,r){let o=BD(t).getFullYear();return dr(o,e,Or(r,cn.MinusSign),n)}}var T0={};function zR(e){if(T0[e])return T0[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ge(3,Ve.Abbreviated);break;case"GGGG":n=Ge(3,Ve.Wide);break;case"GGGGG":n=Ge(3,Ve.Narrow);break;case"y":n=yt(0,1,0,!1,!0);break;case"yy":n=yt(0,2,0,!0,!0);break;case"yyy":n=yt(0,3,0,!1,!0);break;case"yyyy":n=yt(0,4,0,!1,!0);break;case"Y":n=qd(1);break;case"YY":n=qd(2,!0);break;case"YYY":n=qd(3);break;case"YYYY":n=qd(4);break;case"M":case"L":n=yt(1,1,1);break;case"MM":case"LL":n=yt(1,2,1);break;case"MMM":n=Ge(2,Ve.Abbreviated);break;case"MMMM":n=Ge(2,Ve.Wide);break;case"MMMMM":n=Ge(2,Ve.Narrow);break;case"LLL":n=Ge(2,Ve.Abbreviated,Bt.Standalone);break;case"LLLL":n=Ge(2,Ve.Wide,Bt.Standalone);break;case"LLLLL":n=Ge(2,Ve.Narrow,Bt.Standalone);break;case"w":n=I0(1);break;case"ww":n=I0(2);break;case"W":n=I0(1,!0);break;case"d":n=yt(2,1);break;case"dd":n=yt(2,2);break;case"c":case"cc":n=yt(7,1);break;case"ccc":n=Ge(1,Ve.Abbreviated,Bt.Standalone);break;case"cccc":n=Ge(1,Ve.Wide,Bt.Standalone);break;case"ccccc":n=Ge(1,Ve.Narrow,Bt.Standalone);break;case"cccccc":n=Ge(1,Ve.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":n=Ge(1,Ve.Abbreviated);break;case"EEEE":n=Ge(1,Ve.Wide);break;case"EEEEE":n=Ge(1,Ve.Narrow);break;case"EEEEEE":n=Ge(1,Ve.Short);break;case"a":case"aa":case"aaa":n=Ge(0,Ve.Abbreviated);break;case"aaaa":n=Ge(0,Ve.Wide);break;case"aaaaa":n=Ge(0,Ve.Narrow);break;case"b":case"bb":case"bbb":n=Ge(0,Ve.Abbreviated,Bt.Standalone,!0);break;case"bbbb":n=Ge(0,Ve.Wide,Bt.Standalone,!0);break;case"bbbbb":n=Ge(0,Ve.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ge(0,Ve.Abbreviated,Bt.Format,!0);break;case"BBBB":n=Ge(0,Ve.Wide,Bt.Format,!0);break;case"BBBBB":n=Ge(0,Ve.Narrow,Bt.Format,!0);break;case"h":n=yt(3,1,-12);break;case"hh":n=yt(3,2,-12);break;case"H":n=yt(3,1);break;case"HH":n=yt(3,2);break;case"m":n=yt(4,1);break;case"mm":n=yt(4,2);break;case"s":n=yt(5,1);break;case"ss":n=yt(5,2);break;case"S":n=yt(6,1);break;case"SS":n=yt(6,2);break;case"SSS":n=yt(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Gd(0);break;case"ZZZZZ":n=Gd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Gd(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Gd(2);break;default:return null}return T0[e]=n,n}function UD(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function GR(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function qR(e,n,t){let i=e.getTimezoneOffset(),o=UD(n,i);return GR(e,-1*(o-i))}function WR(e){if(MD(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Zd(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(LR))return ZR(r)}let n=new Date(e);if(!MD(n))throw new x(2311,!1);return n}function ZR(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function MD(e){return e instanceof Date&&!isNaN(e.valueOf())}var KR=/^(\d+)?\.((\d+)(-(\d+))?)?$/,SD=22,Kd=".",hl="0",YR=";",QR=",",P0="#";function XR(e,n,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Or(t,cn.Infinity);else{let c=t2(e);s&&(c=e2(c));let f=n.minInt,p=n.minFrac,v=n.maxFrac;if(o){let M=o.match(KR);if(M===null)throw new x(2306,!1);let R=M[1],V=M[3],se=M[5];R!=null&&(f=O0(R)),V!=null&&(p=O0(V)),se!=null?v=O0(se):V!=null&&p>v&&(v=p)}n2(c,p,v);let g=c.digits,y=c.integerLen,_=c.exponent,b=[];for(l=g.every(M=>!M);y<f;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?b=g.splice(y,g.length):(b=g,g=[0]);let C=[];for(g.length>=n.lgSize&&C.unshift(g.splice(-n.lgSize,g.length).join(""));g.length>n.gSize;)C.unshift(g.splice(-n.gSize,g.length).join(""));g.length&&C.unshift(g.join("")),a=C.join(Or(t,r)),b.length&&(a+=Or(t,i)+b.join("")),_&&(a+=Or(t,cn.Exponential)+"+"+_)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function HD(e,n,t){let r=kD(n,R0.Decimal),i=JR(r,Or(n,cn.MinusSign));return XR(e,i,n,cn.Group,cn.Decimal,t)}function JR(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(YR),i=r[0],o=r[1],s=i.indexOf(Kd)!==-1?i.split(Kd):[i.substring(0,i.lastIndexOf(hl)+1),i.substring(i.lastIndexOf(hl)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(P0));for(let f=0;f<l.length;f++){let p=l.charAt(f);p===hl?t.minFrac=t.maxFrac=f+1:p===P0?t.maxFrac=f+1:t.posSuf+=p}let c=a.split(QR);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let f=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(P0);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+f).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function e2(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function t2(e){let n=Math.abs(e)+"",t=0,r,i,o,s,a;for((i=n.indexOf(Kd))>-1&&(n=n.replace(Kd,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===hl;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===hl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>SD&&(r=r.splice(0,SD-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function n2(e,n,t){if(n>t)throw new x(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(n,i),t),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=n+e.integerLen,f=r.reduceRight(function(p,v,g,y){return v=v+p,y[g]=v<10?v:v-10,l&&(y[g]===0&&g>=c?y.pop():l=!1),v>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}function O0(e){let n=parseInt(e);if(isNaN(n))throw new x(2305,!1);return n}var A0=/\s+/,ID=[],Ro=(()=>{class e{_ngEl;_renderer;initialClasses=ID;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(A0):ID}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(A0):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(A0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(H(At),H(ar))};static \u0275dir=ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var k0=(()=>{class e{_viewContainer;_context=new Yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(H(Mi),H(_o))};static \u0275dir=ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Yd=class{$implicit=null;ngIf=null};function TD(e,n){if(e&&!e.createEmbeddedView)throw new x(2020,!1)}function F0(e,n){return new x(2100,!1)}var r2="mediumDate",$D=new F(""),zD=new F(""),L0=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??r2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return jD(t,s,o||this.locale,a)}catch(s){throw F0(e,s.message)}}static \u0275fac=function(r){return new(r||e)(H(Ls,16),H($D,24),H(zD,24))};static \u0275pipe=Mo({name:"date",type:e,pure:!0})}return e})();var gl=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!i2(t))return null;i||=this._locale;try{let o=o2(t);return HD(o,i,r)}catch(o){throw F0(e,o.message)}}static \u0275fac=function(r){return new(r||e)(H(Ls,16))};static \u0275pipe=Mo({name:"number",type:e,pure:!0})}return e})();function i2(e){return!(e==null||e===""||e!==e)}function o2(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new x(2309,!1);return e}var vl=(()=>{class e{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw F0(e,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Mo({name:"slice",type:e,pure:!1})}return e})();var Ze=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=_n({})}return e})();function yl(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ko=class{};var j0="browser";function Qd(e){return e===j0}var GD=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new V0(D(Le),window)})}return e})(),V0=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(Y(S({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=a2(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(kn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Y(S({},t),{left:i-s[0],top:o-s[1]}))}};function a2(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var _l=class{_doc;constructor(n){this._doc=n}manager},Xd=(()=>{class e extends _l{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(B(Le))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),ef=new F(""),z0=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Xd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Xd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(B(ef),B($e))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),B0="ng-app-id";function qD(e){for(let n of e)n.remove()}function WD(e,n){let t=n.createElement("style");return t.textContent=e,t}function l2(e,n,t,r){let i=e.head?.querySelectorAll(`style[${B0}="${n}"],link[${B0}="${n}"]`);if(i)for(let o of i)o.removeAttribute(B0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function H0(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var G0=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,l2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,WD);r?.forEach(i=>this.addUsage(i,this.external,H0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(qD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])qD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,WD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,H0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(B(Le),B(Tr),B(rd,8),B(Pr))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),U0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q0=/%COMP%/g;var KD="%COMP%",c2=`_nghost-${KD}`,u2=`_ngcontent-${KD}`,d2=!0,f2=new F("",{providedIn:"root",factory:()=>d2});function p2(e){return u2.replace(q0,e)}function m2(e){return c2.replace(q0,e)}function YD(e,n){return n.map(t=>t.replace(q0,e))}var El=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Cl(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Jd?i.applyToHost(t):i instanceof bl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case ni.Emulated:o=new Jd(l,c,r,this.appId,f,s,a,p,v);break;case ni.ShadowDom:return new $0(l,c,t,r,s,a,this.nonce,p,v);default:o=new bl(l,c,r,f,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(B(z0),B(G0),B(Tr),B(f2),B(Le),B(Pr),B($e),B(rd),B(Do,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Cl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(U0[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ZD(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ZD(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=U0[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=U0[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Ir.DashCase|Ir.Important)?n.style.setProperty(t,r,i&Ir.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ir.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Wn().getGlobalEventTarget(this.doc,n),!n))throw new x(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function ZD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var $0=class extends Cl{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=YD(i.id,f);for(let v of f){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let v of p){let g=H0(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bl=class extends Cl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=c?YD(c,f):f,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ps.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jd=class extends bl{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let f=i+"-"+r.id;super(n,t,r,o,s,a,l,c,f),this.contentAttr=p2(f),this.hostAttr=m2(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var tf=class e extends ul{supportsDOMEvents=!0;static makeCurrent(){x0(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=h2();return t==null?null:g2(t)}resetBaseElement(){wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return yl(document.cookie,n)}},wl=null;function h2(){return wl=wl||document.head.querySelector("base"),wl?wl.getAttribute("href"):null}function g2(e){return new URL(e,document.baseURI).pathname}var v2=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),QD=["alt","control","meta","shift"],y2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},XD=(()=>{class e extends _l{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),QD.forEach(c=>{let f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=y2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QD.forEach(s=>{if(s!==i){let a=_2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(B(Le))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function W0(e,n,t){let r=S({rootComponent:e,platformRef:t?.platformRef},C2(n));return yD(r)}function C2(e){return{appProviders:[...x2,...e?.providers??[]],platformProviders:D2}}function b2(){tf.makeCurrent()}function E2(){return new Nn}function w2(){return pg(document),document}var D2=[{provide:Pr,useValue:j0},{provide:td,useValue:b2,multi:!0},{provide:Le,useFactory:w2}];var x2=[{provide:Pa,useValue:"root"},{provide:Nn,useFactory:E2},{provide:ef,useClass:Xd,multi:!0,deps:[Le]},{provide:ef,useClass:XD,multi:!0,deps:[Le]},El,G0,z0,{provide:ii,useExisting:El},{provide:ko,useClass:v2},[]];var js=class{},Bs=class{},fr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var of=class{encodeKey(n){return JD(n)}encodeValue(n){return JD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function M2(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var S2=/%(\d[a-f0-9])/gi,I2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JD(e){return encodeURIComponent(e).replace(S2,(n,t)=>I2[t]??n)}function nf(e){return`${e}`}var ui=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new of,n.fromString){if(n.fromObject)throw new x(2805,!1);this.map=M2(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(nf):[nf(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(nf(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(nf(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var sf=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function T2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ex(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function tx(e){return typeof Blob<"u"&&e instanceof Blob}function nx(e){return typeof FormData<"u"&&e instanceof FormData}function P2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Dl="Content-Type",af="Accept",X0="X-Request-URL",ix="text/plain",ox="application/json",sx=`${ox}, ${ix}, */*`,Vs=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(T2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new x(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new fr,this.context??=new sf,!this.params)this.params=new ui,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ex(this.body)||tx(this.body)||nx(this.body)||P2(this.body)?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nx(this.body)?null:tx(this.body)?this.body.type||null:ex(this.body)?null:typeof this.body=="string"?ix:this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ox:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,f=n.credentials||this.credentials,p=n.referrer||this.referrer,v=n.integrity||this.integrity,g=n.transferCache??this.transferCache,y=n.timeout??this.timeout,_=n.body!==void 0?n.body:this.body,b=n.withCredentials??this.withCredentials,C=n.reportProgress??this.reportProgress,M=n.headers||this.headers,R=n.params||this.params,V=n.context??this.context;return n.setHeaders!==void 0&&(M=Object.keys(n.setHeaders).reduce((se,re)=>se.set(re,n.setHeaders[re]),M)),n.setParams&&(R=Object.keys(n.setParams).reduce((se,re)=>se.set(re,n.setParams[re]),R)),new e(t,r,_,{params:R,headers:M,context:V,reportProgress:C,responseType:i,withCredentials:b,transferCache:g,keepalive:o,cache:a,priority:s,timeout:y,mode:l,redirect:c,credentials:f,referrer:p,integrity:v})}},di=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(di||{}),Us=class{headers;status;statusText;url;ok;type;redirected;constructor(n,t=200,r="OK"){this.headers=n.headers||new fr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},xl=class e extends Us{constructor(n={}){super(n)}type=di.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Lo=class e extends Us{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=di.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},Ar=class extends Us{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},ax=200,O2=204;function Z0(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var Nr=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Vs)o=t;else{let l;i.headers instanceof fr?l=i.headers:l=new fr(i.headers);let c;i.params&&(i.params instanceof ui?c=i.params:c=new ui({fromObject:i.params})),o=new Vs(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=U(o).pipe(_r(l=>this.handler.handle(l)));if(t instanceof Vs||i.observe==="events")return s;let a=s.pipe(Lt(l=>l instanceof Lo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new x(2806,!1);return l.body}));case"blob":return a.pipe(oe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new x(2807,!1);return l.body}));case"text":return a.pipe(oe(l=>{if(l.body!==null&&typeof l.body!="string")throw new x(2808,!1);return l.body}));case"json":default:return a.pipe(oe(l=>l.body))}case"response":return a;default:throw new x(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Z0(i,r))}post(t,r,i={}){return this.request("POST",t,Z0(i,r))}put(t,r,i={}){return this.request("PUT",t,Z0(i,r))}static \u0275fac=function(r){return new(r||e)(B(js))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),A2=/^\)\]\}',?\n/;function rx(e){if(e.url)return e.url;let n=X0.toLocaleLowerCase();return e.headers.get(n)}var lx=new F(""),rf=(()=>{class e{fetchImpl=D(K0,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=D($e);destroyRef=D(Vt);handle(t){return new Ce(r=>{let i=new AbortController;this.doRequest(t,i.signal,r).then(Y0,s=>r.error(new Ar({error:s})));let o;return t.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},t.timeout))),()=>{o!==void 0&&clearTimeout(o),i.abort()}})}async doRequest(t,r,i){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,S({signal:r},o)));N2(y),i.next({type:di.Sent}),s=await y}catch(y){i.error(new Ar({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new fr(s.headers),l=s.statusText,c=rx(s)??t.urlWithParams,f=s.status,p=null;if(t.reportProgress&&i.next(new xl({headers:a,status:f,statusText:l,url:c})),s.body){let y=s.headers.get("content-length"),_=[],b=s.body.getReader(),C=0,M,R,V=typeof Zone<"u"&&Zone.current,se=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await b.cancel(),se=!0;break}let{done:K,value:te}=await b.read();if(K)break;if(_.push(te),C+=te.length,t.reportProgress){R=t.responseType==="text"?(R??"")+(M??=new TextDecoder).decode(te,{stream:!0}):void 0;let be=()=>i.next({type:di.DownloadProgress,total:y?+y:void 0,loaded:C,partialText:R});V?V.run(be):be()}}}),se){i.complete();return}let re=this.concatChunks(_,C);try{let K=s.headers.get(Dl)??"";p=this.parseBody(t,re,K,f)}catch(K){i.error(new Ar({error:K,headers:new fr(s.headers),status:s.status,statusText:s.statusText,url:rx(s)??t.urlWithParams}));return}}f===0&&(f=p?ax:0);let v=f>=200&&f<300,g=s.redirected;v?(i.next(new Lo({body:p,headers:a,status:f,statusText:l,url:c,redirected:g})),i.complete()):i.error(new Ar({error:p,headers:a,status:f,statusText:l,url:c,redirected:g}))}parseBody(t,r,i,o){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(A2,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i;if(i=t.credentials,t.withCredentials&&(i="include"),t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has(af)||(r[af]=sx),!t.headers.has(Dl)){let o=t.detectContentTypeHeader();o!==null&&(r[Dl]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i,keepalive:t.keepalive,cache:t.cache,priority:t.priority,mode:t.mode,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),K0=class{};function Y0(){}function N2(e){e.then(Y0,Y0)}function R2(e,n){return n(e)}function k2(e,n,t){return(r,i)=>Et(t,()=>n(r,o=>e(o,i)))}var cx=new F(""),J0=new F(""),ux=new F("",{providedIn:"root",factory:()=>!0});var lf=(()=>{class e extends js{backend;injector;chain=null;pendingTasks=D(mo);contributeToStability=D(ux);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(cx),...this.injector.get(J0,[])]));this.chain=r.reduceRight((i,o)=>k2(i,o,this.injector),R2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Xi(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(B(Bs),B(rt))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var F2=/^\)\]\}',?\n/,L2=RegExp(`^${X0}:`,"m");function V2(e){return"responseURL"in e&&e.responseURL?e.responseURL:L2.test(e.getAllResponseHeaders())?e.getResponseHeader(X0):null}var Q0=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return U(null).pipe(Xe(()=>new Ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,C)=>s.setRequestHeader(b,C.join(","))),t.headers.has(af)||s.setRequestHeader(af,sx),!t.headers.has(Dl)){let b=t.detectContentTypeHeader();b!==null&&s.setRequestHeader(Dl,b)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let b=t.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=s.statusText||"OK",C=new fr(s.getAllResponseHeaders()),M=V2(s)||t.url;return l=new xl({headers:C,status:s.status,statusText:b,url:M}),l},f=()=>{let{headers:b,status:C,statusText:M,url:R}=c(),V=null;C!==O2&&(V=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=V?ax:0);let se=C>=200&&C<300;if(t.responseType==="json"&&typeof V=="string"){let re=V;V=V.replace(F2,"");try{V=V!==""?JSON.parse(V):null}catch(K){V=re,se&&(se=!1,V={error:K,text:V})}}se?(o.next(new Lo({body:V,headers:b,status:C,statusText:M,url:R||void 0})),o.complete()):o.error(new Ar({error:V,headers:b,status:C,statusText:M,url:R||void 0}))},p=b=>{let{url:C}=c(),M=new Ar({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(M)},v=p;t.timeout&&(v=b=>{let{url:C}=c(),M=new Ar({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:C||void 0});o.error(M)});let g=!1,y=b=>{g||(o.next(c()),g=!0);let C={type:di.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),t.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},_=b=>{let C={type:di.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),o.next(C)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",v),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:di.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",v),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(B(ko))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),dx=new F(""),j2="XSRF-TOKEN",B2=new F("",{providedIn:"root",factory:()=>j2}),U2="X-XSRF-TOKEN",H2=new F("",{providedIn:"root",factory:()=>U2}),Ml=class{},$2=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(B(Le),B(B2))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function z2(e,n){let t=e.url.toLowerCase();if(!D(dx)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=D(Ml).getToken(),i=D(H2);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var ev=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(ev||{});function G2(e,n){return{\u0275kind:e,\u0275providers:n}}function tv(...e){let n=[Nr,Q0,lf,{provide:js,useExisting:lf},{provide:Bs,useFactory:()=>D(lx,{optional:!0})??D(Q0)},{provide:cx,useValue:z2,multi:!0},{provide:dx,useValue:!0},{provide:Ml,useClass:$2}];for(let t of e)n.push(...t.\u0275providers);return Cn(n)}function nv(){return G2(ev.Fetch,[rf,{provide:lx,useExisting:rf},{provide:Bs,useExisting:rf}])}var q2=new F(""),W2="b",Z2="h",K2="s",Y2="st",Q2="u",X2="rt",rv=new F(""),J2=["GET","HEAD"];function ek(e,n){let g=D(rv),{isCacheActive:t}=g,r=vc(g,["isCacheActive"]),{transferCache:i,method:o}=e;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!J2.includes(o)||!r.includeRequestsWithAuthHeaders&&tk(e)||r.filter?.(e)===!1)return n(e);let s=D(wo);if(D(q2,{optional:!0}))throw new x(2803,!1);let l=e.url,c=nk(e,l),f=s.get(c,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),f){let{[W2]:y,[X2]:_,[Z2]:b,[K2]:C,[Y2]:M,[Q2]:R}=f,V=y;switch(_){case"arraybuffer":V=new TextEncoder().encode(y).buffer;break;case"blob":V=new Blob([y]);break}let se=new fr(b);return U(new Lo({body:V,headers:se,status:C,statusText:M,url:R}))}return n(e)}function tk(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function fx(e){return[...e.keys()].sort().map(n=>`${n}=${e.getAll(n)}`).join("&")}function nk(e,n){let{params:t,method:r,responseType:i}=e,o=fx(t),s=e.serializeBody();s instanceof URLSearchParams?s=fx(s):typeof s!="string"&&(s="");let a=[r,i,n,s,o].join("|"),l=rk(a);return l}function rk(e){let n=0;for(let t of e)n=Math.imul(31,n)+t.charCodeAt(0)<<0;return n+=2147483648,n.toString()}function px(e){return[{provide:rv,useFactory:()=>(Nt("NgHttpTransferCache"),S({isCacheActive:!0},e))},{provide:J0,useValue:ek,multi:!0},{provide:li,multi:!0,useFactory:()=>{let n=D(jt),t=D(rv);return()=>{n.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var hx=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(B(Le))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=B(ik),i},providedIn:"root"})}return e})(),ik=(()=>{class e extends iv{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case sr.NONE:return r;case sr.HTML:return si(r,"HTML")?zn(r):Sg(this._doc,String(r)).toString();case sr.STYLE:return si(r,"Style")?zn(r):r;case sr.SCRIPT:if(si(r,"Script"))return zn(r);throw new x(5200,!1);case sr.URL:return si(r,"URL")?zn(r):Xa(String(r));case sr.RESOURCE_URL:if(si(r,"ResourceURL"))return zn(r);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(t){return Eg(t)}bypassSecurityTrustStyle(t){return wg(t)}bypassSecurityTrustScript(t){return Dg(t)}bypassSecurityTrustUrl(t){return xg(t)}bypassSecurityTrustResourceUrl(t){return Mg(t)}static \u0275fac=function(r){return new(r||e)(B(Le))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cf=(function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e})(cf||{});function ok(e,n=[],t={}){return{\u0275kind:e,\u0275providers:n}}function gx(){return ok(cf.EventReplay,_D())}function vx(...e){let n=[],t=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)t.add(o),i.length&&n.push(i);let r=t.has(cf.HttpTransferCacheOptions);return Cn([[],[],CD(),t.has(cf.NoHttpTransferCache)||r?[]:px({}),n])}var de="primary",jl=Symbol("RouteTitle"),cv=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Bo(e){return new cv(e)}function Mx(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function sk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Rr(e[t],n[t]))return!1;return!0}function Rr(e,n){let t=e?uv(e):void 0,r=n?uv(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Sx(e[i],n[i]))return!1;return!0}function uv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Sx(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function Ix(e){return e.length>0?e[e.length-1]:null}function fi(e){return im(e)?e:Si(e)?He(Promise.resolve(e)):U(e)}var ak={exact:Px,subset:Ox},Tx={exact:lk,subset:ck,ignored:()=>!0};function _x(e,n,t){return ak[t.paths](e.root,n.root,t.matrixParams)&&Tx[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function lk(e,n){return Rr(e,n)}function Px(e,n,t){if(!Vo(e.segments,n.segments)||!ff(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Px(e.children[r],n.children[r],t))return!1;return!0}function ck(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Sx(e[t],n[t]))}function Ox(e,n,t){return Ax(e,n,n.segments,t)}function Ax(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Vo(i,t)||n.hasChildren()||!ff(i,t,r))}else if(e.segments.length===t.length){if(!Vo(e.segments,t)||!ff(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!Ox(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Vo(e.segments,i)||!ff(e.segments,i,r)||!e.children[de]?!1:Ax(e.children[de],n,o,r)}}function ff(e,n,t){return n.every((r,i)=>Tx[t](e[i].parameters,r.parameters))}var Fr=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ae([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){return fk.serialize(this)}},Ae=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}},ki=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Bo(this.parameters),this._parameterMap}toString(){return Rx(this)}};function uk(e,n){return Vo(e,n)&&e.every((t,r)=>Rr(t.parameters,n[r].parameters))}function Vo(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function dk(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===de&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==de&&(t=t.concat(n(i,r)))}),t}var Uo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new Fi,providedIn:"root"})}return e})(),Fi=class{parse(n){let t=new fv(n);return new Fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Sl(n.root,!0)}`,r=hk(n.queryParams),i=typeof n.fragment=="string"?`#${pk(n.fragment)}`:"";return`${t}${r}${i}`}},fk=new Fi;function pf(e){return e.segments.map(n=>Rx(n)).join("/")}function Sl(e,n){if(!e.hasChildren())return pf(e);if(n){let t=e.children[de]?Sl(e.children[de],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${Sl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=dk(e,(r,i)=>i===de?[Sl(e.children[de],!1)]:[`${i}:${Sl(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[de]!=null?`${pf(e)}/${t[0]}`:`${pf(e)}/(${t.join("//")})`}}function Nx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uf(e){return Nx(e).replace(/%3B/gi,";")}function pk(e){return encodeURI(e)}function dv(e){return Nx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mf(e){return decodeURIComponent(e)}function Cx(e){return mf(e.replace(/\+/g,"%20"))}function Rx(e){return`${dv(e.path)}${mk(e.parameters)}`}function mk(e){return Object.entries(e).map(([n,t])=>`;${dv(n)}=${dv(t)}`).join("")}function hk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${uf(t)}=${uf(i)}`).join("&"):`${uf(t)}=${uf(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var gk=/^[^\/()?;#]+/;function ov(e){let n=e.match(gk);return n?n[0]:""}var vk=/^[^\/()?;=#]+/;function yk(e){let n=e.match(vk);return n?n[0]:""}var _k=/^[^=?&#]+/;function Ck(e){let n=e.match(_k);return n?n[0]:""}var bk=/^[^&#]+/;function Ek(e){let n=e.match(bk);return n?n[0]:""}var fv=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[de]=new Ae(n,t)),r}parseSegment(){let n=ov(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(n),new ki(mf(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=yk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ov(this.remaining);i&&(r=i,this.capture(r))}n[mf(t)]=mf(r)}parseQueryParam(n){let t=Ck(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Ek(this.remaining);s&&(r=s,this.capture(r))}let i=Cx(t),o=Cx(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ov(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=de);let s=this.parseChildren();t[o??de]=Object.keys(s).length===1&&s[de]?s[de]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new x(4011,!1)}};function kx(e){return e.segments.length>0?new Ae([],{[de]:e}):e}function Fx(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Fx(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new Ae(e.segments,n);return wk(t)}function wk(e){if(e.numberOfChildren===1&&e.children[de]){let n=e.children[de];return new Ae(e.segments.concat(n.segments),n.children)}return e}function Li(e){return e instanceof Fr}function Lx(e,n,t=null,r=null){let i=Vx(e);return jx(i,n,t,r)}function Vx(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Ae(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=kx(r);return n??i}function jx(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return sv(i,i,i,t,r);let o=Dk(n);if(o.toRoot())return sv(i,i,new Ae([],{}),t,r);let s=xk(o,i,e),a=s.processChildren?Tl(s.segmentGroup,s.index,o.commands):Ux(s.segmentGroup,s.index,o.commands);return sv(i,s.segmentGroup,a,t,r)}function hf(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ol(e){return typeof e=="object"&&e!=null&&e.outlets}function sv(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;e===n?s=t:s=Bx(e,n,t);let a=kx(Fx(s));return new Fr(a,o,i)}function Bx(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Bx(o,n,t)}),new Ae(e.segments,r)}var gf=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&hf(r[0]))throw new x(4003,!1);let i=r.find(Ol);if(i&&i!==Ix(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new gf(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gf(t,n,r)}var zs=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function xk(e,n,t){if(e.isAbsolute)return new zs(n,!0,0);if(!t)return new zs(n,!1,NaN);if(t.parent===null)return new zs(t,!0,0);let r=hf(e.commands[0])?0:1,i=t.segments.length-1+r;return Mk(t,i,e.numberOfDoubleDots)}function Mk(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new zs(r,!1,i-o)}function Sk(e){return Ol(e[0])?e[0].outlets:{[de]:e}}function Ux(e,n,t){if(e??=new Ae([],{}),e.segments.length===0&&e.hasChildren())return Tl(e,n,t);let r=Ik(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ae(e.segments.slice(0,r.pathIndex),{});return o.children[de]=new Ae(e.segments.slice(r.pathIndex),e.children),Tl(o,0,i)}else return r.match&&i.length===0?new Ae(e.segments,{}):r.match&&!e.hasChildren()?pv(e,n,t):r.match?Tl(e,0,i):pv(e,n,t)}function Tl(e,n,t){if(t.length===0)return new Ae(e.segments,{});{let r=Sk(t),i={};if(Object.keys(r).some(o=>o!==de)&&e.children[de]&&e.numberOfChildren===1&&e.children[de].segments.length===0){let o=Tl(e.children[de],n,t);return new Ae(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ux(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(e.segments,i)}}function Ik(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Ol(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ex(l,c,s))return o;r+=2}else{if(!Ex(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pv(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Ol(o)){let l=Tk(o.outlets);return new Ae(r,l)}if(i===0&&hf(t[0])){let l=e.segments[n];r.push(new ki(l.path,bx(t[0]))),i++;continue}let s=Ol(o)?o.outlets[de]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hf(a)?(r.push(new ki(s,bx(a))),i+=2):(r.push(new ki(s,{})),i++)}return new Ae(r,{})}function Tk(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=pv(new Ae([],{}),0,r))}),n}function bx(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Ex(e,n,t){return e==t.path&&Rr(n,t.parameters)}var Gs="imperative",bt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(bt||{}),Tn=class{id;url;constructor(n,t){this.id=n,this.url=t}},Vi=class extends Tn{type=bt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kn=class extends Tn{urlAfterRedirects;type=bt.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Qt||{}),Ws=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Ws||{}),kr=class extends Tn{reason;code;type=bt.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends Tn{reason;code;type=bt.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Zs=class extends Tn{error;target;type=bt.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Al=class extends Tn{urlAfterRedirects;state;type=bt.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends Tn{urlAfterRedirects;state;type=bt.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends Tn{urlAfterRedirects;state;shouldActivate;type=bt.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_f=class extends Tn{urlAfterRedirects;state;type=bt.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends Tn{urlAfterRedirects;state;type=bt.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bf=class{route;type=bt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ef=class{route;type=bt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wf=class{snapshot;type=bt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Df=class{snapshot;type=bt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xf=class{snapshot;type=bt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{snapshot;type=bt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ks=class{routerEvent;position;anchor;type=bt.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Nl=class{},Ys=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Pk(e){return!(e instanceof Nl)&&!(e instanceof Ys)}function Ok(e,n){return e.providers&&!e._injector&&(e._injector=xo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function pr(e){return e.outlet||de}function Ak(e,n){let t=e.filter(r=>pr(r)===n);return t.push(...e.filter(r=>pr(r)!==n)),t}function Js(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Js(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ho(this.rootInjector)}},Ho=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(B(rt))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),If=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=mv(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=mv(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=hv(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return hv(n,this._root).map(t=>t.value)}};function mv(e,n){if(e===n.value)return n;for(let t of n.children){let r=mv(e,t);if(r)return r}return null}function hv(e,n){if(e===n.value)return[n];for(let t of n.children){let r=hv(e,t);if(r.length)return r.unshift(n),r}return[]}var In=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function $s(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Rl=class extends If{snapshot;constructor(n,t){super(n),this.snapshot=t,wv(this,n)}toString(){return this.snapshot.toString()}};function Hx(e){let n=Nk(e),t=new Tt([new ki("",{})]),r=new Tt({}),i=new Tt({}),o=new Tt({}),s=new Tt(""),a=new Ut(t,r,o,s,i,de,e,n.root);return a.snapshot=n.root,new Rl(new In(a,[]),n)}function Nk(e){let n={},t={},r={},o=new jo([],n,r,"",t,de,e,null,{});return new kl("",new In(o,[]))}var Ut=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(c=>c[jl]))??U(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(n=>Bo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(n=>Bo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tf(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),i?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},i&&zx(i)&&(r.resolve[jl]=i.title),r}var jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jl]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},kl=class extends If{url;constructor(n,t){super(t),this.url=n,wv(this,t)}toString(){return $x(this._root)}};function wv(e,n){n.value._routerState=e,n.children.forEach(t=>wv(e,t))}function $x(e){let n=e.children.length>0?` { ${e.children.map($x).join(", ")} } `:"";return`${e.value}${n}`}function av(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Rr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Rr(n.params,t.params)||e.paramsSubject.next(t.params),sk(n.url,t.url)||e.urlSubject.next(t.url),Rr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function gv(e,n){let t=Rr(e.params,n.params)&&uk(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||gv(e.parent,n.parent))}function zx(e){return typeof e.title=="string"||e.title===null}var Gx=new F(""),$o=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=de;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=vD();parentContexts=D(Ho);location=D(Mi);changeDetector=D(Ai);inputBinder=D(Bl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[oi]})}return e})(),vv=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Ut?this.route:n===Ho?this.childContexts:n===Gx?this.outletData:this.parent.get(n,t)}},Bl=new F(""),Dv=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Qi([r.queryParams,r.params,r.data]).pipe(Xe(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?U(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=bD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),xv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&E(0,"router-outlet")},dependencies:[$o],encapsulation:2})}return e})();function Mv(e){let n=e.children&&e.children.map(Mv),t=n?Y(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=xv),t}function Rk(e,n,t){let r=Fl(e,n._root,t?t._root:void 0);return new Rl(r,n)}function Fl(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=kk(e,n,t);return new In(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Fl(e,a)),s}}let r=Fk(n.value),i=n.children.map(o=>Fl(e,o));return new In(r,i)}}function kk(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Fl(e,r,i);return Fl(e,r)})}function Fk(e){return new Ut(new Tt(e.url),new Tt(e.params),new Tt(e.queryParams),new Tt(e.fragment),new Tt(e.data),e.outlet,e.component,e)}var Qs=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},qx="ngNavigationCancelingError";function Pf(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Li(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Wx(!1,Qt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Wx(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[qx]=!0,t.cancellationCode=n,t}function Lk(e){return Zx(e)&&Li(e.url)}function Zx(e){return!!e&&e[qx]}var Vk=(e,n,t,r)=>oe(i=>(new yv(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),yv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),av(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=$s(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$s(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$s(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=$s(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Df(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(av(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),av(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Of=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},qs=class{component;route;constructor(n,t){this.component=n,this.route=t}};function jk(e,n,t){let r=e._root,i=n?n._root:null;return Il(r,i,t,[r.value])}function Bk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function ea(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!bm(e)?e:n.get(e):r}function Il(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$s(n);return e.children.forEach(s=>{Uk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pl(a,t.getContext(s),i)),i}function Uk(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Hk(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Of(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Il(e,n,a?a.children:null,r,i):Il(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qs(a.outlet.component,s))}else s&&Pl(n,a,i),i.canActivateChecks.push(new Of(r)),o.component?Il(e,null,a?a.children:null,r,i):Il(e,null,t,r,i);return i}function Hk(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Vo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Vo(e.url,n.url)||!Rr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gv(e,n)||!Rr(e.queryParams,n.queryParams);case"paramsChange":default:return!gv(e,n)}}function Pl(e,n,t){let r=$s(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Pl(s,n.children.getContext(o),t):Pl(s,null,t):Pl(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new qs(n.outlet.component,i)):t.canDeactivateChecks.push(new qs(null,i)):t.canDeactivateChecks.push(new qs(null,i))}function Ul(e){return typeof e=="function"}function $k(e){return typeof e=="boolean"}function zk(e){return e&&Ul(e.canLoad)}function Gk(e){return e&&Ul(e.canActivate)}function qk(e){return e&&Ul(e.canActivateChild)}function Wk(e){return e&&Ul(e.canDeactivate)}function Zk(e){return e&&Ul(e.canMatch)}function Kx(e){return e instanceof Zr||e?.name==="EmptyError"}var df=Symbol("INITIAL_VALUE");function Xs(){return Xe(e=>Qi(e.map(n=>n.pipe(Kr(1),cm(df)))).pipe(oe(n=>{for(let t of n)if(t!==!0){if(t===df)return df;if(t===!1||Kk(t))return t}return!0}),Lt(n=>n!==df),Kr(1)))}function Kk(e){return Li(e)||e instanceof Qs}function Yk(e,n){return ct(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?U(Y(S({},t),{guardsResult:!0})):Qk(s,r,i,e).pipe(ct(a=>a&&$k(a)?Xk(r,o,e,n):U(a)),oe(a=>Y(S({},t),{guardsResult:a})))})}function Qk(e,n,t,r){return He(e).pipe(ct(i=>rF(i.component,i.route,t,n,r)),Yr(i=>i!==!0,!0))}function Xk(e,n,t,r){return He(n).pipe(_r(i=>fs(eF(i.route.parent,r),Jk(i.route,r),nF(e,i.path,t),tF(e,i.route,t))),Yr(i=>i!==!0,!0))}function Jk(e,n){return e!==null&&n&&n(new xf(e)),U(!0)}function eF(e,n){return e!==null&&n&&n(new wf(e)),U(!0)}function tF(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let i=r.map(o=>wa(()=>{let s=Js(n)??t,a=ea(o,s),l=Gk(a)?a.canActivate(n,e):Et(s,()=>a(n,e));return fi(l).pipe(Yr())}));return U(i).pipe(Xs())}function nF(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>Bk(s)).filter(s=>s!==null).map(s=>wa(()=>{let a=s.guards.map(l=>{let c=Js(s.node)??t,f=ea(l,c),p=qk(f)?f.canActivateChild(r,e):Et(c,()=>f(r,e));return fi(p).pipe(Yr())});return U(a).pipe(Xs())}));return U(o).pipe(Xs())}function rF(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let l=Js(n)??i,c=ea(a,l),f=Wk(c)?c.canDeactivate(e,n,t,r):Et(l,()=>c(e,n,t,r));return fi(f).pipe(Yr())});return U(s).pipe(Xs())}function iF(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return U(!0);let o=i.map(s=>{let a=ea(s,e),l=zk(a)?a.canLoad(n,t):Et(e,()=>a(n,t));return fi(l)});return U(o).pipe(Xs(),Yx(r))}function Yx(e){return Jp(Fe(n=>{if(typeof n!="boolean")throw Pf(e,n)}),oe(n=>n===!0))}function oF(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return U(!0);let o=i.map(s=>{let a=ea(s,e),l=Zk(a)?a.canMatch(n,t):Et(e,()=>a(n,t));return fi(l)});return U(o).pipe(Xs(),Yx(r))}var Ll=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Vl=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Hs(e){return An(new Ll(e))}function sF(e){return An(new x(4e3,!1))}function aF(e){return An(Wx(!1,Qt.GuardRejected))}var _v=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return U(r);if(i.numberOfChildren>1||!i.children[de])return sF(`${n.redirectTo}`);i=i.children[de]}}applyRedirectCommands(n,t,r,i,o){return lF(t,i,o).pipe(oe(s=>{if(s instanceof Fr)throw new Vl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Vl(a);return a}))}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new Fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new Ae(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function lF(e,n,t){if(typeof e=="string")return U(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:f,title:p}=n;return fi(Et(t,()=>r({params:c,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:p})))}var Cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(e,n,t,r,i){let o=Qx(e,n,t);return o.matched?(r=Ok(n,r),oF(r,n,t,i).pipe(oe(s=>s===!0?o:S({},Cv)))):U(o)}function Qx(e,n,t){if(n.path==="**")return uF(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},Cv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Mx)(t,e,n);if(!i)return S({},Cv);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uF(e){return{matched:!0,parameters:e.length>0?Ix(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function wx(e,n,t,r){return t.length>0&&pF(e,t,r)?{segmentGroup:new Ae(n,fF(r,new Ae(t,e.children))),slicedSegments:[]}:t.length===0&&mF(e,t,r)?{segmentGroup:new Ae(e.segments,dF(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ae(e.segments,e.children),slicedSegments:t}}function dF(e,n,t,r){let i={};for(let o of t)if(Nf(e,n,o)&&!r[pr(o)]){let s=new Ae([],{});i[pr(o)]=s}return S(S({},r),i)}function fF(e,n){let t={};t[de]=n;for(let r of e)if(r.path===""&&pr(r)!==de){let i=new Ae([],{});t[pr(r)]=i}return t}function pF(e,n,t){return t.some(r=>Nf(e,n,r)&&pr(r)!==de)}function mF(e,n,t){return t.some(r=>Nf(e,n,r))}function Nf(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function hF(e,n,t){return n.length===0&&!e.children[t]}var bv=class{};function gF(e,n,t,r,i,o,s="emptyOnly"){return new Ev(e,n,t,r,i,s,o).recognize()}var vF=31,Ev=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _v(this.urlSerializer,this.urlTree)}noMatchError(n){return new x(4002,`'${n.segmentGroup}'`)}recognize(){let n=wx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new In(r,t),o=new kl("",i),s=Lx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new jo([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,de,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Pt(r=>{if(r instanceof Vl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ll?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof In?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(_r(s=>{let a=r.children[s],l=Ak(t,s);return this.processSegmentGroup(n,l,a,s,i)}),am((s,a)=>(s.push(...a),s)),vi(null),sm(),ct(s=>{if(s===null)return Hs(r);let a=Xx(s);return yF(a),U(a)}))}processSegment(n,t,r,i,o,s,a){return He(t).pipe(_r(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Pt(c=>{if(c instanceof Ll)return U(null);throw c}))),Yr(l=>!!l),Pt(l=>{if(Kx(l))return hF(r,i,o)?U(new bv):Hs(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return pr(r)!==s&&(s===de||!Nf(i,o,r))?Hs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):Hs(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:f,positionalParamSegments:p,remainingSegments:v}=Qx(t,i,o);if(!l)return Hs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vF&&(this.allowRedirects=!1));let g=new jo(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Dx(i),pr(i),i.component??i._loadedComponent??null,i,xx(i)),y=Tf(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(y.params),g.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,g,n).pipe(Xe(b=>this.applyRedirects.lineralizeSegments(i,b)),ct(b=>this.processSegment(n,r,t,b.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=cF(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Xe(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Xe(({routes:c})=>{let f=r._loadedInjector??n,{parameters:p,consumedSegments:v,remainingSegments:g}=l,y=new jo(v,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Dx(r),pr(r),r.component??r._loadedComponent??null,r,xx(r)),_=Tf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:b,slicedSegments:C}=wx(t,v,g,c);if(C.length===0&&b.hasChildren())return this.processChildren(f,c,b,y).pipe(oe(R=>new In(y,R)));if(c.length===0&&C.length===0)return U(new In(y,[]));let M=pr(r)===o;return this.processSegment(f,c,b,C,M?de:o,!0,y).pipe(oe(R=>new In(y,R instanceof In?[R]:[])))}))):Hs(t)))}getChildConfig(n,t,r){return t.children?U({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?U({routes:t._loadedRoutes,injector:t._loadedInjector}):iF(n,t,r,this.urlSerializer).pipe(ct(i=>i?this.configLoader.loadChildren(n,t).pipe(Fe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):aF(t))):U({routes:[],injector:n})}};function yF(e){e.sort((n,t)=>n.value.outlet===de?-1:t.value.outlet===de?1:n.value.outlet.localeCompare(t.value.outlet))}function _F(e){let n=e.value.routeConfig;return n&&n.path===""}function Xx(e){let n=[],t=new Set;for(let r of e){if(!_F(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=Xx(r.children);n.push(new In(r.value,i))}return n.filter(r=>!t.has(r))}function Dx(e){return e.data||{}}function xx(e){return e.resolve||{}}function CF(e,n,t,r,i,o){return ct(s=>gF(e,n,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:l})=>Y(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function bF(e,n){return ct(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return U(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Jx(l))s.add(c);let a=0;return He(s).pipe(_r(l=>o.has(l)?EF(l,r,e,n):(l.data=Tf(l,l.parent,e).resolve,U(void 0))),Fe(()=>a++),ps(1),ct(l=>a===s.size?U(t):en))})}function Jx(e){let n=e.children.map(t=>Jx(t)).flat();return[e,...n]}function EF(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!zx(i)&&(o[jl]=i.title),wa(()=>(e.data=Tf(e,e.parent,t).resolve,wF(o,e,n,r).pipe(oe(s=>(e._resolvedData=s,e.data=S(S({},e.data),s),null)))))}function wF(e,n,t,r){let i=uv(e);if(i.length===0)return U({});let o={};return He(i).pipe(ct(s=>DF(e[s],n,t,r).pipe(Yr(),Fe(a=>{if(a instanceof Qs)throw Pf(new Fi,a);o[s]=a}))),ps(1),oe(()=>o),Pt(s=>Kx(s)?en:An(s)))}function DF(e,n,t,r){let i=Js(n)??r,o=ea(e,i),s=o.resolve?o.resolve(n,t):Et(i,()=>o(n,t));return fi(s)}function lv(e){return Xe(n=>{let t=e(n);return t?He(t).pipe(oe(()=>n)):U(n)})}var Sv=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[jl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(eM),providedIn:"root"})}return e})(),eM=(()=>{class e extends Sv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(B(hx))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ji=new F("",{providedIn:"root",factory:()=>({})}),zo=new F(""),Rf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(c0);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return U(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=fi(Et(t,()=>r.loadComponent())).pipe(oe(nM),Xe(rM),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xi(()=>{this.componentLoaders.delete(r)})),o=new us(i,()=>new qe).pipe(cs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=tM(r,this.compiler,t,this.onLoadEndListener).pipe(Xi(()=>{this.childrenLoaders.delete(r)})),s=new us(o,()=>new qe).pipe(cs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tM(e,n,t,r){return fi(Et(t,()=>e.loadChildren())).pipe(oe(nM),Xe(rM),ct(i=>i instanceof Dd||Array.isArray(i)?U(i):He(n.compileModuleAsync(i))),oe(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mv),injector:o}}))}function xF(e){return e&&typeof e=="object"&&"default"in e}function nM(e){return xF(e)?e.default:e}function rM(e){return U(e)}var kf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(MF),providedIn:"root"})}return e})(),MF=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iv=new F(""),Tv=new F("");function iM(e,n,t){let r=e.get(Tv),i=e.get(Le);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),SF(e)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&Et(e,()=>l({transition:a,from:n,to:t})),s}function SF(e){return new Promise(n=>{ks({read:()=>setTimeout(n)},{injector:e})})}var Pv=new F(""),Ff=(()=>{class e{currentNavigation=Z(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new qe;transitionAbortWithErrorSubject=new qe;configLoader=D(Rf);environmentInjector=D(rt);destroyRef=D(Vt);urlSerializer=D(Uo);rootContexts=D(Ho);location=D(Ri);inputBindingEnabled=D(Bl,{optional:!0})!==null;titleStrategy=D(Sv);options=D(ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(kf);createViewTransition=D(Iv,{optional:!0});navigationErrorHandler=D(Pv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new bf(i)),r=i=>this.events.next(new Ef(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Dt(()=>{this.transitions?.next(Y(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Tt(null),this.transitions.pipe(Lt(r=>r!==null),Xe(r=>{let i=!1;return U(r).pipe(Xe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),en;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Y(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ws.IgnoredSameUrlNavigation)),o.resolve(!1),en;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return U(o).pipe(Xe(l=>(this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?en:Promise.resolve(l))),CF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));let c=new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:f,restoredState:p,extras:v}=o,g=new Vi(l,this.urlSerializer.serialize(c),f,p);this.events.next(g);let y=Hx(this.rootComponentType).snapshot;return this.currentTransition=r=Y(S({},o),{targetSnapshot:y,urlAfterRedirects:c,extras:Y(S({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=c,_)),U(r)}else return this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ws.IgnoredByUrlHandlingStrategy)),o.resolve(!1),en}),Fe(o=>{let s=new vf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=Y(S({},o),{guards:jk(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Yk(this.environmentInjector,o=>this.events.next(o)),Fe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Pf(this.urlSerializer,o.guardsResult);let s=new yf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Qt.GuardRejected),!1)),lv(o=>{if(o.guards.canActivateChecks.length!==0)return U(o).pipe(Fe(s=>{let a=new _f(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Xe(s=>{let a=!1;return U(s).pipe(bF(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Qt.NoDataFromResolver)}}))}),Fe(s=>{let a=new Cf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),lv(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=Js(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Fe(f=>{a.component=f}),oe(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Qi(s(o.targetSnapshot.root)).pipe(vi(null),Kr(1))}),lv(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?He(a).pipe(oe(()=>r)):U(r)}),oe(o=>{let s=Rk(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Y(S({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Fe(()=>{this.events.next(new Nl)}),Vk(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Kr(1),ms(new Ce(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Lt(()=>!i&&!r.targetRouterState),Fe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Qt.Aborted)}))),Fe({next:o=>{i=!0,this.lastSuccessfulNavigation=Dt(this.currentNavigation),this.events.next(new Kn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ms(this.transitionAbortWithErrorSubject.pipe(Fe(o=>{throw o}))),Xi(()=>{i||this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Pt(o=>{if(this.destroyed)return r.resolve(!1),en;if(i=!0,Zx(o))this.events.next(new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Lk(o)?this.events.next(new Ys(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Zs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Qs){let{message:l,cancellationCode:c}=Pf(this.urlSerializer,a);this.events.next(new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Ys(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return en}))}))}cancelNavigationTransition(t,r,i){let o=new kr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Dt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IF(e){return e!==Gs}var oM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(TF),providedIn:"root"})}return e})(),Af=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},TF=(()=>{class e extends Af{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sM=(()=>{class e{urlSerializer=D(Uo);options=D(ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(Ri);urlHandlingStrategy=D(kf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Hx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>D(PF),providedIn:"root"})}return e})(),PF=(()=>{class e extends sM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Vi?this.updateStateMemento():t instanceof Lr?this.commitTransition(r):t instanceof Al?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kr&&t.code!==Qt.SupersededByNewNavigation&&t.code!==Qt.Redirect?this.restoreHistory(r):t instanceof Zs?this.restoreHistory(r,!0):t instanceof Kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lf(e,n){e.events.pipe(Lt(t=>t instanceof Kn||t instanceof kr||t instanceof Zs||t instanceof Lr),oe(t=>t instanceof Kn||t instanceof Lr?0:(t instanceof kr?t.code===Qt.Redirect||t.code===Qt.SupersededByNewNavigation:!1)?2:1),Lt(t=>t!==2),Kr(1)).subscribe(()=>{n()})}var OF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ke=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Md);stateManager=D(sM);options=D(ji,{optional:!0})||{};pendingTasks=D(rr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(Ff);urlSerializer=D(Uo);location=D(Ri);urlHandlingStrategy=D(kf);injector=D(rt);_events=new qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(oM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(zo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Bl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ht;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Dt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kr&&r.code!==Qt.Redirect&&r.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kn)this.navigated=!0;else if(r instanceof Ys){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IF(i.source)},s);this.scheduleNavigation(a,Gs,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Pk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Zt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Dt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=Vx(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return jx(p,t,f,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Li(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gs,null,r)}navigate(t,r={skipLocationChange:!1}){return NF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(kn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=S({},OF):r===!1?i=S({},AF):i=r,Li(t))return _x(this.currentUrlTree,t,i);let o=this.parseUrl(t);return _x(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,v)=>{a=p,l=v});let f=this.pendingTasks.add();return Lf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NF(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new x(4008,!1)}var xt=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Z(null);get href(){return Dt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new qe;applicationErrorHandler=D(Zt);options=D(ji,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(D(new jd("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Kn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(H(Ke),H(Ut),Za("tabindex"),H(ar),H(At),H(ur))};static \u0275dir=ze({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&N("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ot("href",i.reactiveHref(),Ig)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ni],replaceUrl:[2,"replaceUrl","replaceUrl",Ni],routerLink:"routerLink"},features:[oi]})}return e})();var Hl=class{};var aM=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(t=>t instanceof Kn),_r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=xo(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return He(i).pipe(ds())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=U(null);let o=i.pipe(ct(s=>s===null?U(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return He([o,s]).pipe(ds())}else return o})}static \u0275fac=function(r){return new(r||e)(B(Ke),B(rt),B(Hl),B(Rf))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lM=new F(""),RF=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Gs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Lr&&t.code===Ws.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ks))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ks(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Zg()};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function Av(e,...n){return Cn([{provide:zo,multi:!0,useValue:e},[],{provide:Ut,useFactory:cM,deps:[Ke]},{provide:li,multi:!0,useFactory:uM},n.map(t=>t.\u0275providers)])}function cM(e){return e.routerState.root}function $l(e,n){return{\u0275kind:e,\u0275providers:n}}function uM(){let e=D(_t);return n=>{let t=e.get(jt);if(n!==t.components[0])return;let r=e.get(Ke),i=e.get(dM);e.get(Nv)===1&&r.initialNavigation(),e.get(mM,null,{optional:!0})?.setUpPreloading(),e.get(lM,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dM=new F("",{factory:()=>new qe}),Nv=new F("",{providedIn:"root",factory:()=>1});function fM(){let e=[{provide:od,useValue:!0},{provide:Nv,useValue:0},Sd(()=>{let n=D(_t);return n.get(M0,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Ke),o=n.get(dM);Lf(i,()=>{r(!0)}),n.get(Ff).afterPreactivation=()=>(r(!0),o.closed?U(void 0):o),i.initialNavigation()}))})];return $l(2,e)}function pM(){let e=[Sd(()=>{D(Ke).setUpLocationChangeListener()}),{provide:Nv,useValue:2}];return $l(3,e)}var mM=new F("");function hM(e){return $l(0,[{provide:mM,useExisting:aM},{provide:Hl,useExisting:e}])}function gM(){return $l(8,[Dv,{provide:Bl,useExisting:Dv}])}function Vf(e){Nt("NgRouterViewTransitions");let n=[{provide:Iv,useValue:iM},{provide:Tv,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return $l(9,n)}var vM=[Ri,{provide:Uo,useClass:Fi},Ke,Ho,{provide:Ut,useFactory:cM,deps:[Ke]},Rf,[]],Rv=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[vM,[],{provide:zo,multi:!0,useValue:t},[],r?.errorHandler?{provide:Pv,useValue:r.errorHandler}:[],{provide:ji,useValue:r||{}},r?.useHash?FF():LF(),kF(),r?.preloadingStrategy?hM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?VF(r):[],r?.bindToComponentInputs?gM().\u0275providers:[],r?.enableViewTransitions?Vf().\u0275providers:[],jF()]}}static forChild(t){return{ngModule:e,providers:[{provide:zo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=_n({})}return e})();function kF(){return{provide:lM,useFactory:()=>{let e=D(GD),n=D($e),t=D(ji),r=D(Ff),i=D(Uo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new RF(i,r,e,n,t)}}}function FF(){return{provide:ur,useClass:N0}}function LF(){return{provide:ur,useClass:Hd}}function VF(e){return[e.initialNavigation==="disabled"?pM().\u0275providers:[],e.initialNavigation==="enabledBlocking"?fM().\u0275providers:[]]}var Ov=new F("");function jF(){return[{provide:Ov,useFactory:uM},{provide:li,multi:!0,useExisting:Ov}]}var Mt=class e{http=D(Nr);baseUrl="http://localhost:3000/patrimoines";patrimoines=Z([]);loading=Z(!1);error=Z(null);currentPatrimoine=Z(null);loadAll(){this.patrimoines().length||(this.loading.set(!0),this.http.get(this.baseUrl).subscribe({next:n=>{this.patrimoines.set(n),this.loading.set(!1)},error:n=>{this.error.set("Impossible de charger les patrimoines"),console.error(n),this.loading.set(!1)}}))}getById(n){return this.http.get(`${this.baseUrl}/${n}`)}addPatrimoine(n){return this.loading.set(!0),this.http.post(this.baseUrl,n).pipe(Fe({next:t=>{let r=this.patrimoines();this.patrimoines.set([...r,t]),this.loading.set(!1),this.error.set(null)},error:t=>{this.error.set("Impossible d'ajouter le patrimoine"),console.error(t),this.loading.set(!1)}}))}updatePatrimoine(n,t){return this.loading.set(!0),this.http.put(`${this.baseUrl}/${n}`,t).pipe(Fe({next:r=>{let i=this.patrimoines(),o=i.findIndex(s=>s.id===n);if(o!==-1){let s=[...i];s[o]=r,this.patrimoines.set(s)}this.currentPatrimoine()?.id===n&&this.currentPatrimoine.set(r),this.loading.set(!1),this.error.set(null)},error:r=>{this.error.set("Impossible de mettre \xE0 jour le patrimoine"),console.error(r),this.loading.set(!1)}}))}deletePatrimoine(n){return this.loading.set(!0),this.http.delete(`${this.baseUrl}/${n}`).pipe(Fe({next:()=>{let t=this.patrimoines();this.patrimoines.set(t.filter(r=>r.id!==n)),this.currentPatrimoine()?.id===n&&this.currentPatrimoine.set(null),this.loading.set(!1),this.error.set(null)},error:t=>{this.error.set("Impossible de supprimer le patrimoine"),console.error(t),this.loading.set(!1)}}))}forceReload(){this.patrimoines.set([]),this.loadAll()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var ce=(function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e})(ce||{}),Yn="*";function jr(e,n){return{type:ce.Trigger,name:e,definitions:n,options:{}}}function Br(e,n=null){return{type:ce.Animate,styles:n,timings:e}}function yM(e,n=null){return{type:ce.Sequence,steps:e,options:n}}function St(e){return{type:ce.Style,styles:e,offset:null}}function Ur(e,n,t=null){return{type:ce.Transition,expr:e,animation:n,options:t}}function kv(e,n,t=null){return{type:ce.Query,selector:e,animation:n,options:t}}function Fv(e,n){return{type:ce.Stagger,timings:e,animation:n}}var Vr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,t=0){this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let t=n=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Go=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let t=n*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let n=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let t=n=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},na="!";var BF=e=>["/patrimoines",e];function UF(e,n){if(e&1&&(u(0,"span",5),m(1),d()),e&2){let t=n.$implicit;h(),L(t)}}function HF(e,n){if(e&1&&(u(0,"span",6),m(1),d()),e&2){let t=w();h(),G("+",t.patrimoine.categories.length-3)}}function $F(e,n){if(e&1&&(u(0,"p",8),J(),u(1,"svg",9),E(2,"path",10),d(),m(3),d()),e&2){let t=w();h(3),G(" ",t.patrimoine.localisation," ")}}var Bf=class e{patrimoine;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-patrimoine-card"]],inputs:{patrimoine:"patrimoine"},decls:12,vars:11,consts:[["tabindex","0",1,"patrimoine-card",3,"routerLink","aria-label"],[1,"image-wrapper"],["loading","lazy",3,"src","alt"],[1,"overlay"],[1,"category-bar"],[1,"badge"],[1,"badge","extra"],[1,"content"],[1,"location"],["viewBox","0 0 24 24"],["fill","currentColor","d","M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"]],template:function(t,r){t&1&&(u(0,"article",0)(1,"div",1),E(2,"img",2)(3,"div",3),u(4,"div",4),ve(5,UF,2,1,"span",5,st),P(7,HF,2,1,"span",6),d()(),u(8,"div",7)(9,"h3"),m(10),d(),P(11,$F,4,1,"p",8),d()()),t&2&&(Ii("aria-label",Po("Voir le site ",r.patrimoine.nom)),A("routerLink",Oo(9,BF,r.patrimoine.id))("@cardEnter",void 0),h(2),A("src",r.patrimoine.photoCarousel[0]||"/images/placeholder.webp",it)("alt",r.patrimoine.nom),h(3),ye(r.patrimoine.categories.slice(0,3)),h(2),O(r.patrimoine.categories.length>3?7:-1),h(3),L(r.patrimoine.nom),h(),O(r.patrimoine.localisation?11:-1))},dependencies:[Ze,xt],styles:[".patrimoine-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:18px;overflow:hidden;background:#0f172a;color:#e5e7eb;position:relative;box-shadow:0 14px 32px -8px #0009;text-decoration:none;transition:transform .5s cubic-bezier(.4,0,.2,1),box-shadow .4s;outline:0;border:1px solid #1f2937}.patrimoine-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 24px 46px -14px #000000b3}.patrimoine-card[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 3px #0ea5e999,0 18px 36px -12px #000000b3}.image-wrapper[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/10;background:#1e293b;overflow:hidden}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:saturate(1.1);transition:transform 1.2s ease}.patrimoine-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.06)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(180deg,#0000 40%,#0000008c 90%);pointer-events:none}.category-bar[_ngcontent-%COMP%]{position:absolute;display:flex;gap:8px;left:12px;bottom:12px;flex-wrap:wrap;z-index:2}.badge[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-accent-alt) 25%,transparent);color:var(--color-text);font-size:.65rem;padding:4px 8px;border-radius:999px;letter-spacing:.5px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.25);font-weight:600}.badge.extra[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-accent) 55%,transparent)}.content[_ngcontent-%COMP%]{position:relative;padding:12px 16px 18px;display:flex;flex-direction:column;gap:4px}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.95rem;font-weight:700;letter-spacing:.4px}.location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin:0;font-size:.7rem;color:#94a3b8;letter-spacing:.3px}.location[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;color:var(--color-accent-alt)}"],data:{animation:[jr("cardEnter",[Ur(":enter",[St({opacity:0,transform:"translateY(8px) scale(.98)"}),Br("360ms cubic-bezier(.4,0,.2,1)",St({opacity:1,transform:"none"}))])])]}})};var zF=()=>[0,1,2,3,4,5,6,7],GF=(e,n)=>n.id;function qF(e,n){if(e&1&&(u(0,"option",12),m(1),d()),e&2){let t=n.$implicit;A("value",t),h(),L(t)}}function WF(e,n){e&1&&E(0,"div",23)}function ZF(e,n){e&1&&(u(0,"div",21),ve(1,WF,1,0,"div",23,st),d()),e&2&&(h(),ye(Rt(0,zF)))}function KF(e,n){if(e&1&&(u(0,"div",22),m(1),d()),e&2){let t=w();h(),L(t.error())}}function YF(e,n){e&1&&(u(0,"div",24),m(1,"Aucun patrimoine ne correspond aux filtres."),d())}function QF(e,n){if(e&1&&E(0,"app-patrimoine-card",27),e&2){let t=n.$implicit;A("patrimoine",t)}}function XF(e,n){if(e&1&&(u(0,"div",26),ve(1,QF,1,1,"app-patrimoine-card",27,GF),d()),e&2){let t=w(2);ue("list",t.viewMode()==="list")("dense",t.dense()),A("@listStagger",void 0),h(),ye(t.filteredPatrimoines())}}function JF(e,n){if(e&1&&P(0,YF,2,0,"div",24)(1,XF,3,5,"div",25),e&2){let t=w();O(t.filteredPatrimoines().length===0?0:1)}}var Uf=class e{service=D(Mt);patrimoines=Ie(()=>this.service.patrimoines());loading=Ie(()=>this.service.loading());error=Ie(()=>this.service.error());search=Z("");category=Z("");sortMode=Z("none");viewMode=Z("grid");dense=Z(!1);categories=Ie(()=>{let n=new Set;for(let t of this.patrimoines())for(let r of t.categories)n.add(r);return Array.from(n).sort()});filteredPatrimoines=Ie(()=>{let n=this.patrimoines(),t=this.search().trim().toLowerCase(),r=this.category();switch(t&&(n=n.filter(i=>i.nom.toLowerCase().includes(t)||(i.localisation||"").toLowerCase().includes(t))),r&&(n=n.filter(i=>i.categories.includes(r))),this.sortMode()){case"alpha":n=[...n].sort((i,o)=>i.nom.localeCompare(o.nom));break;case"reverse":n=[...n].sort((i,o)=>o.nom.localeCompare(i.nom));break}return n});setSearch(n){this.search.set(n)}setCategory(n){this.category.set(n)}setSort(n){this.sortMode.set(n)}setView(n){this.viewMode.set(n)}toggleDense(){this.dense.set(!this.dense())}ngOnInit(){this.service.loadAll()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-patrimoine-list"]],decls:38,vars:16,consts:[["searchBox",""],["categorySel",""],[1,"container"],[1,"page-header"],[1,"muted"],[1,"filter-bar","card-surface","p-3","mb-4"],[1,"row","g-2","align-items-center"],[1,"col-12","col-md-4"],["type","text","placeholder","Recherche (nom ou localisation)",1,"form-control",3,"input","value"],[1,"col-6","col-md-3"],[1,"form-select",3,"change","value"],["value",""],[3,"value"],[1,"col-6","col-md-3","d-flex","gap-2","sort-buttons"],[1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"col-12","col-md-2","text-md-end","mt-2","mt-md-0","d-flex","flex-column","align-items-md-end","gap-1"],[1,"badge","bg-info-subtle","text-info-emphasis"],[1,"view-toggle"],["type","button",1,"btn","btn-xs",3,"click"],["type","button","title","Mode compact",1,"btn","btn-xs",3,"click"],[1,"skeleton-grid"],[1,"error"],[1,"skeleton-card"],[1,"alert","alert-secondary"],[1,"grid",3,"list","dense"],[1,"grid"],[3,"patrimoine"]],template:function(t,r){if(t&1){let i=Se();u(0,"section",2)(1,"header",3)(2,"h2"),m(3,"Patrimoines de Tunisie"),d(),u(4,"p",4),m(5,"S\xE9lection de sites historiques & culturels"),d()(),u(6,"div",5)(7,"div",6)(8,"div",7)(9,"input",8,0),N("input",function(){I(i);let s=Pd(10);return T(r.setSearch(s.value))}),d()(),u(11,"div",9)(12,"select",10,1),N("change",function(){I(i);let s=Pd(13);return T(r.setCategory(s.value))}),u(14,"option",11),m(15,"Toutes cat\xE9gories"),d(),ve(16,qF,2,2,"option",12,st),d()(),u(18,"div",13)(19,"button",14),N("click",function(){return I(i),T(r.setSort("alpha"))}),m(20,"A\u2192Z"),d(),u(21,"button",14),N("click",function(){return I(i),T(r.setSort("reverse"))}),m(22,"Z\u2192A"),d(),u(23,"button",15),N("click",function(){return I(i),T(r.setSort("none"))}),m(24,"Reset"),d()(),u(25,"div",16)(26,"span",17),m(27),d(),u(28,"div",18)(29,"button",19),N("click",function(){return I(i),T(r.setView("grid"))}),m(30,"Grille"),d(),u(31,"button",19),N("click",function(){return I(i),T(r.setView("list"))}),m(32,"Liste"),d(),u(33,"button",20),N("click",function(){return I(i),T(r.toggleDense())}),m(34,"Compact"),d()()()()(),P(35,ZF,3,1,"div",21)(36,KF,2,1,"div",22)(37,JF,2,1),d()}t&2&&(h(9),A("value",r.search()),h(3),A("value",r.category()),h(4),ye(r.categories()),h(3),ue("active",r.sortMode()==="alpha"),h(2),ue("active",r.sortMode()==="reverse"),h(2),ue("active",r.sortMode()==="none"),h(4),G("",r.filteredPatrimoines().length," r\xE9sultat(s)"),h(2),ue("active",r.viewMode()==="grid"),h(2),ue("active",r.viewMode()==="list"),h(2),ue("active",r.dense()),h(2),O(r.loading()?35:r.error()?36:37))},dependencies:[Ze,Bf],styles:[".container[_ngcontent-%COMP%]{padding:24px;max-width:1320px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin:0 0 14px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:clamp(1.4rem,3vw,1.8rem)}.page-header[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#6b7280;margin:0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}.grid.list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(420px,1fr))}.grid.dense[_ngcontent-%COMP%]{gap:12px}.grid.dense[_ngcontent-%COMP%]   .patrimoine-card[_ngcontent-%COMP%]{border-radius:14px}.skeleton-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}.skeleton-card[_ngcontent-%COMP%]{height:220px;border-radius:16px;background:linear-gradient(90deg,#1f2937 25%,#374151 37%,#1f2937 63%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:100% 0}to{background-position:0 0}}.error[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;padding:12px;border-radius:8px}.filter-bar[_ngcontent-%COMP%]{border:1px solid #1e293b;border-radius:18px;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);background:#0f172aa6;box-shadow:0 0 0 1px #ffffff08,0 22px 40px -10px #00000080}.filter-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .filter-bar[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-text);border:1px solid var(--color-border);font-size:.85rem}.filter-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filter-bar[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:var(--color-accent-alt);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-accent-alt) 50%,transparent)}.sort-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;white-space:nowrap;font-size:.7rem}.sort-buttons[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-accent),var(--color-accent-alt));color:var(--color-text);border-color:var(--color-accent-alt)}.view-toggle[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.view-toggle[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{--bs-btn-padding-y: .25rem;--bs-btn-padding-x: .6rem;font-size:.65rem;border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text)}.view-toggle[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-accent),var(--color-accent-alt));color:var(--color-text);border-color:var(--color-accent)}"],data:{animation:[jr("listStagger",[Ur(":enter",[kv("app-patrimoine-card",[St({opacity:0,transform:"translateY(10px) scale(.98)"}),Fv(60,Br("300ms cubic-bezier(.4,0,.2,1)",St({opacity:1,transform:"none"})))],{optional:!0})])])]}})};var IM=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(H(ar),H(At))};static \u0275dir=ze({type:e})}return e})(),Yl=(()=>{class e extends IM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,features:[Yt]})}return e})(),sa=new F(""),eL={provide:sa,useExisting:nn(()=>Ql),multi:!0},Ql=(()=>{class e extends Yl{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&N("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[lr([eL]),Yt]})}return e})(),tL={provide:sa,useExisting:nn(()=>un),multi:!0};function nL(){let e=Wn()?Wn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var rL=new F(""),un=(()=>{class e extends IM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!nL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(H(ar),H(At),H(rL,8))};static \u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&N("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[lr([tL]),Yt]})}return e})();function iL(e){return e==null||oL(e)===0}function oL(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Yf=new F(""),TM=new F("");function sL(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function aL(e){return iL(e.value)?{required:!0}:null}function _M(e){return null}function PM(e){return e!=null}function OM(e){return Si(e)?He(e):e}function AM(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function NM(e,n){return n.map(t=>t(e))}function lL(e){return!e.validate}function RM(e){return e.map(n=>lL(n)?n:t=>n.validate(t))}function cL(e){if(!e)return null;let n=e.filter(PM);return n.length==0?null:function(t){return AM(NM(t,n))}}function jv(e){return e!=null?cL(RM(e)):null}function uL(e){if(!e)return null;let n=e.filter(PM);return n.length==0?null:function(t){let r=NM(t,n).map(OM);return om(r).pipe(oe(AM))}}function Bv(e){return e!=null?uL(RM(e)):null}function CM(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function dL(e){return e._rawValidators}function fL(e){return e._rawAsyncValidators}function Lv(e){return e?Array.isArray(e)?e:[e]:[]}function $f(e,n){return Array.isArray(e)?e.includes(n):e===n}function bM(e,n){let t=Lv(n);return Lv(e).forEach(i=>{$f(t,i)||t.push(i)}),t}function EM(e,n){return Lv(n).filter(t=>!$f(e,t))}var zf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=jv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Bv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},oa=class extends zf{name;get formDirective(){return null}get path(){return null}},Kl=class extends zf{_parent=null;name=null;valueAccessor=null},Gf=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},JQ=Y(S({},pL),{"[class.ng-submitted]":"isSubmitted"}),dn=(()=>{class e extends Gf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(H(Kl,2))};static \u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ue("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Yt]})}return e})(),Qn=(()=>{class e extends Gf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(H(oa,10))};static \u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ue("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Yt]})}return e})();var zl="VALID",Hf="INVALID",ra="PENDING",Gl="DISABLED",Bi=class{},qf=class extends Bi{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Wl=class extends Bi{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Zl=class extends Bi{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},ia=class extends Bi{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Vv=class extends Bi{source;constructor(n){super(),this.source=n}},Wf=class extends Bi{source;constructor(n){super(),this.source=n}};function kM(e){return(Qf(e)?e.validators:e)||null}function mL(e){return Array.isArray(e)?jv(e):e||null}function FM(e,n){return(Qf(n)?n.asyncValidators:e)||null}function hL(e){return Array.isArray(e)?Bv(e):e||null}function Qf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function gL(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function vL(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}var Zf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Dt(this.statusReactive)}set status(n){Dt(()=>this.statusReactive.set(n))}_status=Ie(()=>this.statusReactive());statusReactive=Z(void 0);get valid(){return this.status===zl}get invalid(){return this.status===Hf}get pending(){return this.status==ra}get disabled(){return this.status===Gl}get enabled(){return this.status!==Gl}errors;get pristine(){return Dt(this.pristineReactive)}set pristine(n){Dt(()=>this.pristineReactive.set(n))}_pristine=Ie(()=>this.pristineReactive());pristineReactive=Z(!0);get dirty(){return!this.pristine}get touched(){return Dt(this.touchedReactive)}set touched(n){Dt(()=>this.touchedReactive.set(n))}_touched=Ie(()=>this.touchedReactive());touchedReactive=Z(!1);get untouched(){return!this.touched}_events=new qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(bM(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(bM(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(EM(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(EM(n,this._rawAsyncValidators))}hasValidator(n){return $f(this._rawValidators,n)}hasAsyncValidator(n){return $f(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Y(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Zl(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Zl(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Y(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Wl(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Wl(!0,r))}markAsPending(n={}){this.status=ra;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ia(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Y(S({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Gl,this.errors=null,this._forEachChild(i=>{i.disable(Y(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new qf(this.value,r)),this._events.next(new ia(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=zl,this._forEachChild(r=>{r.enable(Y(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Y(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zl||this.status===ra)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new qf(this.value,t)),this._events.next(new ia(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Y(S({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gl:zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ra,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=OM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ia(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Gl:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ra)?ra:this._anyControlsHaveStatus(Hf)?Hf:zl}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Wl(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zl(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Qf(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=mL(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=hL(this._rawAsyncValidators)}},Kf=class extends Zf{constructor(n,t,r){super(kM(t),FM(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){vL(this,!0,n),Object.keys(n).forEach(r=>{gL(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Wf(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Uv=new F("",{providedIn:"root",factory:()=>Hv}),Hv="always";function yL(e,n){return[...n.path,e]}function LM(e,n,t=Hv){VM(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),CL(e,n),EL(e,n),bL(e,n),_L(e,n)}function wM(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _L(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function VM(e,n){let t=dL(e);n.validator!==null?e.setValidators(CM(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=fL(e);n.asyncValidator!==null?e.setAsyncValidators(CM(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();wM(n._rawValidators,i),wM(n._rawAsyncValidators,i)}function CL(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&jM(e,n)})}function bL(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&jM(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function jM(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function EL(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function wL(e,n){e==null,VM(e,n)}function DL(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function xL(e){return Object.getPrototypeOf(e.constructor)===Yl}function ML(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function SL(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===un?t=o:xL(o)?r=o:i=o}),i||r||t||null}var IL={provide:oa,useExisting:nn(()=>Pn)},ql=Promise.resolve(),Pn=(()=>{class e extends oa{callSetDisabledState;get submitted(){return Dt(this.submittedReactive)}_submitted=Ie(()=>this.submittedReactive());submittedReactive=Z(!1);_directives=new Set;form;ngSubmit=new gt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Kf({},jv(t),Bv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ql.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),LM(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ql.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ql.then(()=>{let r=this._findContainer(t.path),i=new Kf({});wL(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ql.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ql.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),ML(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Vv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(H(Yf,10),H(TM,10),H(Uv,8))};static \u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&N("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lr([IL]),Yt]})}return e})();function DM(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function xM(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var TL=class extends Zf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(kM(t),FM(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xM(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Wf(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){DM(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){DM(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){xM(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var PL={provide:Kl,useExisting:nn(()=>Xt)},MM=Promise.resolve(),Xt=(()=>{class e extends Kl{_changeDetectorRef;callSetDisabledState;control=new TL;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new gt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=SL(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),DL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){LM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){MM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ni(r);MM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yL(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(H(oa,9),H(Yf,10),H(TM,10),H(sa,10),H(Ai,8),H(Uv,8))};static \u0275dir=ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[lr([PL]),Yt,oi]})}return e})();var Xn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),OL={provide:sa,useExisting:nn(()=>Xl),multi:!0},Xl=(()=>{class e extends Yl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&N("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[lr([OL]),Yt]})}return e})();var AL={provide:sa,useExisting:nn(()=>Jn),multi:!0};function BM(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function NL(e){return e.split(":")[0]}var Jn=(()=>{class e extends Yl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=D(jt).injector;destroyRef=D(Vt);cdr=D(Ai);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ks({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=BM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=NL(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&N("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lr([AL]),Yt]})}return e})(),Hr=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(BM(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(H(At),H(ar),H(Jn,9))};static \u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),RL={provide:sa,useExisting:nn(()=>UM),multi:!0};function SM(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function kL(e){return e.split(":")[0]}var UM=(()=>{class e extends Yl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=kL(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&N("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lr([RL]),Yt]})}return e})(),$r=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(SM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(SM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(H(At),H(ar),H(UM,9))};static \u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function FL(e){return typeof e=="number"?e:parseFloat(e)}var HM=(()=>{class e{_validator=_M;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_M,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,features:[oi]})}return e})();var LL={provide:Yf,useExisting:nn(()=>Jl),multi:!0},Jl=(()=>{class e extends HM{min;inputName="min";normalizeInput=t=>FL(t);createValidator=t=>sL(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ot("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[lr([LL]),Yt]})}return e})(),VL={provide:Yf,useExisting:nn(()=>On),multi:!0};var On=(()=>{class e extends HM{required;inputName="required";normalizeInput=Ni;createValidator=t=>aL;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ot("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[lr([VL]),Yt]})}return e})();var jL=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=_n({})}return e})();var fn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Uv,useValue:t.callSetDisabledState??Hv}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=_n({imports:[jL]})}return e})();var $M="favorites",zr=class e{load(){if(typeof window>"u")return[];try{let n=localStorage.getItem($M);if(!n)return[];let t=JSON.parse(n);if(Array.isArray(t))return t}catch(n){console.warn("Failed to parse favorites from storage",n)}return[]}favorites=Z(this.load());constructor(){p0(()=>{if(!(typeof window>"u"))try{localStorage.setItem($M,JSON.stringify(this.favorites()))}catch(n){console.warn("Failed to persist favorites",n)}})}isPatrimoineFavorite(n){return n?this.favorites().some(t=>t.kind==="patrimoine"&&t.id===n.id):!1}isMonumentFavorite(n,t){return!n||!t?!1:this.favorites().some(r=>r.kind==="monument"&&r.parentId===n&&r.id===t.id)}togglePatrimoine(n){if(n)if(this.isPatrimoineFavorite(n))this.favorites.update(t=>t.filter(r=>!(r.kind==="patrimoine"&&r.id===n.id)));else{let t={id:n.id,kind:"patrimoine",nom:n.nom,categories:n.categories??[],photo:n.photoCarousel?.[0]};this.favorites.update(r=>[...r,t])}}toggleMonument(n,t){if(!(!n||!t))if(this.isMonumentFavorite(n,t))this.favorites.update(r=>r.filter(i=>!(i.kind==="monument"&&i.parentId===n&&i.id===t.id)));else{let r={id:t.id,parentId:n,kind:"monument",nom:t.nom,categories:t.categories??[],photo:t.photoCarousel?.[0]};this.favorites.update(i=>[...i,r])}}remove(n,t,r){this.favorites.update(i=>i.filter(o=>!(o.kind===n&&o.id===t&&(n!=="monument"||o.parentId===r))))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};function Gv(e){return typeof e=="number"}function $v(e){return typeof e=="string"}function Xf(e){return typeof e=="boolean"}function zM(e){return Object.prototype.toString.call(e)==="[object Object]"}function et(e){return Math.abs(e)}function qv(e){return Math.sign(e)}function tc(e,n){return et(e-n)}function BL(e,n){if(e===0||n===0||et(e)<=et(n))return 0;let t=tc(et(e),et(n));return et(t/e)}function UL(e){return Math.round(e*100)/100}function nc(e){return rc(e).map(Number)}function mr(e){return e[oc(e)]}function oc(e){return Math.max(0,e.length-1)}function Wv(e,n){return n===oc(e)}function GM(e,n=0){return Array.from(Array(e),(t,r)=>n+r)}function rc(e){return Object.keys(e)}function qM(e,n){return[e,n].reduce((t,r)=>(rc(r).forEach(i=>{let o=t[i],s=r[i],a=zM(o)&&zM(s);t[i]=a?qM(o,s):s}),t),{})}function zv(e,n){return typeof n.MouseEvent<"u"&&e instanceof n.MouseEvent}function HL(e,n){let t={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return n-l}function s(l,c){return $v(e)?t[e](l):e(n,l,c)}return{measure:s}}function ic(){let e=[];function n(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{let c=i;c.addListener(s),l=()=>c.removeListener(s)}return e.push(l),r}function t(){e=e.filter(i=>i())}let r={add:n,clear:t};return r}function $L(e,n,t,r){let i=ic(),o=1e3/60,s=null,a=0,l=0;function c(){i.add(e,"visibilitychange",()=>{e.hidden&&y()})}function f(){g(),i.clear()}function p(b){if(!l)return;s||(s=b,t(),t());let C=b-s;for(s=b,a+=C;a>=o;)t(),a-=o;let M=a/o;r(M),l&&(l=n.requestAnimationFrame(p))}function v(){l||(l=n.requestAnimationFrame(p))}function g(){n.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:c,destroy:f,start:v,stop:g,update:t,render:r}}function zL(e,n){let t=n==="rtl",r=e==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&t?-1:1,a=f(),l=p();function c(y){let{height:_,width:b}=y;return r?_:b}function f(){return r?"top":t?"right":"left"}function p(){return r?"bottom":t?"left":"right"}function v(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:v}}function Wo(e=0,n=0){let t=et(e-n);function r(c){return c<e}function i(c){return c>n}function o(c){return r(c)||i(c)}function s(c){return o(c)?r(c)?e:n:c}function a(c){return t?c-t*Math.ceil((c-n)/t):c}return{length:t,max:n,min:e,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function WM(e,n,t){let{constrain:r}=Wo(0,e),i=e+1,o=s(n);function s(v){return t?et((i+v)%i):r(v)}function a(){return o}function l(v){return o=s(v),p}function c(v){return f().set(a()+v)}function f(){return WM(e,a(),t)}let p={get:a,set:l,add:c,clone:f};return p}function GL(e,n,t,r,i,o,s,a,l,c,f,p,v,g,y,_,b,C,M){let{cross:R,direction:V}=e,se=["INPUT","SELECT","TEXTAREA"],re={passive:!1},K=ic(),te=ic(),be=Wo(50,225).constrain(g.measure(20)),je={mouse:300,touch:400},ke={mouse:500,touch:600},tt=y?43:25,Jt=!1,gn=0,vn=0,j=!1,W=!1,X=!1,fe=!1;function We(ee){if(!M)return;function Ue($t){(Xf(M)||M(ee,$t))&&Hi($t)}let mt=n;K.add(mt,"dragstart",$t=>$t.preventDefault(),re).add(mt,"touchmove",()=>{},re).add(mt,"touchend",()=>{}).add(mt,"touchstart",Ue).add(mt,"mousedown",Ue).add(mt,"touchcancel",Ye).add(mt,"contextmenu",Ye).add(mt,"click",nt,!0)}function lt(){K.clear(),te.clear()}function pt(){let ee=fe?t:n;te.add(ee,"touchmove",Ne,re).add(ee,"touchend",Ye).add(ee,"mousemove",Ne,re).add(ee,"mouseup",Ye)}function Ht(ee){let Ue=ee.nodeName||"";return se.includes(Ue)}function xe(){return(y?ke:je)[fe?"mouse":"touch"]}function mi(ee,Ue){let mt=p.add(qv(ee)*-1),$t=f.byDistance(ee,!y).distance;return y||et(ee)<be?$t:b&&Ue?$t*.5:f.byIndex(mt.get(),0).distance}function Hi(ee){let Ue=zv(ee,r);fe=Ue,X=y&&Ue&&!ee.buttons&&Jt,Jt=tc(i.get(),s.get())>=2,!(Ue&&ee.button!==0)&&(Ht(ee.target)||(j=!0,o.pointerDown(ee),c.useFriction(0).useDuration(0),i.set(s),pt(),gn=o.readPoint(ee),vn=o.readPoint(ee,R),v.emit("pointerDown")))}function Ne(ee){if(!zv(ee,r)&&ee.touches.length>=2)return Ye(ee);let mt=o.readPoint(ee),$t=o.readPoint(ee,R),vr=tc(mt,gn),qr=tc($t,vn);if(!W&&!fe&&(!ee.cancelable||(W=vr>qr,!W)))return Ye(ee);let $i=o.pointerMove(ee);vr>_&&(X=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(V($i)),ee.preventDefault()}function Ye(ee){let mt=f.byDistance(0,!1).index!==p.get(),$t=o.pointerUp(ee)*xe(),vr=mi(V($t),mt),qr=BL($t,vr),$i=tt-10*qr,hi=C+qr/50;W=!1,j=!1,te.clear(),c.useDuration($i).useFriction(hi),l.distance(vr,!y),fe=!1,v.emit("pointerUp")}function nt(ee){X&&(ee.stopPropagation(),ee.preventDefault(),X=!1)}function It(){return j}return{init:We,destroy:lt,pointerDown:It}}function qL(e,n){let r,i;function o(p){return p.timeStamp}function s(p,v){let y=`client${(v||e.scroll)==="x"?"X":"Y"}`;return(zv(p,n)?p:p.touches[0])[y]}function a(p){return r=p,i=p,s(p)}function l(p){let v=s(p)-s(i),g=o(p)-o(r)>170;return i=p,g&&(r=p),v}function c(p){if(!r||!i)return 0;let v=s(i)-s(r),g=o(p)-o(r),y=o(p)-o(i)>170,_=v/g;return g&&!y&&et(_)>.1?_:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:s}}function WL(){function e(t){let{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=t;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:e}}function ZL(e){function n(r){return e*(r/100)}return{measure:n}}function KL(e,n,t,r,i,o,s){let a=[e].concat(r),l,c,f=[],p=!1;function v(b){return i.measureSize(s.measure(b))}function g(b){if(!o)return;c=v(e),f=r.map(v);function C(M){for(let R of M){if(p)return;let V=R.target===e,se=r.indexOf(R.target),re=V?c:f[se],K=v(V?e:r[se]);if(et(K-re)>=.5){b.reInit(),n.emit("resize");break}}}l=new ResizeObserver(M=>{(Xf(o)||o(b,M))&&C(M)}),t.requestAnimationFrame(()=>{a.forEach(M=>l.observe(M))})}function y(){p=!0,l&&l.disconnect()}return{init:g,destroy:y}}function YL(e,n,t,r,i,o){let s=0,a=0,l=i,c=o,f=e.get(),p=0;function v(){let re=r.get()-e.get(),K=!l,te=0;return K?(s=0,t.set(r),e.set(r),te=re):(t.set(e),s+=re/l,s*=c,f+=s,e.add(s),te=f-p),a=qv(te),p=f,se}function g(){let re=r.get()-n.get();return et(re)<.001}function y(){return l}function _(){return a}function b(){return s}function C(){return R(i)}function M(){return V(o)}function R(re){return l=re,se}function V(re){return c=re,se}let se={direction:_,duration:y,velocity:b,seek:v,settled:g,useBaseFriction:M,useBaseDuration:C,useFriction:V,useDuration:R};return se}function QL(e,n,t,r,i){let o=i.measure(10),s=i.measure(50),a=Wo(.1,.99),l=!1;function c(){return!(l||!e.reachedAny(t.get())||!e.reachedAny(n.get()))}function f(g){if(!c())return;let y=e.reachedMin(n.get())?"min":"max",_=et(e[y]-n.get()),b=t.get()-n.get(),C=a.constrain(_/s);t.subtract(b*C),!g&&et(b)<o&&(t.set(e.constrain(t.get())),r.useDuration(25).useBaseFriction())}function p(g){l=!g}return{shouldConstrain:c,constrain:f,toggleActive:p}}function XL(e,n,t,r,i){let o=Wo(-n+e,0),s=p(),a=f(),l=v();function c(y,_){return tc(y,_)<=1}function f(){let y=s[0],_=mr(s),b=s.lastIndexOf(y),C=s.indexOf(_)+1;return Wo(b,C)}function p(){return t.map((y,_)=>{let{min:b,max:C}=o,M=o.constrain(y),R=!_,V=Wv(t,_);return R?C:V||c(b,M)?b:c(C,M)?C:M}).map(y=>parseFloat(y.toFixed(3)))}function v(){if(n<=e+i)return[o.max];if(r==="keepSnaps")return s;let{min:y,max:_}=a;return s.slice(y,_)}return{snapsContained:l,scrollContainLimit:a}}function JL(e,n,t){let r=n[0],i=t?r-e:mr(n);return{limit:Wo(i,r)}}function e3(e,n,t,r){let o=n.min+.1,s=n.max+.1,{reachedMin:a,reachedMax:l}=Wo(o,s);function c(v){return v===1?l(t.get()):v===-1?a(t.get()):!1}function f(v){if(!c(v))return;let g=e*(v*-1);r.forEach(y=>y.add(g))}return{loop:f}}function t3(e){let{max:n,length:t}=e;function r(o){let s=o-n;return t?s/-t:0}return{get:r}}function n3(e,n,t,r,i){let{startEdge:o,endEdge:s}=e,{groupSlides:a}=i,l=p().map(n.measure),c=v(),f=g();function p(){return a(r).map(_=>mr(_)[s]-_[0][o]).map(et)}function v(){return r.map(_=>t[o]-_[o]).map(_=>-et(_))}function g(){return a(c).map(_=>_[0]).map((_,b)=>_+l[b])}return{snaps:c,snapsAligned:f}}function r3(e,n,t,r,i,o){let{groupSlides:s}=i,{min:a,max:l}=r,c=f();function f(){let v=s(o),g=!e||n==="keepSnaps";return t.length===1?[o]:g?v:v.slice(a,l).map((y,_,b)=>{let C=!_,M=Wv(b,_);if(C){let R=mr(b[0])+1;return GM(R)}if(M){let R=oc(o)-mr(b)[0]+1;return GM(R,mr(b)[0])}return y})}return{slideRegistry:c}}function i3(e,n,t,r,i){let{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((_,b)=>et(_)-et(b))[0]}function c(y){let _=e?s(y):a(y),b=n.map((M,R)=>({diff:f(M-_,0),index:R})).sort((M,R)=>et(M.diff)-et(R.diff)),{index:C}=b[0];return{index:C,distance:_}}function f(y,_){let b=[y,y+t,y-t];if(!e)return y;if(!_)return l(b);let C=b.filter(M=>qv(M)===_);return C.length?l(C):mr(b)-t}function p(y,_){let b=n[y]-i.get(),C=f(b,_);return{index:y,distance:C}}function v(y,_){let b=i.get()+y,{index:C,distance:M}=c(b),R=!e&&o(b);if(!_||R)return{index:C,distance:y};let V=n[C]-M,se=y+f(V,0);return{index:C,distance:se}}return{byDistance:v,byIndex:p,shortcut:f}}function o3(e,n,t,r,i,o,s){function a(p){let v=p.distance,g=p.index!==n.get();o.add(v),v&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(t.set(n.get()),n.set(p.index),s.emit("select"))}function l(p,v){let g=i.byDistance(p,v);a(g)}function c(p,v){let g=n.clone().set(p),y=i.byIndex(g.get(),v);a(y)}return{distance:l,index:c}}function s3(e,n,t,r,i,o,s,a){let l={passive:!0,capture:!0},c=0;function f(g){if(!a)return;function y(_){if(new Date().getTime()-c>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;let M=t.findIndex(R=>R.includes(_));Gv(M)&&(i.useDuration(0),r.index(M,0),s.emit("slideFocus"))}o.add(document,"keydown",p,!1),n.forEach((_,b)=>{o.add(_,"focus",C=>{(Xf(a)||a(g,C))&&y(b)},l)})}function p(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:f}}function ec(e){let n=e;function t(){return n}function r(l){n=s(l)}function i(l){n+=s(l)}function o(l){n-=s(l)}function s(l){return Gv(l)?l:l.get()}return{get:t,set:r,add:i,subtract:o}}function ZM(e,n){let t=e.scroll==="x"?s:a,r=n.style,i=null,o=!1;function s(v){return`translate3d(${v}px,0px,0px)`}function a(v){return`translate3d(0px,${v}px,0px)`}function l(v){if(o)return;let g=UL(e.direction(v));g!==i&&(r.transform=t(g),i=g)}function c(v){o=!v}function f(){o||(r.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:f,to:l,toggleActive:c}}function a3(e,n,t,r,i,o,s,a,l){let f=nc(i),p=nc(i).reverse(),v=C().concat(M());function g(K,te){return K.reduce((be,je)=>be-i[je],te)}function y(K,te){return K.reduce((be,je)=>g(be,te)>0?be.concat([je]):be,[])}function _(K){return o.map((te,be)=>({start:te-r[be]+.5+K,end:te+n-.5+K}))}function b(K,te,be){let je=_(te);return K.map(ke=>{let tt=be?0:-t,Jt=be?t:0,gn=be?"end":"start",vn=je[ke][gn];return{index:ke,loopPoint:vn,slideLocation:ec(-1),translate:ZM(e,l[ke]),target:()=>a.get()>vn?tt:Jt}})}function C(){let K=s[0],te=y(p,K);return b(te,t,!1)}function M(){let K=n-s[0]-1,te=y(f,K);return b(te,-t,!0)}function R(){return v.every(({index:K})=>{let te=f.filter(be=>be!==K);return g(te,n)<=.1})}function V(){v.forEach(K=>{let{target:te,translate:be,slideLocation:je}=K,ke=te();ke!==je.get()&&(be.to(ke),je.set(ke))})}function se(){v.forEach(K=>K.translate.clear())}return{canLoop:R,clear:se,loop:V,loopPoints:v}}function l3(e,n,t){let r,i=!1;function o(l){if(!t)return;function c(f){for(let p of f)if(p.type==="childList"){l.reInit(),n.emit("slidesChanged");break}}r=new MutationObserver(f=>{i||(Xf(t)||t(l,f))&&c(f)}),r.observe(e,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function c3(e,n,t,r){let i={},o=null,s=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(_=>{let b=n.indexOf(_.target);i[b]=_}),o=null,s=null,t.emit("slidesInView"))},{root:e.parentElement,threshold:r}),n.forEach(y=>a.observe(y))}function f(){a&&a.disconnect(),l=!0}function p(y){return rc(i).reduce((_,b)=>{let C=parseInt(b),{isIntersecting:M}=i[C];return(y&&M||!y&&!M)&&_.push(C),_},[])}function v(y=!0){if(y&&o)return o;if(!y&&s)return s;let _=p(y);return y&&(o=_),y||(s=_),_}return{init:c,destroy:f,get:v}}function u3(e,n,t,r,i,o){let{measureSize:s,startEdge:a,endEdge:l}=e,c=t[0]&&i,f=y(),p=_(),v=t.map(s),g=b();function y(){if(!c)return 0;let M=t[0];return et(n[a]-M[a])}function _(){if(!c)return 0;let M=o.getComputedStyle(mr(r));return parseFloat(M.getPropertyValue(`margin-${l}`))}function b(){return t.map((M,R,V)=>{let se=!R,re=Wv(V,R);return se?v[R]+f:re?v[R]+p:V[R+1][a]-M[a]}).map(et)}return{slideSizes:v,slideSizesWithGaps:g,startGap:f,endGap:p}}function d3(e,n,t,r,i,o,s,a,l){let{startEdge:c,endEdge:f,direction:p}=e,v=Gv(t);function g(C,M){return nc(C).filter(R=>R%M===0).map(R=>C.slice(R,R+M))}function y(C){return C.length?nc(C).reduce((M,R,V)=>{let se=mr(M)||0,re=se===0,K=R===oc(C),te=i[c]-o[se][c],be=i[c]-o[R][f],je=!r&&re?p(s):0,ke=!r&&K?p(a):0,tt=et(be-ke-(te+je));return V&&tt>n+l&&M.push(R),K&&M.push(C.length),M},[]).map((M,R,V)=>{let se=Math.max(V[R-1]||0);return C.slice(se,M)}):[]}function _(C){return v?g(C,t):y(C)}return{groupSlides:_}}function f3(e,n,t,r,i,o,s){let{align:a,axis:l,direction:c,startIndex:f,loop:p,duration:v,dragFree:g,dragThreshold:y,inViewThreshold:_,slidesToScroll:b,skipSnaps:C,containScroll:M,watchResize:R,watchSlides:V,watchDrag:se,watchFocus:re}=o,K=2,te=WL(),be=te.measure(n),je=t.map(te.measure),ke=zL(l,c),tt=ke.measureSize(be),Jt=ZL(tt),gn=HL(a,tt),vn=!p&&!!M,j=p||!!M,{slideSizes:W,slideSizesWithGaps:X,startGap:fe,endGap:We}=u3(ke,be,je,t,j,i),lt=d3(ke,tt,b,p,be,je,fe,We,K),{snaps:pt,snapsAligned:Ht}=n3(ke,gn,be,je,lt),xe=-mr(pt)+mr(X),{snapsContained:mi,scrollContainLimit:Hi}=XL(tt,xe,Ht,M,K),Ne=vn?mi:Ht,{limit:Ye}=JL(xe,Ne,p),nt=WM(oc(Ne),f,p),It=nt.clone(),Be=nc(t),ee=({dragHandler:Xo,scrollBody:Vp,scrollBounds:jp,options:{loop:hc}})=>{hc||jp.constrain(Xo.pointerDown()),Vp.seek()},Ue=({scrollBody:Xo,translate:Vp,location:jp,offsetLocation:hc,previousLocation:eS,scrollLooper:tS,slideLooper:nS,dragHandler:rS,animation:iS,eventHandler:Sy,scrollBounds:oS,options:{loop:Iy}},Ty)=>{let Py=Xo.settled(),sS=!oS.shouldConstrain(),Oy=Iy?Py:Py&&sS,Ay=Oy&&!rS.pointerDown();Ay&&iS.stop();let aS=jp.get()*Ty+eS.get()*(1-Ty);hc.set(aS),Iy&&(tS.loop(Xo.direction()),nS.loop()),Vp.to(hc.get()),Ay&&Sy.emit("settle"),Oy||Sy.emit("scroll")},mt=$L(r,i,()=>ee(Lp),Xo=>Ue(Lp,Xo)),$t=.68,vr=Ne[nt.get()],qr=ec(vr),$i=ec(vr),hi=ec(vr),zi=ec(vr),ya=YL(qr,hi,$i,zi,v,$t),kp=i3(p,Ne,xe,Ye,zi),Fp=o3(mt,nt,It,ya,kp,zi,s),Dy=t3(Ye),xy=ic(),X1=c3(n,t,s,_),{slideRegistry:My}=r3(vn,M,Ne,Hi,lt,Be),J1=s3(e,t,My,Fp,ya,xy,s,re),Lp={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:be,slideRects:je,animation:mt,axis:ke,dragHandler:GL(ke,e,r,i,zi,qL(ke,i),qr,mt,Fp,ya,kp,nt,s,Jt,g,y,C,$t,se),eventStore:xy,percentOfView:Jt,index:nt,indexPrevious:It,limit:Ye,location:qr,offsetLocation:hi,previousLocation:$i,options:o,resizeHandler:KL(n,s,i,t,ke,R,te),scrollBody:ya,scrollBounds:QL(Ye,hi,zi,ya,Jt),scrollLooper:e3(xe,Ye,hi,[qr,hi,$i,zi]),scrollProgress:Dy,scrollSnapList:Ne.map(Dy.get),scrollSnaps:Ne,scrollTarget:kp,scrollTo:Fp,slideLooper:a3(ke,tt,xe,W,X,pt,Ne,hi,t),slideFocus:J1,slidesHandler:l3(n,s,V),slidesInView:X1,slideIndexes:Be,slideRegistry:My,slidesToScroll:lt,target:zi,translate:ZM(ke,n)};return Lp}function p3(){let e={},n;function t(c){n=c}function r(c){return e[c]||[]}function i(c){return r(c).forEach(f=>f(n,c)),l}function o(c,f){return e[c]=r(c).concat([f]),l}function s(c,f){return e[c]=r(c).filter(p=>p!==f),l}function a(){e={}}let l={init:t,emit:i,off:s,on:o,clear:a};return l}var m3={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function h3(e){function n(o,s){return qM(o,s||{})}function t(o){let s=o.breakpoints||{},a=rc(s).filter(l=>e.matchMedia(l).matches).map(l=>s[l]).reduce((l,c)=>n(l,c),{});return n(o,a)}function r(o){return o.map(s=>rc(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:n,optionsAtMedia:t,optionsMediaQueries:r}}function g3(e){let n=[];function t(o,s){return n=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),n.forEach(a=>a.init(o,e)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){n=n.filter(o=>o.destroy())}return{init:t,destroy:r}}function Jf(e,n,t){let r=e.ownerDocument,i=r.defaultView,o=h3(i),s=g3(o),a=ic(),l=p3(),{mergeOptions:c,optionsAtMedia:f,optionsMediaQueries:p}=o,{on:v,off:g,emit:y}=l,_=ke,b=!1,C,M=c(m3,Jf.globalOptions),R=c(M),V=[],se,re,K;function te(){let{container:Be,slides:ee}=R;re=($v(Be)?e.querySelector(Be):Be)||e.children[0];let mt=$v(ee)?re.querySelectorAll(ee):ee;K=[].slice.call(mt||re.children)}function be(Be){let ee=f3(e,re,K,r,i,Be,l);if(Be.loop&&!ee.slideLooper.canLoop()){let Ue=Object.assign({},Be,{loop:!1});return be(Ue)}return ee}function je(Be,ee){b||(M=c(M,Be),R=f(M),V=ee||V,te(),C=be(R),p([M,...V.map(({options:Ue})=>Ue)]).forEach(Ue=>a.add(Ue,"change",ke)),R.active&&(C.translate.to(C.location.get()),C.animation.init(),C.slidesInView.init(),C.slideFocus.init(It),C.eventHandler.init(It),C.resizeHandler.init(It),C.slidesHandler.init(It),C.options.loop&&C.slideLooper.loop(),re.offsetParent&&K.length&&C.dragHandler.init(It),se=s.init(It,V)))}function ke(Be,ee){let Ue=lt();tt(),je(c({startIndex:Ue},Be),ee),l.emit("reInit")}function tt(){C.dragHandler.destroy(),C.eventStore.clear(),C.translate.clear(),C.slideLooper.clear(),C.resizeHandler.destroy(),C.slidesHandler.destroy(),C.slidesInView.destroy(),C.animation.destroy(),s.destroy(),a.clear()}function Jt(){b||(b=!0,a.clear(),tt(),l.emit("destroy"),l.clear())}function gn(Be,ee,Ue){!R.active||b||(C.scrollBody.useBaseFriction().useDuration(ee===!0?0:R.duration),C.scrollTo.index(Be,Ue||0))}function vn(Be){let ee=C.index.add(1).get();gn(ee,Be,-1)}function j(Be){let ee=C.index.add(-1).get();gn(ee,Be,1)}function W(){return C.index.add(1).get()!==lt()}function X(){return C.index.add(-1).get()!==lt()}function fe(){return C.scrollSnapList}function We(){return C.scrollProgress.get(C.offsetLocation.get())}function lt(){return C.index.get()}function pt(){return C.indexPrevious.get()}function Ht(){return C.slidesInView.get()}function xe(){return C.slidesInView.get(!1)}function mi(){return se}function Hi(){return C}function Ne(){return e}function Ye(){return re}function nt(){return K}let It={canScrollNext:W,canScrollPrev:X,containerNode:Ye,internalEngine:Hi,destroy:Jt,off:g,on:v,emit:y,plugins:mi,previousScrollSnap:pt,reInit:_,rootNode:Ne,scrollNext:vn,scrollPrev:j,scrollProgress:We,scrollSnapList:fe,scrollTo:gn,selectedScrollSnap:lt,slideNodes:nt,slidesInView:Ht,slidesNotInView:xe};return je(n,t),setTimeout(()=>l.emit("init"),0),It}Jf.globalOptions=void 0;var v3=["viewport"];function y3(e,n){if(e&1&&(he(0,"div",13)(1,"div",14),qn(2,"img",15)(3,"div",16)(4,"div",17),_e()()),e&2){let t=n.$implicit,r=n.$index,i=w();ue("active",i.activeIndex()===r),h(),Ti("--fit",i.objectFit),ue("kenburns",i.kenBurns&&i.activeIndex()===r),h(),So("src",t,it)("alt",i.altFor(r)),ot("sizes",i.variant==="split"?"(min-width:900px) 70vw, 100vw":"100vw")("srcset",t)}}function _3(e,n){if(e&1&&(he(0,"div",5),qn(1,"div",18),_e()),e&2){let t=w();ot("aria-valuenow",t.progress()),h(),Ti("width",t.progress(),"%")}}function C3(e,n){if(e&1){let t=Se();he(0,"button",22),Io("click",function(){let i=I(t).$index,o=w(2);return T(o.goTo(i))}),qn(1,"img",23)(2,"span",24),_e()}if(e&2){let t=n.$implicit,r=n.$index,i=w(2);ue("active",i.activeIndex()===r),ot("aria-label","Aller \xE0 l'image "+(r+1)),h(),So("src",t,it)("alt",i.altFor(r))}}function b3(e,n){if(e&1&&(he(0,"div",21),m(1),_e()),e&2){let t=w(2);h(),G("+",t.images.length-9)}}function E3(e,n){if(e&1&&(he(0,"div",19),ve(1,C3,3,5,"button",20,st),P(3,b3,2,1,"div",21),_e()),e&2){let t=w();ue("vertical",t.variant==="split"),h(),ye(t.images),h(2),O(t.images.length>9?3:-1)}}var aa=class e{images=[];altTexts=[];height;loop=!0;options={};autoplay=!0;intervalMs=4800;showThumbnails=!0;kenBurns=!1;variant="default";framed=!1;objectFit="cover";disableProgress=!1;viewportRef;embla;timer;host=D(At);activeIndex=Z(0);progress=Z(0);autoHeight=Ie(()=>this.height?this.height:"clamp(300px, 55vh, 560px)");ngAfterViewInit(){if(!this.viewportRef?.nativeElement)return;let n=S({loop:this.loop,align:"start",skipSnaps:!1},this.options);this.embla=Jf(this.viewportRef.nativeElement,n),this.embla.on("select",()=>{this.activeIndex.set(this.embla.selectedScrollSnap()),this.progress.set(0),this.restartAutoplay()}),this.restartAutoplay(),this.disableProgress||this.tickProgress()}ngOnDestroy(){this.embla?.destroy(),clearTimeout(this.timer)}restartAutoplay(){this.autoplay&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.embla&&(this.embla.canScrollNext()?this.embla.scrollNext():this.loop&&this.embla.scrollTo(0))},this.intervalMs))}tickProgress(){let n=performance.now(),t=r=>{let i=r-n;n=r;let o=i/this.intervalMs*100,s=this.progress()+o;this.progress.set(s>=100?100:s),requestAnimationFrame(t)};requestAnimationFrame(t)}canPrev(){return!!this.embla&&this.embla.canScrollPrev()}canNext(){return!!this.embla&&this.embla.canScrollNext()}prev(){this.embla?.scrollPrev()}next(){this.embla?.scrollNext()}goTo(n){this.embla?.scrollTo(n)}keyHandler(n){n.key==="ArrowLeft"&&this.prev(),n.key==="ArrowRight"&&this.next(),this.variant==="split"&&(n.key==="ArrowUp"&&this.prev(),n.key==="ArrowDown"&&this.next())}altFor(n){return this.altTexts[n]||`Image ${n+1}`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-carousel"]],viewQuery:function(t,r){if(t&1&&s0(v3,7),t&2){let i;Id(i=Td())&&(r.viewportRef=i.first)}},inputs:{images:"images",altTexts:"altTexts",height:"height",loop:"loop",options:"options",autoplay:"autoplay",intervalMs:"intervalMs",showThumbnails:"showThumbnails",kenBurns:"kenBurns",variant:"variant",framed:"framed",objectFit:"objectFit",disableProgress:"disableProgress"},decls:15,vars:14,consts:[["viewport",""],["tabindex","0","aria-roledescription","carousel",1,"carousel","shell",3,"keydown"],[1,"viewport"],[1,"track"],[1,"slide",3,"active"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress"],[1,"nav","primary"],["type","button","aria-label","Pr\xE9c\xE9dent",1,"btn","prev",3,"click","disabled"],["viewBox","0 0 24 24"],["fill","currentColor","d","M10.5 19.5 3 12l7.5-7.5 1.06 1.06L6.12 11h14.38v2H6.12l5.44 5.44-1.06 1.06Z"],["type","button","aria-label","Suivant",1,"btn","next",3,"click","disabled"],["fill","currentColor","d","m13.5 4.5 7.5 7.5-7.5 7.5-1.06-1.06L17.88 13H3.5v-2h14.38L12.44 5.56 13.5 4.5Z"],[1,"thumbs",3,"vertical"],[1,"slide"],[1,"media"],["loading","lazy","decoding","async",3,"src","alt"],[1,"gradient-top"],[1,"gradient-bottom"],[1,"bar"],[1,"thumbs"],["type","button",1,"thumb",3,"active"],[1,"more-indicator"],["type","button",1,"thumb",3,"click"],["loading","lazy",3,"src","alt"],[1,"ring"]],template:function(t,r){if(t&1){let i=Se();he(0,"div",1),Io("keydown",function(s){return I(i),T(r.keyHandler(s))}),he(1,"div",2,0)(3,"div",3),ve(4,y3,5,10,"div",4,st),_e()(),P(6,_3,2,3,"div",5),he(7,"div",6)(8,"button",7),Io("click",function(){return I(i),T(r.prev())}),J(),he(9,"svg",8),qn(10,"path",9),_e()(),Pe(),he(11,"button",10),Io("click",function(){return I(i),T(r.next())}),J(),he(12,"svg",8),qn(13,"path",11),_e()()(),P(14,E3,4,3,"div",12),_e()}t&2&&(Ti("--carousel-height",r.autoHeight()),ue("variant-focus",r.variant==="focus")("variant-filmstrip",r.variant==="filmstrip")("variant-split",r.variant==="split")("framed",r.framed),h(4),ye(r.images),h(2),O(r.disableProgress?-1:6),h(2),So("disabled",!r.canPrev()),h(3),So("disabled",!r.canNext()),h(3),O(r.showThumbnails&&r.images.length>1?14:-1))},styles:[".carousel.shell[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1180px;margin-inline:auto;isolation:isolate;--radius: 18px;--thumb-size: 62px;--accent: #2563eb;--accent-glow: 0 0 0 1px rgba(37,99,235,.35), 0 4px 22px -4px rgba(37,99,235,.35);--carousel-height: clamp(300px, 55vh, 560px);display:flex;flex-direction:column;gap:14px}.carousel.shell.framed[_ngcontent-%COMP%]{padding:8px;border-radius:calc(var(--radius) + 6px);background:linear-gradient(145deg,#0f172a,#1e293b);box-shadow:0 10px 34px -10px #0000008c}.viewport[_ngcontent-%COMP%]{overflow:hidden;border-radius:var(--radius);height:var(--carousel-height);position:relative}.track[_ngcontent-%COMP%]{display:flex;height:100%;-webkit-user-select:none;user-select:none}.slide[_ngcontent-%COMP%]{flex:0 0 100%;position:relative;height:100%}.slide[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.slide[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:var(--fit, cover);display:block;filter:contrast(1.06) saturate(1.08);transform-origin:center;transition:opacity .5s ease;will-change:transform}.slide.active[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:1}.media.kenburns[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_kenburns 16s ease-in-out forwards}@keyframes _ngcontent-%COMP%_kenburns{0%{transform:scale(1) translateZ(0)}to{transform:scale(1.05) translateZ(0)}}.gradient-top[_ngcontent-%COMP%], .gradient-bottom[_ngcontent-%COMP%]{position:absolute;left:0;right:0;height:20%;pointer-events:none;z-index:2}.gradient-top[_ngcontent-%COMP%]{top:0;background:linear-gradient(to bottom,rgba(0,0,0,.45),transparent)}.gradient-bottom[_ngcontent-%COMP%]{bottom:0;background:linear-gradient(to top,rgba(0,0,0,.55),transparent)}.progress[_ngcontent-%COMP%]{position:relative;height:4px;background:#1e293b;border-radius:999px;overflow:hidden}.progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--accent),#3b82f6);width:0;transition:width .25s linear}.nav.primary[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;pointer-events:none;padding:0 10px}.nav.primary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:auto;background:#0f172a8c;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.08);color:#e5e7eb;width:46px;height:46px;display:grid;place-items:center;border-radius:12px;cursor:pointer;transition:background .3s,transform .3s}.nav.primary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eba6;transform:translateY(-2px)}.nav.primary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:default}.thumbs[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:nowrap;overflow-x:auto;padding:4px 2px;scrollbar-width:thin}.thumbs.vertical[_ngcontent-%COMP%]{position:absolute;top:0;right:-82px;flex-direction:column;height:var(--carousel-height);overflow-y:auto;padding:4px}@media (max-width: 1050px){.thumbs.vertical[_ngcontent-%COMP%]{position:static;flex-direction:row;height:auto}}.thumb[_ngcontent-%COMP%]{position:relative;flex:0 0 var(--thumb-size);width:var(--thumb-size);height:var(--thumb-size);border-radius:12px;overflow:hidden;background:#1e293b;cursor:pointer;border:1px solid #334155;padding:0}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.thumb.active[_ngcontent-%COMP%]{box-shadow:var(--accent-glow);border-color:var(--accent)}.thumb[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{position:absolute;inset:0;border:2px solid transparent;border-radius:inherit;transition:border-color .3s}.thumb.active[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{border-color:var(--accent)}.more-indicator[_ngcontent-%COMP%]{display:grid;place-items:center;background:#1e293b;color:#94a3b8;font-size:.8rem;padding:0 10px;border-radius:10px;min-width:56px;border:1px solid #334155}.variant-focus[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{box-shadow:0 14px 40px -12px #0009,0 0 0 1px #ffffff0a}.variant-filmstrip[_ngcontent-%COMP%]   .thumbs[_ngcontent-%COMP%]{order:2;margin-top:-4px}.variant-split[_ngcontent-%COMP%]{padding-right:90px}.variant-split[_ngcontent-%COMP%]   .thumbs.vertical[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{width:74px;height:54px;flex:0 0 74px}.variant-split[_ngcontent-%COMP%]   .thumbs.vertical[_ngcontent-%COMP%]{gap:8px}[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#334155;border-radius:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#475569}"]})};var la=class e{constructor(n){this.sanitizer=n}transform(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}static \u0275fac=function(t){return new(t||e)(H(iv,16))};static \u0275pipe=Mo({name:"safeUrl",type:e,pure:!0})};var KM={production:!1,unsplash:{accessKey:"jEZYk59G0GZ3opEYuxxmU7-HSoIxpdqk5ZA8te_vEQo",applicationId:"834572"}};var ca=class e{http=D(Nr);cache=Z({});commonsCache=Z({});loadingSet=Z(new Set);errorMap=Z({});requestMap={};imagesFor=n=>{let t=this.normalize(n);return[...this.cache()[t]??[],...this.commonsCache()[t]??[]]};isLoading=n=>this.loadingSet().has(this.normalize(n));errorFor=n=>this.errorMap()[this.normalize(n)];fetchFor$(n,t=2){let r=this.normalize(n);if(!n.trim())return U([]);if(this.requestMap[r])return this.requestMap[r];if(this.cache()[r]?.length)return this.requestMap[r]=U(this.cache()[r]),this.requestMap[r];this.markLoading(r,!0);let i=KM.unsplash.accessKey,o=n,s="https://api.unsplash.com/search/photos",a={query:o,per_page:String(Math.max(t*3,t)),client_id:i,orientation:"landscape"},l=this.http.get(s,{params:a}).pipe(oe(c=>this.refineAndPick(c.results,t,o)),oe(c=>(this.cache.set(Y(S({},this.cache()),{[r]:c})),c)),Pt(c=>(console.error("Unsplash fetch error",c),this.errorMap.set(Y(S({},this.errorMap()),{[r]:"Images indisponibles"})),U([]))),Qc(1));return this.requestMap[r]=l,l.subscribe({complete:()=>this.markLoading(r,!1)}),l}refineAndPick(n,t,r){let i=r.toLowerCase().split(/\s+/).filter(Boolean),o=n.map(l=>{let c=(l.alt_description||l.description||"").toLowerCase(),f=i.reduce((g,y)=>g+(c.includes(y)?1:0),0),p=c.trim()===""?-1:0;return{score:f+p,raw:l}});o.sort((l,c)=>c.score-l.score);let s=o.filter(l=>l.score>0);return(s.length?s:o).slice(0,t).map(l=>{let c=l.raw;return{id:c.id,src:c.urls.regular,thumb:c.urls.thumb,author:c.user?.name??"Inconnu",sourceUrl:c.links?.html,alt:c.alt_description||c.description||`Photo de ${c.user?.name||"Auteur inconnu"}`,query:r,source:"unsplash"}})}fetchCommons$(n,t=2){let r=this.normalize(n);if(!n.trim())return U([]);let i=this.commonsCache()[r];if(i?.length)return U(i);let o=n.trim(),s="https://commons.wikimedia.org/w/api.php",a={action:"query",format:"json",origin:"*",generator:"search",gsrsearch:`"${o}"`,gsrlimit:String(Math.max(t*6,t)),gsrnamespace:"6",prop:"imageinfo",iiprop:"url|extmetadata",iiurlwidth:"1280"},l=new URLSearchParams(a),c=`${s}?${l.toString()}`;return this.http.get(c).pipe(oe(f=>{let v=(f?.query?.pages?Object.values(f.query.pages):[]).map(b=>this.scoreCommonsPage(b,o));v.sort((b,C)=>C.score-b.score);let g=v.filter(b=>b.score>0),_=(g.length?g:v).slice(0,t).map(b=>({id:String(b.page.pageid),src:b.page.imageinfo?.[0]?.url||"",thumb:b.page.imageinfo?.[0]?.url||"",author:b.page.imageinfo?.[0]?.extmetadata?.Artist?.value?.replace(/<[^>]+>/g,"")||"Auteur inconnu",sourceUrl:b.page.imageinfo?.[0]?.descriptionurl||"",alt:b.page.title?.replace(/^File:/,"")||`Image de ${o}`,query:o,source:"commons",license:b.page.imageinfo?.[0]?.extmetadata?.LicenseShortName?.value||void 0})).filter(b=>b.src);return this.commonsCache.set(Y(S({},this.commonsCache()),{[r]:_})),_}),Pt(f=>(console.error("Commons fetch error",f),U([]))),Qc(1))}scoreCommonsPage(n,t){let r=(n.title||"").toLowerCase(),i=t.toLowerCase().split(/\s+/).filter(Boolean),o=0;for(let l of i)r.includes(l)&&(o+=2);let s=r.split(".").pop()||"";return["svg","gif","webp"].includes(s)&&(o-=2),/logo|map|flag|icon/.test(r)&&(o-=3),(n.imageinfo?.[0]?.width||0)<600&&(o-=1),n.imageinfo?.[0]?.url||(o=-10),{score:o,page:n}}normalize(n){return n.trim().toLowerCase()}markLoading(n,t){let r=new Set(this.loadingSet());t?r.add(n):r.delete(n),this.loadingSet.set(r)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var w3=()=>[1,2,3,4,5];function D3(e,n){if(e&1&&(J(),he(0,"svg",4),qn(1,"path",5),_e()),e&2){let t=n.$implicit,r=w(2);ue("filled",t<=r.roundedValue())}}function x3(e,n){if(e&1&&(he(0,"span",3),m(1),_e()),e&2){let t=w(2);h(),L(t.value)}}function M3(e,n){if(e&1&&(he(0,"div",1),ve(1,D3,2,2,":svg:svg",2,st),P(3,x3,2,1,"span",3),_e()),e&2){let t=w();To(t.cssClass),ot("title",t.title||"Note: "+t.value),h(),ye(Rt(4,w3)),h(2),O(t.showValue?3:-1)}}var ua=class e{value=null;showValue=!1;cssClass="";title;roundedValue(){return this.value==null?0:Math.round(this.value)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-rating-stars"]],inputs:{value:"value",showValue:"showValue",cssClass:"cssClass",title:"title"},decls:1,vars:1,consts:[[1,"stars",3,"class"],[1,"stars"],["viewBox","0 0 24 24","aria-hidden","true",3,"filled"],[1,"rating-value"],["viewBox","0 0 24 24","aria-hidden","true"],["d","M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27Z","fill","currentColor"]],template:function(t,r){t&1&&P(0,M3,4,5,"div",0),t&2&&O(r.value!==null?0:-1)},styles:[".stars[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem}svg[_ngcontent-%COMP%]{width:1em;height:1em;fill:currentColor;opacity:.3}svg.filled[_ngcontent-%COMP%]{opacity:1;fill:var(--star-fill, gold)}.rating-value[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:500}"]})};function S3(e,n){e&1&&(J(),he(0,"svg",3),qn(1,"path",4),_e())}function I3(e,n){if(e&1&&(he(0,"span",2),P(1,S3,2,0,":svg:svg",3),m(2),_e()),e&2){let t=n.$implicit,r=w(2);h(),O(r.showIcon?1:-1),h(),G(" ",t," ")}}function T3(e,n){if(e&1&&(he(0,"div",1),ve(1,I3,3,2,"span",2,st),_e()),e&2){let t=w();To(t.cssClass),h(),ye(t.categories)}}var da=class e{categories;showIcon=!0;cssClass="";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-category-chips"]],inputs:{categories:"categories",showIcon:"showIcon",cssClass:"cssClass"},decls:1,vars:1,consts:[[1,"chips",3,"class"],[1,"chips"],[1,"chip"],["viewBox","0 0 24 24","aria-hidden","true",1,"chip-icon"],["fill","currentColor","d","M20.59 13.41 12 4.83H4v8.17l8.59 8.59a2 2 0 0 0 2.82 0l5.18-5.18a2 2 0 0 0 0-2.82ZM7 9a2 2 0 1 1 2-2 2 2 0 0 1-2 2Z"]],template:function(t,r){t&1&&P(0,T3,3,2,"div",0),t&2&&O(r.categories.length?0:-1)},styles:[".chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.375rem .75rem;background:var(--chip-bg, rgba(59, 130, 246, .1));color:var(--chip-color, #3b82f6);border-radius:1rem;font-size:.875rem;font-weight:500}.chip-icon[_ngcontent-%COMP%]{width:1em;height:1em}"]})};function ep(e){let n=e.trim().split(/\s+/);return(n[0]?.[0]??"").toUpperCase()+(n[1]?.[0]??"").toUpperCase()}var P3=()=>["about","monuments","comments","map"],O3=()=>({dragFree:!0}),A3=(e,n)=>["/patrimoines",e,"monuments",n],YM=()=>[],N3=(e,n)=>n.nom,R3=(e,n)=>n.id,k3=(e,n)=>(n==null?null:n.id)??e;function F3(e,n){if(e&1&&(u(0,"div",5),E(1,"app-rating-stars",8),u(2,"span",9),m(3),d()()),e&2){let t=w();h(),A("value",t.averageRating())("showValue",!0),h(2),G("(",t.allComments().length," avis)")}}function L3(e,n){e&1&&E(0,"div",6)}function V3(e,n){if(e&1&&(u(0,"div",7),m(1),d()),e&2){let t=w();h(),L(t.error())}}function j3(e,n){if(e&1&&E(0,"app-carousel",12),e&2){let t=w(2);A("images",t.combinedImages())("altTexts",t.altTexts())("loop",!0)("options",Rt(4,O3))}}function B3(e,n){e&1&&(u(0,"div",13),J(),u(1,"svg",3),E(2,"path",29),d(),Pe(),u(3,"span"),m(4,"Image indisponible"),d()())}function U3(e,n){if(e&1&&(u(0,"p",20),J(),u(1,"svg",3),E(2,"path",30),d(),m(3),d()),e&2){let t=w(2);h(3),G(" ",t.patrimoine().localisation," ")}}function H3(e,n){if(e&1&&(u(0,"div",32)(1,"h3"),J(),u(2,"svg",3),E(3,"path",45),d(),m(4," Origine historique "),d(),Pe(),u(5,"p"),m(6),d()()),e&2){let t=w(3);h(6),L(t.patrimoine().origineHistorique)}}function $3(e,n){if(e&1&&(u(0,"span",43),m(1),d()),e&2){let t=n.$implicit;h(),L(t)}}function z3(e,n){if(e&1&&(u(0,"li"),m(1),d()),e&2){let t=n.$implicit;h(),L(t)}}function G3(e,n){if(e&1&&(u(0,"div",44)(1,"h3"),J(),u(2,"svg",3),E(3,"path",46),d(),m(4," Horaires "),d(),Pe(),u(5,"ul",47),ve(6,z3,2,1,"li",null,st),d()()),e&2){let t=w(3);h(6),ye(t.patrimoine().horaires)}}function q3(e,n){if(e&1&&(u(0,"span",51),m(1),d()),e&2){let t=w().$implicit;h(),G("",t.distanceKm," km")}}function W3(e,n){if(e&1&&(u(0,"li")(1,"strong"),m(2),d(),u(3,"span",50),m(4),d(),P(5,q3,2,1,"span",51),d()),e&2){let t=n.$implicit;h(2),L(t.nom),h(2),L(t.type),h(),O(t.distanceKm?5:-1)}}function Z3(e,n){if(e&1&&(u(0,"div",44)(1,"h3"),J(),u(2,"svg",3),E(3,"path",48),d(),m(4," Lieux proches "),d(),Pe(),u(5,"ul",49),ve(6,W3,6,3,"li",null,N3),d()()),e&2){let t=w(3);h(6),ye(t.patrimoine().lieuxProches)}}function K3(e,n){if(e&1&&(u(0,"section",25)(1,"h2"),m(2,"Pr\xE9sentation"),d(),u(3,"p",31),m(4),d(),P(5,H3,7,1,"div",32),u(6,"div",33)(7,"div",34),J(),u(8,"svg",3),E(9,"path",35),d(),Pe(),u(10,"strong"),m(11,"Ouvert"),d(),u(12,"span"),m(13),d()(),u(14,"div",34),J(),u(15,"svg",3),E(16,"path",36),d(),Pe(),u(17,"strong"),m(18,"Prix d\u2019entr\xE9e"),d(),u(19,"span"),m(20),Sn(21,"number"),d()(),u(22,"div",34),J(),u(23,"svg",3),E(24,"path",37),d(),Pe(),u(25,"strong"),m(26,"Class\xE9"),d(),u(27,"span"),m(28),d()(),u(29,"div",34),J(),u(30,"svg",3),E(31,"path",38),d(),Pe(),u(32,"strong"),m(33,"Visites guid\xE9es"),d(),u(34,"span"),m(35),d()(),u(36,"div",34),J(),u(37,"svg",3),E(38,"path",39),d(),Pe(),u(39,"strong"),m(40,"Construction"),d(),u(41,"span"),m(42),d()(),u(43,"div",40),J(),u(44,"svg",3),E(45,"path",41),d(),Pe(),u(46,"strong"),m(47,"Cat\xE9gories"),d(),u(48,"span",42),ve(49,$3,2,1,"span",43,st),d()()(),P(51,G3,8,0,"div",44),P(52,Z3,8,0,"div",44),d()),e&2){let t=w(2);A("@sectionFade",void 0),h(4),L(t.patrimoine().description),h(),O(t.patrimoine().origineHistorique?5:-1),h(8),L(t.patrimoine().ouvert?"Oui":"Non"),h(7),G("",Ao(21,10,t.patrimoine().prixEntree,"1.0-2")," DT"),h(8),L(t.patrimoine().estClasse?"Oui":"Non"),h(7),L(t.patrimoine().visitesGuideesDisponibles?"Oui":"Non"),h(7),L(t.patrimoine().dateConstruction||"\u2014"),h(7),ye(t.patrimoine().categories),h(2),O(t.patrimoine().horaires.length?51:-1),h(),O(t.patrimoine().lieuxProches.length?52:-1)}}function Y3(e,n){if(e&1&&(u(0,"option",56),m(1),d()),e&2){let t=n.$implicit;A("value",t),h(),L(t)}}function Q3(e,n){if(e&1&&E(0,"img",61),e&2){let t=w().$implicit;A("src",t.photoCarousel[0],it)("alt",t.nom)}}function X3(e,n){e&1&&(u(0,"div",62),J(),u(1,"svg",3),E(2,"path",29),d()())}function J3(e,n){if(e&1&&(u(0,"p",63),m(1),Sn(2,"slice"),d()),e&2){let t=w().$implicit;h(),Pi(" ",ll(2,2,t.description,0,70),"",t.description.length>70?"\u2026":""," ")}}function eV(e,n){e&1&&(u(0,"span",67),J(),u(1,"svg",3),E(2,"path",37),d(),m(3," Class\xE9 "),d())}function tV(e,n){if(e&1&&(u(0,"span",68),J(),u(1,"svg",3),E(2,"path",69),d(),m(3),d()),e&2){let t=w().$implicit;h(3),G(" ",(t.comments??Rt(1,YM)).length," ")}}function nV(e,n){if(e&1&&(u(0,"a",59)(1,"div",60),P(2,Q3,1,2,"img",61)(3,X3,3,0,"div",62),d(),u(4,"div",14)(5,"h4"),m(6),d(),P(7,J3,3,6,"p",63),u(8,"div",64)(9,"span",65),J(),u(10,"svg",3),E(11,"path",66),d(),m(12),d(),P(13,eV,4,0,"span",67),P(14,tV,4,2,"span",68),d()()()),e&2){let t=n.$implicit,r=w(4);Ii("aria-label",Po("Voir ",t.nom)),A("routerLink",an(13,A3,r.patrimoine().id,t.id)),h(2),O(t.photoCarousel.length?2:3),h(4),L(t.nom),h(),O(t.description?7:-1),h(2),ue("good",t.ouvert)("bad",!t.ouvert),h(3),G(" ",t.ouvert?"Ouvert":"Ferm\xE9"," "),h(),O(t.estClasse?13:-1),h(),O((t.comments??Rt(16,YM)).length?14:-1)}}function rV(e,n){if(e&1&&(u(0,"div",57),ve(1,nV,15,17,"a",59,R3),d()),e&2){let t=w(3);h(),ye(t.filteredMonuments())}}function iV(e,n){e&1&&(u(0,"div",58),m(1,"Aucun monument selon ce filtre."),d())}function oV(e,n){if(e&1){let t=Se();u(0,"section",26)(1,"div",52)(2,"input",53),N("input",function(i){I(t);let o=w(2);return T(o.setMonumentSearch(i.target.value))}),d(),u(3,"select",54),N("change",function(i){I(t);let o=w(2);return T(o.setMonumentCategory(i.target.value))}),u(4,"option",55),m(5,"Toutes cat\xE9gories"),d(),ve(6,Y3,2,2,"option",56,st),d()(),P(8,rV,3,0,"div",57)(9,iV,2,0,"div",58),d()}if(e&2){let t=w(2);A("@sectionFade",void 0),h(2),A("value",t.monumentSearch()),h(),A("value",t.monumentCategory()),h(3),ye(t.monumentCategories()),h(2),O(t.filteredMonuments().length?8:9)}}function sV(e,n){if(e&1){let t=Se();u(0,"button",74),N("click",function(){I(t);let i=w(3);return T(i.toggleCommentForm())}),J(),u(1,"svg",75),E(2,"path",76),d(),m(3," Ajouter un commentaire "),d()}}function aV(e,n){if(e&1){let t=Se();u(0,"div",72)(1,"form",77),N("submit",function(i){I(t);let o=w(3);return T(o.submitComment(i))}),u(2,"div",78)(3,"label",79),m(4,"Nom "),u(5,"span",80),m(6,"*"),d()(),u(7,"input",81),z("ngModelChange",function(i){I(t);let o=w(3);return q(o.newComment.nom,i)||(o.newComment.nom=i),T(i)}),d()(),u(8,"div",78)(9,"label",82),m(10,"Note"),d(),u(11,"select",83),z("ngModelChange",function(i){I(t);let o=w(3);return q(o.newComment.note,i)||(o.newComment.note=i),T(i)}),u(12,"option",56),m(13,"Pas de note"),d(),u(14,"option",56),m(15,"5 - Excellent"),d(),u(16,"option",56),m(17,"4 - Tr\xE8s bien"),d(),u(18,"option",56),m(19,"3 - Bien"),d(),u(20,"option",56),m(21,"2 - Moyen"),d(),u(22,"option",56),m(23,"1 - M\xE9diocre"),d()()(),u(24,"div",78)(25,"label",84),m(26,"Message "),u(27,"span",80),m(28,"*"),d()(),u(29,"textarea",85),z("ngModelChange",function(i){I(t);let o=w(3);return q(o.newComment.message,i)||(o.newComment.message=i),T(i)}),d()(),u(30,"div",86)(31,"button",87),m(32,"Envoyer"),d(),u(33,"button",88),N("click",function(){I(t);let i=w(3);return T(i.toggleCommentForm())}),m(34,"Annuler"),d()()()()}if(e&2){let t=w(3);h(7),$("ngModel",t.newComment.nom),h(4),$("ngModel",t.newComment.note),h(),A("value",null),h(2),A("value",5),h(2),A("value",4),h(2),A("value",3),h(2),A("value",2),h(2),A("value",1),h(7),$("ngModel",t.newComment.message)}}function lV(e,n){if(e&1&&(u(0,"span",99),m(1),d()),e&2){let t=w().$implicit;ue("pending",t.etat==="en attente")("approved",t.etat==="approuv\xE9")("rejected",t.etat==="rejet\xE9"),h(),L(t.etat)}}function cV(e,n){if(e&1&&E(0,"app-rating-stars",97),e&2){let t=w().$implicit;A("value",t.note)}}function uV(e,n){if(e&1&&(u(0,"li",90)(1,"div",91),m(2),d(),u(3,"div",92)(4,"div",93)(5,"span",94),m(6),d(),u(7,"span",95),m(8),d(),P(9,lV,2,7,"span",96),P(10,cV,1,1,"app-rating-stars",97),d(),u(11,"p",98),m(12),d()()()),e&2){let t=n.$implicit,r=w(4);ue("pending",t.etat==="en attente")("approved",t.etat==="approuv\xE9")("rejected",t.etat==="rejet\xE9"),h(2),L(r.initiales(t.nom)),h(4),L(t.nom),h(2),L(t.date),h(),O(t.etat?9:-1),h(),O(t.note?10:-1),h(2),L(t.message)}}function dV(e,n){if(e&1&&(u(0,"ul",73),ve(1,uV,13,12,"li",89,k3),d()),e&2){let t=w(3);h(),ye(t.allComments())}}function fV(e,n){e&1&&(u(0,"div",58),m(1,"Aucun commentaire disponible."),d())}function pV(e,n){if(e&1&&(u(0,"section",27)(1,"h2"),m(2,"Commentaires agr\xE9g\xE9s"),d(),u(3,"div",70),P(4,sV,4,0,"button",71),d(),P(5,aV,35,9,"div",72),P(6,dV,3,0,"ul",73)(7,fV,2,0,"div",58),d()),e&2){let t=w(2);A("@sectionFade",void 0),h(4),O(t.showCommentForm()?-1:4),h(),O(t.showCommentForm()?5:-1),h(),O(t.allComments().length?6:7)}}function mV(e,n){if(e&1&&(u(0,"div",101),E(1,"iframe",102),Sn(2,"safeUrl"),d(),u(3,"a",103),m(4," Ouvrir dans Google Maps "),J(),u(5,"svg",3),E(6,"path",104),d()()),e&2){let t=w(3);h(),A("src",al(2,2,"https://www.google.com/maps?q="+t.patrimoine().latitude+","+t.patrimoine().longitude+"&hl=fr&z=14&output=embed"),Rs),h(2),A("href","https://www.google.com/maps?q="+t.patrimoine().latitude+","+t.patrimoine().longitude,it)}}function hV(e,n){e&1&&(u(0,"div",100),J(),u(1,"svg",3),E(2,"path",105),d(),m(3," Coordonn\xE9es non disponibles "),d())}function gV(e,n){if(e&1&&(u(0,"section",28)(1,"h2"),m(2,"Localisation"),d(),P(3,mV,7,4)(4,hV,4,0,"div",100),d()),e&2){let t=w(2);A("@sectionFade",void 0),h(3),O(t.patrimoine().latitude&&t.patrimoine().longitude?3:4)}}function vV(e,n){if(e&1){let t=Se();u(0,"header",10)(1,"div",11),P(2,j3,1,5,"app-carousel",12)(3,B3,5,0,"div",13),d(),u(4,"div",14)(5,"div",15)(6,"h1",16),m(7),d(),u(8,"button",17),N("click",function(){I(t);let i=w();return T(i.toggleFavoritePatrimoine())}),J(),u(9,"svg",3),E(10,"path",18),d(),Pe(),u(11,"span",19),m(12),d()()(),P(13,U3,4,1,"p",20),E(14,"app-category-chips",21),d()(),u(15,"nav",22)(16,"button",23),N("click",function(){I(t);let i=w();return T(i.setTab("about"))}),m(17," \xC0 propos "),d(),u(18,"button",23),N("click",function(){I(t);let i=w();return T(i.setTab("monuments"))}),m(19),d(),u(20,"button",23),N("click",function(){I(t);let i=w();return T(i.setTab("comments"))}),m(21),d(),u(22,"button",23),N("click",function(){I(t);let i=w();return T(i.setTab("map"))}),m(23," Carte "),d(),E(24,"span",24),d(),P(25,K3,53,13,"section",25),P(26,oV,10,4,"section",26),P(27,pV,8,4,"section",27),P(28,gV,5,2,"section",28)}if(e&2){let t=w();h(2),O(t.combinedImages().length?2:3),h(5),L(t.patrimoine().nom),h(),A("title",t.isFavoritePatrimoine()?"Retirer des favoris":"Ajouter aux favoris"),ot("aria-pressed",t.isFavoritePatrimoine()),h(),ue("filled",t.isFavoritePatrimoine()),h(3),L(t.isFavoritePatrimoine()?"Favori":"Ajouter"),h(),O(t.patrimoine().localisation?13:-1),h(),A("categories",t.patrimoine().categories),h(2),ue("active",t.activeTab()==="about"),h(2),ue("active",t.activeTab()==="monuments"),h(),G(" Monuments (",t.patrimoine().monuments.length,") "),h(),ue("active",t.activeTab()==="comments"),h(),G(" Commentaires (",t.allComments().length,") "),h(),ue("active",t.activeTab()==="map"),h(2),Ti("--tab-index",Rt(25,P3).indexOf(t.activeTab())),h(),O(t.activeTab()==="about"?25:-1),h(),O(t.activeTab()==="monuments"?26:-1),h(),O(t.activeTab()==="comments"?27:-1),h(),O(t.activeTab()==="map"?28:-1)}}var tp=class e{route=D(Ut);service=D(Mt);favorites=D(zr);images=D(ca);unsplashImages$;commonsImages$;extraImages=Z([]);patrimoine=Z(null);loading=Z(!0);error=Z(null);activeTab=Z("about");monumentSearch=Z("");monumentCategory=Z("");showCommentForm=Z(!1);newComment={nom:"",message:"",note:null};constructor(){let n=this.route.snapshot.paramMap.get("patrimoineId");if(!n){this.error.set("ID manquant"),this.loading.set(!1);return}let t=this.service.patrimoines().find(r=>r.id===n);t&&(this.patrimoine.set(t),this.loading.set(!1)),this.service.getById(n).subscribe({next:r=>{this.patrimoine.set(r),this.service.currentPatrimoine.set(r),this.loading.set(!1),this.unsplashImages$=this.images.fetchFor$(r.nom,2),this.commonsImages$=this.images.fetchCommons$(r.nom,2),this.unsplashImages$.subscribe(i=>{let o=this.extraImages();this.extraImages.set([...i,...o.filter(s=>s.source!=="unsplash")])}),this.commonsImages$.subscribe(i=>{let o=this.extraImages();this.extraImages.set([...o.filter(s=>s.source!=="commons"),...i])})},error:r=>{console.error(r),this.error.set("Patrimoine introuvable"),this.loading.set(!1)}})}allComments=Ie(()=>{let n=this.patrimoine();if(!n)return[];let t=n.comments??[],r=(n.monuments??[]).flatMap(i=>i.comments??[]);return[...t,...r]});averageRating=Ie(()=>{let n=this.allComments().filter(r=>r.note!=null);if(!n.length)return null;let t=n.reduce((r,i)=>r+(i.note??0),0);return Math.round(t/n.length*10)/10});combinedImages=Ie(()=>{let n=this.patrimoine();if(!n)return[];let t=n.photoCarousel??[],r=this.extraImages().map(i=>i.src);return[...t,...r]});altTexts=Ie(()=>{let n=this.patrimoine();if(!n)return[];let t=n.photoCarousel??[],r=this.extraImages();return[...t.map((i,o)=>`Photo ${o+1} de ${n.nom}`),...r.map((i,o)=>i.alt||`Image additionnelle ${o+1} de ${n.nom}`)]});monumentCategories=Ie(()=>{let n=this.patrimoine();if(!n)return[];let t=new Set;return n.monuments.forEach(r=>r.categories.forEach(i=>t.add(i))),[...t].sort()});filteredMonuments=Ie(()=>{let n=this.patrimoine();if(!n)return[];let t=n.monuments,r=this.monumentSearch().trim().toLowerCase(),i=this.monumentCategory();return r&&(t=t.filter(o=>o.nom.toLowerCase().includes(r)||(o.description||"").toLowerCase().includes(r))),i&&(t=t.filter(o=>o.categories.includes(i))),t});setTab(n){this.activeTab.set(n)}setMonumentSearch(n){this.monumentSearch.set(n)}setMonumentCategory(n){this.monumentCategory.set(n)}initiales=ep;isFavoritePatrimoine(){return this.favorites.isPatrimoineFavorite(this.patrimoine())}toggleFavoritePatrimoine(){this.favorites.togglePatrimoine(this.patrimoine())}toggleCommentForm(){this.showCommentForm.set(!this.showCommentForm()),this.showCommentForm()||this.resetCommentForm()}resetCommentForm(){this.newComment={nom:"",message:"",note:null}}submitComment(n){n.preventDefault();let t=this.patrimoine();if(!t||!this.newComment.nom.trim()||!this.newComment.message.trim()){alert("Veuillez remplir tous les champs obligatoires");return}let r={id:`c-${t.id}-${Date.now()}`,nom:this.newComment.nom.trim(),message:this.newComment.message.trim(),date:new Date().toISOString().split("T")[0],note:this.newComment.note||void 0,etat:"en attente"},i;if(t.monuments&&t.monuments.length>0){let o=t.monuments[0],s=Y(S({},o),{comments:[...o.comments??[],r]});i=Y(S({},t),{monuments:[s,...t.monuments.slice(1)]})}else i=Y(S({},t),{comments:[...t.comments??[],r]});this.patrimoine.set(i),this.service.updatePatrimoine(t.id,i).subscribe({next:()=>{alert("Commentaire soumis pour mod\xE9ration !"),this.resetCommentForm(),this.showCommentForm.set(!1),this.service.getById(t.id).subscribe(o=>{this.patrimoine.set(o)})},error:o=>{console.error("Error submitting comment:",o),alert("Erreur lors de la soumission du commentaire"),this.patrimoine.set(t)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-patrimoine-detail"]],decls:10,vars:3,consts:[[1,"patrimoine-shell"],[1,"top-bar"],["routerLink","/patrimoines",1,"back-link"],["viewBox","0 0 24 24"],["fill","currentColor","d","M10.5 19.5 3 12l7.5-7.5 1.06 1.06L6.12 11h14.38v2H6.12l5.44 5.44-1.06 1.06Z"],[1,"agg-rating"],[1,"hero-skeleton","shimmer"],[1,"error-block"],["cssClass","inline-stars",3,"value","showValue"],[1,"count"],[1,"hero"],[1,"media"],["height","420px",3,"images","altTexts","loop","options"],[1,"placeholder"],[1,"meta"],[1,"title-row"],[1,"title"],["type","button",1,"fav-btn",3,"click","title"],["d","M12 21.35 10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09A6.36 6.36 0 0 1 16.5 3C19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35Z"],[1,"label"],[1,"location"],[3,"categories"],[1,"tabs"],["type","button",1,"tab-btn",3,"click"],[1,"indicator"],[1,"panel","about"],[1,"panel","monuments"],[1,"panel","comments-section"],[1,"panel","map-section"],["fill","currentColor","d","M3 5h18v14H3V5Zm2 2v10h14V7H5Zm3 2 4 4 4-4 3 6H6l2-6Z"],["fill","currentColor","d","M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"],[1,"body-text"],[1,"timeline"],[1,"info-grid"],[1,"info-card"],["fill","currentColor","d","M17 8h-1V6a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2Z"],["fill","currentColor","d","M3 6h18v12H3V6Zm2 2v8h14V8H5Zm4 6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["fill","currentColor","d","m12 2 2.39 4.85L20 7.27l-3.64 3.55.86 5.02L12 13.77 6.78 15.84l.86-5.02L4 7.27l5.61-.42L12 2Z"],["fill","currentColor","d","M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-8 0a3 3 0 1 0-3-3 3 3 0 0 0 3 3Zm0 2c-3.31 0-6 1.79-6 4v2h8v-2c0-1.08.39-2.07 1.06-2.9A7 7 0 0 0 8 13Zm8 0c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4Z"],["fill","currentColor","d","M7 2h2v2h6V2h2v2h3a2 2 0 0 1 2 2v3H2V6a2 2 0 0 1 2-2h3V2Zm15 8v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10h20Z"],[1,"info-card","long"],["fill","currentColor","d","M20.59 13.41 12 4.83H4v8.17l8.59 8.59a2 2 0 0 0 2.82 0l5.18-5.18a2 2 0 0 0 0-2.82Z"],[1,"multi"],[1,"mini-chip"],[1,"sub-panel"],["fill","currentColor","d","M12 8a4 4 0 1 1-4 4H2v-2h6a4 4 0 0 1 4-4Zm0 10a4 4 0 0 1-4-4H2v2h6a4 4 0 1 0 4-4v6Z"],["fill","currentColor","d","M12 22a10 10 0 1 1 10-10 10.01 10.01 0 0 1-10 10Zm1-10V7h-2v7h6v-2h-4Z"],[1,"horaires"],["fill","currentColor","d","M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Z"],[1,"nearby"],[1,"type"],[1,"distance"],[1,"monument-filter"],["type","text","placeholder","Recherche monument\u2026",3,"input","value"],[3,"change","value"],["value",""],[3,"value"],[1,"monument-grid"],[1,"empty"],[1,"monument-mini",3,"routerLink","aria-label"],[1,"thumb"],["loading","lazy",3,"src","alt"],[1,"blank"],[1,"excerpt"],[1,"row-icons"],[1,"flag"],["fill","currentColor","d","M6 2h2v19H6V2Zm4 3h8l-3 4 3 4h-8V5Z"],[1,"flag","badge"],[1,"flag","comments"],["fill","currentColor","d","M4 4h16v12H7l-3 3V4Z"],[1,"comment-actions"],[1,"btn-add-comment"],[1,"comment-form-container"],[1,"comments-list"],[1,"btn-add-comment",3,"click"],["viewBox","0 0 24 24","width","20","height","20"],["fill","currentColor","d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"comment-form",3,"submit"],[1,"form-group"],["for","comment-name"],[1,"required"],["type","text","id","comment-name","name","nom","required","","placeholder","Votre nom",3,"ngModelChange","ngModel"],["for","comment-rating"],["id","comment-rating","name","note",3,"ngModelChange","ngModel"],["for","comment-message"],["id","comment-message","name","message","required","","rows","4","placeholder","Partagez votre avis...",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-submit"],["type","button",1,"btn-cancel",3,"click"],[1,"comment-item",3,"pending","approved","rejected"],[1,"comment-item"],[1,"avatar"],[1,"body"],[1,"head"],[1,"author"],[1,"date"],[1,"status",3,"pending","approved","rejected"],["cssClass","rating",3,"value"],[1,"text"],[1,"status"],[1,"empty","big"],[1,"map-frame"],["title","Carte du site","loading","lazy","referrerpolicy","no-referrer-when-downgrade",3,"src"],["target","_blank","rel","noopener",1,"map-link",3,"href"],["fill","currentColor","d","M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3ZM5 5h7v2H7v10h10v-5h2v7H5V5Z"],["fill","currentColor","d","M12 2a10 10 0 0 1 9.95 10.89 8 8 0 0 0-9.16-9.16A10 10 0 0 1 12 2Z"]],template:function(t,r){t&1&&(u(0,"section",0)(1,"div",1)(2,"a",2),J(),u(3,"svg",3),E(4,"path",4),d(),m(5," Retour \xE0 la liste "),d(),P(6,F3,4,3,"div",5),d(),P(7,L3,1,0,"div",6)(8,V3,2,1,"div",7)(9,vV,29,26),d()),t&2&&(A("@pageFade",void 0),h(6),O(r.averageRating()!==null?6:-1),h(),O(r.loading()?7:r.error()?8:r.patrimoine()?9:-1))},dependencies:[Ze,fn,Xn,Hr,$r,un,Jn,dn,Qn,On,Xt,Pn,xt,aa,ua,da,vl,gl,la],styles:['[_ngcontent-%COMP%]:root{--surface: #0f172a;--surface-soft: #0b1220;--border: #1e293b;--line: #14213a;--text: #e5e7eb;--muted: #94a3b8;--accent: #2563eb;--accent-alt: #0ea5e9;--danger: #ef4444;--warn: #f59e0b;--ok: #10b981;--radius: 16px;--glass: rgba(15, 23, 42, .65);--gradient: radial-gradient(circle at 30% 20%, #1e3a8a, #0f172a 70%)}.patrimoine-shell[_ngcontent-%COMP%]{max-width:1260px;margin:0 auto;padding:18px 18px 60px;position:relative;background:linear-gradient(140deg,#0d1b2a,#0f172a 60%) 0 0 / cover,var(--gradient);border:1px solid var(--border);border-radius:22px;box-shadow:0 0 0 1px #2563eb26,0 18px 40px -10px #000000a6}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;color:var(--accent);text-decoration:none;font-weight:600;padding:6px 12px;border-radius:999px;background:#2563eb14;border:1px solid rgba(37,99,235,.25);transition:background .25s}.back-link[_ngcontent-%COMP%]:hover{background:#2563eb2e}.back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.agg-rating[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#0000004d;padding:6px 12px;border-radius:14px;border:1px solid var(--border);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.agg-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:2px}.agg-rating[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#334155}.agg-rating[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:#fbbf24}.agg-rating[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600}.agg-rating[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:var(--muted);font-size:.75rem}.hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.25fr 1fr;gap:24px;align-items:stretch;margin-bottom:20px}@media (max-width: 980px){.hero[_ngcontent-%COMP%]{grid-template-columns:1fr}}.media[_ngcontent-%COMP%]{background:var(--surface-soft);border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;position:relative}.placeholder[_ngcontent-%COMP%]{height:100%;min-height:340px;display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;color:var(--muted)}.placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:56px;height:56px;opacity:.6}.meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:8px 6px}.title-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.title[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.8rem,4vw,2.3rem);letter-spacing:.5px}.fav-btn[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:var(--text);display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:.7rem;letter-spacing:.5px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);line-height:1}.fav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;display:block;color:var(--muted)}.fav-btn[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:var(--accent-alt)}.fav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:currentColor}.fav-btn[_ngcontent-%COMP%]:hover{background:#ffffff1f}.location[_ngcontent-%COMP%]{margin:0 0 14px;display:flex;align-items:center;gap:6px;color:var(--muted);font-size:.95rem}.location[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--accent-alt)}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:auto;padding-top:10px}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#ffffff0f;border:1px solid rgba(255,255,255,.15);padding:6px 12px;font-size:.75rem;letter-spacing:.5px;border-radius:999px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);color:var(--text);box-shadow:0 2px 6px #0006}.chip[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;opacity:.7}.tabs[_ngcontent-%COMP%]{margin:4px 0 22px;position:relative;display:flex;gap:6px;background:#ffffff0d;padding:6px;border-radius:14px;border:1px solid var(--border);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.tab-btn[_ngcontent-%COMP%]{background:transparent;border:0;color:var(--muted);font-size:.85rem;padding:10px 16px;font-weight:600;letter-spacing:.4px;border-radius:10px;cursor:pointer;position:relative;transition:color .25s}.tab-btn.active[_ngcontent-%COMP%], .tab-btn[_ngcontent-%COMP%]:hover{color:var(--text)}.indicator[_ngcontent-%COMP%]{position:absolute;left:6px;top:6px;width:calc(25% - 12px);height:calc(100% - 12px);background:linear-gradient(135deg,#2563eb,#0ea5e9);border-radius:10px;transition:transform .4s cubic-bezier(.4,0,.2,1);transform:translate(calc(var(--tab-index) * 100%));box-shadow:0 8px 18px -6px #0ea5e980;opacity:.85}.panel[_ngcontent-%COMP%]{background:var(--glass);border:1px solid var(--border);border-radius:var(--radius);padding:22px 24px;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:0 0 0 1px #ffffff0a,0 28px 48px -14px #0000008c}.about[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{line-height:1.6;color:var(--text);margin:0 0 18px}.timeline[_ngcontent-%COMP%]{background:var(--surface-soft);border:1px solid var(--line);border-radius:14px;padding:16px 18px;margin-bottom:22px;position:relative}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;background:linear-gradient(135deg,rgba(37,99,235,.15),transparent 60%);pointer-events:none}.timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;display:flex;align-items:center;gap:8px;font-size:1rem}.timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--accent-alt)}.timeline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--muted);font-size:.9rem}.info-grid[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));margin-bottom:20px}.info-card[_ngcontent-%COMP%]{background:var(--surface-soft);border:1px solid var(--line);border-radius:14px;padding:12px 14px;display:flex;flex-direction:column;gap:4px;position:relative;min-height:86px}.info-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:12px;right:12px;opacity:.4}.info-card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.5px;text-transform:uppercase;color:var(--muted)}.info-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.info-card.long[_ngcontent-%COMP%]{grid-column:span 2}@media (max-width: 640px){.info-card.long[_ngcontent-%COMP%]{grid-column:span 1}}.mini-chip[_ngcontent-%COMP%]{background:#ffffff14;padding:4px 8px;border-radius:8px;font-size:.65rem;margin:4px 4px 0 0;display:inline-block}.sub-panel[_ngcontent-%COMP%]{margin-top:16px;background:var(--surface-soft);border:1px solid var(--line);border-radius:14px;padding:16px 18px}.sub-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1rem;display:flex;align-items:center;gap:8px}.sub-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--accent-alt)}.horaires[_ngcontent-%COMP%], .nearby[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:6px;font-size:.85rem}.nearby[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:baseline;flex-wrap:wrap}.nearby[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:var(--muted);font-size:.75rem}.nearby[_ngcontent-%COMP%]   .distance[_ngcontent-%COMP%]{font-size:.7rem;background:#ffffff14;padding:2px 6px;border-radius:6px}.monuments[_ngcontent-%COMP%]   .monument-filter[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}.monument-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .monument-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:var(--surface-soft);border:1px solid var(--line);color:var(--text);padding:10px 12px;border-radius:10px;font-size:.85rem;flex:1 1 220px}.monument-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .monument-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-alt);outline-offset:2px}.monument-grid[_ngcontent-%COMP%]{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(230px,1fr))}.monument-mini[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-decoration:none;background:var(--surface-soft);border:1px solid var(--line);border-radius:14px;overflow:hidden;position:relative;color:var(--text);transition:transform .25s,box-shadow .25s}.monument-mini[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 28px -8px #0009}.monument-mini[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{aspect-ratio:16/10;background:#1f2937;position:relative}.monument-mini[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.1)}.monument-mini[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;place-items:center;color:var(--muted)}.monument-mini[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;opacity:.6}.monument-mini[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{padding:12px 14px 16px;display:flex;flex-direction:column;gap:6px}.monument-mini[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.95rem;font-weight:700}.monument-mini[_ngcontent-%COMP%]   .excerpt[_ngcontent-%COMP%]{margin:0;font-size:.7rem;line-height:1.3;color:var(--muted)}.row-icons[_ngcontent-%COMP%]{margin-top:6px;display:flex;gap:6px;flex-wrap:wrap}.flag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;font-size:.6rem;padding:4px 8px;border-radius:8px;background:#ffffff14;color:var(--muted);letter-spacing:.5px}.flag[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.flag.good[_ngcontent-%COMP%]{background:#10b98126;color:var(--ok)}.flag.bad[_ngcontent-%COMP%]{background:#ef444426;color:var(--danger)}.flag.badge[_ngcontent-%COMP%]{background:#2563eb2e;color:var(--accent-alt)}.flag.comments[_ngcontent-%COMP%]{background:#94a3b82e;color:var(--muted)}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:14px}.comment-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:14px;background:var(--surface-soft);border:1px solid var(--line);border-radius:16px;padding:12px 14px}.avatar[_ngcontent-%COMP%]{width:46px;height:46px;background:linear-gradient(135deg,#1e293b,#0ea5e9);border-radius:50%;display:grid;place-items:center;font-weight:700;font-size:.9rem;color:#fff;box-shadow:0 6px 14px -4px #0009}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.head[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.author[_ngcontent-%COMP%]{font-weight:600}.date[_ngcontent-%COMP%]{font-size:.7rem;color:var(--muted)}.status[_ngcontent-%COMP%]{font-size:.6rem;padding:3px 8px;border-radius:999px;text-transform:capitalize;background:#ffffff14;border:1px solid rgba(255,255,255,.18)}.status.approved[_ngcontent-%COMP%]{color:var(--ok);background:#10b98126;border-color:#10b98159}.status.pending[_ngcontent-%COMP%]{color:var(--warn);background:#f59e0b26;border-color:#f59e0b59}.status.rejected[_ngcontent-%COMP%]{color:var(--danger);background:#ef444426;border-color:#ef444459}.rating[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.rating[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#334155}.rating[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:#fbbf24}.text[_ngcontent-%COMP%]{margin:0;font-size:.85rem;line-height:1.45;color:var(--text)}.map-section[_ngcontent-%COMP%]   .map-frame[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16/9;border-radius:18px;overflow:hidden;border:1px solid var(--line);background:#0b1220;margin-bottom:16px}.map-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.map-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-size:.85rem;padding:6px 12px;border-radius:10px;background:#2563eb26;border:1px solid rgba(37,99,235,.4);color:var(--accent-alt)}.map-link[_ngcontent-%COMP%]:hover{background:#2563eb40}.map-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.empty[_ngcontent-%COMP%]{color:var(--muted);font-size:.85rem;background:var(--surface-soft);border:1px dashed var(--line);padding:16px;text-align:center;border-radius:14px}.empty.big[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;font-size:.9rem;align-items:center}.empty.big[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:var(--muted)}.hero-skeleton[_ngcontent-%COMP%]{height:340px;border-radius:var(--radius);background:linear-gradient(90deg,#1e293b 25%,#334155 37%,#1e293b 63%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.3s infinite;margin-bottom:24px}.error-block[_ngcontent-%COMP%]{background:#ef444426;border:1px solid rgba(239,68,68,.4);padding:14px 16px;border-radius:14px;color:#fecaca;font-weight:600}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:100% 0}to{background-position:0 0}}.panel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.panel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0b1220}.panel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1e293b;border-radius:6px}.panel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#334155}.tab-btn[_ngcontent-%COMP%]{flex:1 1 0;text-align:center}.comment-actions[_ngcontent-%COMP%]{margin-bottom:20px}.btn-add-comment[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-add-comment[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #4f46e566}.comment-form-container[_ngcontent-%COMP%]{background:#1e293b99;border:1px solid rgba(71,85,105,.4);border-radius:12px;padding:24px;margin-bottom:24px}.comment-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.comment-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#cbd5e1;font-weight:500}.comment-form[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#f87171}.comment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .comment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#0f172acc;border:1px solid rgba(71,85,105,.4);border-radius:8px;color:#e2e8f0;font-size:14px;transition:all .2s ease}.comment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .comment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px}.btn-submit[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #10b98166}.btn-cancel[_ngcontent-%COMP%]{background:#47556966;color:#cbd5e1}.btn-cancel[_ngcontent-%COMP%]:hover{background:#47556999}.comment-item.pending[_ngcontent-%COMP%]{opacity:.65;filter:blur(.5px);background:#fbbf240d;border:1px solid rgba(251,191,36,.2)}.comment-item.approved[_ngcontent-%COMP%]{opacity:1;background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.comment-item.rejected[_ngcontent-%COMP%]{opacity:.4;text-decoration:line-through;background:#ef44440d;border:1px solid rgba(239,68,68,.2)}.comment-item.pending[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{background:#fbbf2433;color:#fbbf24;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600}'],data:{animation:[jr("pageFade",[Ur(":enter",[St({opacity:0}),Br("280ms ease-out",St({opacity:1}))])]),jr("sectionFade",[Ur(":enter",[St({opacity:0,transform:"translateY(10px)"}),Br("220ms ease-out",St({opacity:1,transform:"none"}))])])]}})};function np(e){e||(e=D(Vt));let n=new Ce(t=>{if(e.destroyed){t.next();return}return e.onDestroy(t.next.bind(t))});return t=>t.pipe(ms(n))}var yV=e=>["/patrimoines",e],Zv=()=>[],_V=(e,n)=>(n==null?null:n.id)??e;function CV(e,n){if(e&1&&(u(0,"a",1)(1,"span",3),J(),u(2,"svg",4),E(3,"path",5),d()(),m(4," Retour \xE0 la place "),d()),e&2){let t=w();A("routerLink",Oo(1,yV,t.parentId()))}}function bV(e,n){e&1&&(u(0,"div",2)(1,"span"),m(2,"Chargement\u2026"),d()())}function EV(e,n){if(e&1&&(u(0,"div",6),m(1),d()),e&2){let t=w(2);h(),L(t.error())}}function wV(e,n){if(e&1&&E(0,"app-rating-stars",18),e&2){let t=w(4);A("value",t.avgNote())("showValue",!0)}}function DV(e,n){if(e&1&&E(0,"app-carousel",19),e&2){let t=w(4);A("images",t.combinedImages())("altTexts",t.altTexts())("framed",!0)("kenBurns",!0)("loop",!0)("showThumbnails",!0)("objectFit","cover")("intervalMs",5200)}}function xV(e,n){if(e&1&&(u(0,"p",20),m(1),d()),e&2){let t=w(4);h(),L(t.monument().description)}}function MV(e,n){e&1&&(J(),u(0,"svg",4),E(1,"path",43),d())}function SV(e,n){e&1&&(J(),u(0,"svg",4),E(1,"path",44),d())}function IV(e,n){if(e&1&&(u(0,"span",30),m(1),d()),e&2){let t=n.$implicit;h(),L(t)}}function TV(e,n){if(e&1&&(u(0,"span",56),m(1),d()),e&2){let t=w().$implicit;ue("pending",t.etat==="en attente")("rejected",t.etat==="rejet\xE9")("approved",t.etat==="approuv\xE9"),h(),G(" ",t.etat," ")}}function PV(e,n){if(e&1&&E(0,"app-rating-stars",54),e&2){let t=w().$implicit;A("value",t.note)}}function OV(e,n){if(e&1&&(u(0,"li",46)(1,"div",47),m(2),d(),u(3,"div",48)(4,"div",49)(5,"div",50)(6,"strong"),m(7),d(),u(8,"span",51),m(9),d()(),u(10,"div",52),P(11,TV,2,7,"span",53),P(12,PV,1,1,"app-rating-stars",54),d()(),u(13,"div",55),m(14),d()()()),e&2){let t=n.$implicit,r=w(5);ue("pending",t.etat==="en attente")("approved",t.etat==="approuv\xE9")("rejected",t.etat==="rejet\xE9"),h(),ot("aria-label","Avatar "+t.nom),h(),G(" ",r.initiales(t.nom)," "),h(5),L(t.nom),h(2),G("\u2022 ",t.date),h(2),O(t.etat?11:-1),h(),O(t.note?12:-1),h(2),G(" ",t.message," ")}}function AV(e,n){if(e&1&&(u(0,"ul",35),ve(1,OV,15,13,"li",45,_V),d()),e&2){let t=w(4);h(),ye(t.monument().comments??Rt(0,Zv))}}function NV(e,n){e&1&&(u(0,"div",36),m(1,"Aucun commentaire."),d())}function RV(e,n){if(e&1){let t=Se();u(0,"button",57),N("click",function(){I(t);let i=w(4);return T(i.toggleCommentForm())}),J(),u(1,"svg",58),E(2,"path",59),d(),m(3," Ajouter un commentaire "),d()}}function kV(e,n){if(e&1){let t=Se();u(0,"div",39)(1,"form",60),N("submit",function(i){I(t);let o=w(4);return T(o.submitComment(i))}),u(2,"div",61)(3,"label",62),m(4,"Nom "),u(5,"span",63),m(6,"*"),d()(),u(7,"input",64),z("ngModelChange",function(i){I(t);let o=w(4);return q(o.newComment.nom,i)||(o.newComment.nom=i),T(i)}),d()(),u(8,"div",61)(9,"label",65),m(10,"Note"),d(),u(11,"select",66),z("ngModelChange",function(i){I(t);let o=w(4);return q(o.newComment.note,i)||(o.newComment.note=i),T(i)}),u(12,"option",67),m(13,"Pas de note"),d(),u(14,"option",67),m(15,"5 - Excellent"),d(),u(16,"option",67),m(17,"4 - Tr\xE8s bien"),d(),u(18,"option",67),m(19,"3 - Bien"),d(),u(20,"option",67),m(21,"2 - Moyen"),d(),u(22,"option",67),m(23,"1 - M\xE9diocre"),d()()(),u(24,"div",61)(25,"label",68),m(26,"Message "),u(27,"span",63),m(28,"*"),d()(),u(29,"textarea",69),z("ngModelChange",function(i){I(t);let o=w(4);return q(o.newComment.message,i)||(o.newComment.message=i),T(i)}),d()(),u(30,"div",70)(31,"button",71),m(32,"Envoyer"),d(),u(33,"button",72),N("click",function(){I(t);let i=w(4);return T(i.toggleCommentForm())}),m(34,"Annuler"),d()()()()}if(e&2){let t=w(4);h(7),$("ngModel",t.newComment.nom),h(4),$("ngModel",t.newComment.note),h(),A("value",null),h(2),A("value",5),h(2),A("value",4),h(2),A("value",3),h(2),A("value",2),h(2),A("value",1),h(7),$("ngModel",t.newComment.message)}}function FV(e,n){if(e&1&&(u(0,"a",41),m(1," Voir sur Google Maps "),J(),u(2,"svg",73),E(3,"path",74),d()()),e&2){let t=w(4);A("href","https://www.google.com/maps?q="+t.monument().latitude+","+t.monument().longitude,it)}}function LV(e,n){if(e&1&&(u(0,"div",42),E(1,"iframe",75),Sn(2,"safeUrl"),d()),e&2){let t=w(4);h(),A("src",al(2,1,"https://www.google.com/maps?q="+t.monument().latitude+","+t.monument().longitude+"&hl=fr&z=14&output=embed"),Rs)}}function VV(e,n){e&1&&(u(0,"div",36),m(1,"Coordonn\xE9es indisponibles."),d())}function jV(e,n){if(e&1){let t=Se();u(0,"article",7)(1,"header",9)(2,"div",10)(3,"div",11)(4,"h2",12),m(5),d(),u(6,"button",13),N("click",function(){I(t);let i=w(3);return T(i.toggleFavoriteMonument())}),J(),u(7,"svg",14),E(8,"path",15),d(),Pe(),u(9,"span",16),m(10),d()()(),E(11,"app-category-chips",17),P(12,wV,1,2,"app-rating-stars",18),d()(),P(13,DV,1,8,"app-carousel",19),P(14,xV,2,1,"p",20),u(15,"div",21)(16,"div",22)(17,"span",3),P(18,MV,2,0,":svg:svg",4)(19,SV,2,0,":svg:svg",4),d(),u(20,"strong"),m(21,"Ouvert:"),d(),m(22),d(),u(23,"div",22)(24,"span",3),J(),u(25,"svg",4),E(26,"path",23),d()(),Pe(),u(27,"strong"),m(28,"Prix:"),d(),m(29),d(),u(30,"div",22)(31,"span",3),J(),u(32,"svg",4),E(33,"path",24),d()(),Pe(),u(34,"strong"),m(35,"Class\xE9:"),d(),m(36),d(),u(37,"div",22)(38,"span",3),J(),u(39,"svg",4),E(40,"path",25),d()(),Pe(),u(41,"strong"),m(42,"Guides:"),d(),m(43),d(),u(44,"div",22)(45,"span",3),J(),u(46,"svg",4),E(47,"path",26),d()(),Pe(),u(48,"strong"),m(49,"Date:"),d(),m(50),d(),u(51,"div",27)(52,"span",3),J(),u(53,"svg",4),E(54,"path",28),d()(),Pe(),u(55,"strong"),m(56,"Cat\xE9gories:"),d(),u(57,"span",29),ve(58,IV,2,1,"span",30,st),d()()(),u(60,"div",31)(61,"h3",32)(62,"span",3),J(),u(63,"svg",4),E(64,"path",33),d()(),m(65," Commentaires "),Pe(),u(66,"span",34),m(67),d()(),P(68,AV,3,1,"ul",35)(69,NV,2,0,"div",36),u(70,"div",37),P(71,RV,4,0,"button",38),d(),P(72,kV,35,9,"div",39),d(),u(73,"div",31)(74,"h3",32)(75,"span",3),J(),u(76,"svg",4),E(77,"path",40),d()(),m(78," Localisation "),P(79,FV,4,1,"a",41),d(),P(80,LV,3,3,"div",42)(81,VV,2,0,"div",36),d()()}if(e&2){let t=w(3);h(5),L(t.monument().nom),h(),A("title",t.isFavoriteMonument()?"Retirer des favoris":"Ajouter aux favoris"),ot("aria-pressed",t.isFavoriteMonument()),h(),ue("filled",t.isFavoriteMonument()),h(3),L(t.isFavoriteMonument()?"Favori":"Ajouter"),h(),A("categories",t.monument().categories),h(),O(t.avgNote()!==null?12:-1),h(),O(t.monument().photoCarousel&&t.monument().photoCarousel.length?13:-1),h(),O(t.monument().description?14:-1),h(4),O(t.monument().ouvert?18:19),h(4),G(" ",t.monument().ouvert?"Oui":"Non"," "),h(7),G(" ",t.monument().prixEntree," DT "),h(7),G(" ",t.monument().estClasse?"Oui":"Non"," "),h(7),G(" ",t.monument().visitesGuideesDisponibles?"Oui":"Non"," "),h(7),G(" ",t.monument().dateConstruction||"\u2014"," "),h(8),ye(t.monument().categories),h(9),G(" ",(t.monument().comments??Rt(22,Zv)).length," "),h(),O((t.monument().comments??Rt(23,Zv)).length?68:69),h(3),O(t.showCommentForm()?-1:71),h(),O(t.showCommentForm()?72:-1),h(7),O(t.monument().latitude&&t.monument().longitude?79:-1),h(),O(t.monument().latitude&&t.monument().longitude?80:81)}}function BV(e,n){e&1&&(u(0,"div",8),m(1,"Aucun d\xE9tail disponible."),d())}function UV(e,n){if(e&1&&P(0,jV,82,24,"article",7)(1,BV,2,0,"div",8),e&2){let t=w(2);O(t.monument()?0:1)}}function HV(e,n){if(e&1&&P(0,EV,2,1,"div",6)(1,UV,2,1),e&2){let t=w();O(t.error()?0:1)}}var rp=class e{route=D(Ut);service=D(Mt);favorites=D(zr);images=D(ca);unsplashImages$;commonsImages$;extraImages=Z([]);loading=Z(!0);error=Z(null);monument=Z(null);parentId=Z(null);showCommentForm=Z(!1);newComment={nom:"",message:"",note:null};avgNote=Ie(()=>{let t=(this.monument()?.comments??[]).filter(i=>i.note!=null);if(!t.length)return null;let r=t.reduce((i,o)=>i+(o.note??0),0);return Math.round(r/t.length*10)/10});altTexts=Ie(()=>{let n=this.monument();if(!n)return[];let t=n.photoCarousel??[],r=this.extraImages();return[...t.map((i,o)=>`Photo ${o+1} de ${n.nom}`),...r.map((i,o)=>i.alt||`Image additionnelle ${o+1} de ${n.nom}`)]});combinedImages=Ie(()=>{let n=this.monument();if(!n)return[];let t=n.photoCarousel??[],r=this.extraImages().map(i=>i.src);return[...t,...r]});constructor(){let n=this.route.parent??this.route;Qi([n.paramMap,this.route.paramMap]).pipe(Fe(()=>{this.loading.set(!0),this.error.set(null),this.monument.set(null)}),oe(([t,r])=>{let i=t.get("patrimoineId")??t.get("id")??this.route.snapshot.paramMap.get("patrimoineId")??this.route.snapshot.paramMap.get("id"),o=r.get("monumentId")??r.get("id");return{patrimoineId:i,monumentId:o}}),Fe(({patrimoineId:t})=>this.parentId.set(t??null)),Xe(({patrimoineId:t,monumentId:r})=>{if(!t||!r)return this.error.set("Param\xE8tres de route invalides."),U(null);let i=this.service.currentPatrimoine();if(i&&i.id===t){let o=i.monuments.find(s=>s.id===r)??null;return U(o)}return this.service.getById(t).pipe(oe(o=>o.monuments.find(s=>s.id===r)??null))}),Pt(t=>(console.error(t),this.error.set("Erreur de chargement."),U(null))),Fe(t=>{!t&&!this.error()&&this.error.set("Monument introuvable"),this.monument.set(t),this.loading.set(!1),t&&(this.unsplashImages$=this.images.fetchFor$(t.nom,2),this.commonsImages$=this.images.fetchCommons$(t.nom,2),this.unsplashImages$.pipe(np()).subscribe(r=>{let i=this.extraImages();this.extraImages.set([...r,...i.filter(o=>o.source!=="unsplash")])}),this.commonsImages$.pipe(np()).subscribe(r=>{let i=this.extraImages();this.extraImages.set([...i.filter(o=>o.source!=="commons"),...r])}))}),np()).subscribe()}initiales=ep;isFavoriteMonument(){return this.favorites.isMonumentFavorite(this.parentId(),this.monument())}toggleFavoriteMonument(){this.favorites.toggleMonument(this.parentId(),this.monument())}toggleCommentForm(){this.showCommentForm.set(!this.showCommentForm()),this.showCommentForm()||this.resetCommentForm()}resetCommentForm(){this.newComment={nom:"",message:"",note:null}}submitComment(n){n.preventDefault();let t=this.monument(),r=this.parentId();if(!t||!r||!this.newComment.nom.trim()||!this.newComment.message.trim()){alert("Veuillez remplir tous les champs obligatoires");return}let i={id:`c-${t.id}-${Date.now()}`,nom:this.newComment.nom.trim(),message:this.newComment.message.trim(),date:new Date().toISOString().split("T")[0],note:this.newComment.note||void 0,etat:"en attente"},o=Y(S({},t),{comments:[...t.comments??[],i]});this.monument.set(o),this.service.getById(r).subscribe({next:s=>{let a=s.monuments.findIndex(l=>l.id===t.id);if(a!==-1){let l=[...s.monuments];l[a]=o;let c=Y(S({},s),{monuments:l});this.service.updatePatrimoine(r,c).subscribe({next:()=>{alert("Commentaire soumis pour mod\xE9ration !"),this.resetCommentForm(),this.showCommentForm.set(!1)},error:f=>{console.error("Error updating patrimoine:",f),alert("Erreur lors de la soumission du commentaire"),this.monument.set(t)}})}},error:s=>{console.error("Error fetching patrimoine:",s),alert("Erreur lors de la soumission du commentaire"),this.monument.set(t)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-monument-detail"]],decls:4,vars:3,consts:[[1,"monument-detail"],[1,"back",3,"routerLink"],[1,"loading"],[1,"icon"],["viewBox","0 0 24 24","aria-hidden","true"],["fill","currentColor","d","M10.5 19.5 3 12l7.5-7.5 1.06 1.06L6.12 11h14.38v2H6.12l5.44 5.44-1.06 1.06Z"],[1,"error"],[1,"content"],[1,"empty"],[1,"header"],[1,"title-wrap"],[1,"title-row"],[1,"title"],["type","button",1,"fav-btn",3,"click","title"],["viewBox","0 0 24 24"],["d","M12 21.35 10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09A6.36 6.36 0 0 1 16.5 3C19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35Z"],[1,"label"],[3,"categories"],["cssClass","rating-summary",3,"value","showValue"],["variant","focus",3,"images","altTexts","framed","kenBurns","loop","showThumbnails","objectFit","intervalMs"],[1,"description"],[1,"info"],[1,"info-item"],["fill","currentColor","d","M3 6h18v12H3V6Zm2 2v8h14V8H5Zm4 6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["fill","currentColor","d","m12 2 2.39 4.85L20 7.27l-3.64 3.55.86 5.02L12 13.77 6.78 15.84l.86-5.02L4 7.27l5.61-.42L12 2Z"],["fill","currentColor","d","M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-8 0a3 3 0 1 0-3-3 3 3 0 0 0 3 3Zm0 2c-3.31 0-6 1.79-6 4v2h8v-2c0-1.08.39-2.07 1.06-2.9A7 7 0 0 0 8 13Zm8 0c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4Z"],["fill","currentColor","d","M7 2h2v2h6V2h2v2h3a2 2 0 0 1 2 2v3H2V6a2 2 0 0 1 2-2h3V2Zm15 8v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10h20Z"],[1,"info-item","info-cats"],["fill","currentColor","d","M20.59 13.41 12 4.83H4v8.17l8.59 8.59a2 2 0 0 0 2.82 0l5.18-5.18a2 2 0 0 0 0-2.82Z"],[1,"chip-row"],[1,"chip","small"],[1,"panel"],[1,"panel-title"],["fill","currentColor","d","M4 4h16v12H7l-3 3V4Z"],["aria-label","nombre de commentaires",1,"count-badge"],[1,"comments"],[1,"muted"],[1,"comment-actions"],[1,"btn-add-comment"],[1,"comment-form-container"],["fill","currentColor","d","M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"],["target","_blank","rel","noopener",1,"map-link",3,"href"],[1,"map-frame"],["fill","currentColor","d","M17 8h-1V6a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2Z"],["fill","currentColor","d","M12 2a5 5 0 0 0-5 5h2a3 3 0 1 1 6 0v1H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7a5 5 0 0 0-5-5Z"],[1,"comment",3,"pending","approved","rejected"],[1,"comment"],[1,"avatar"],[1,"comment-body"],[1,"comment-head"],[1,"author"],[1,"date"],[1,"meta"],[1,"status",3,"pending","rejected","approved"],["cssClass","mini","title","Note",3,"value"],[1,"comment-text"],[1,"status"],[1,"btn-add-comment",3,"click"],["viewBox","0 0 24 24","width","20","height","20"],["fill","currentColor","d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"comment-form",3,"submit"],[1,"form-group"],["for","comment-name"],[1,"required"],["type","text","id","comment-name","name","nom","required","","placeholder","Votre nom",3,"ngModelChange","ngModel"],["for","comment-rating"],["id","comment-rating","name","note",3,"ngModelChange","ngModel"],[3,"value"],["for","comment-message"],["id","comment-message","name","message","required","","rows","4","placeholder","Partagez votre avis...",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-submit"],["type","button",1,"btn-cancel",3,"click"],["viewBox","0 0 24 24","aria-hidden","true",1,"ext"],["fill","currentColor","d","M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3ZM5 5h7v2H7v10h10v-5h2v7H5V5Z"],["title","Carte","loading","lazy","referrerpolicy","no-referrer-when-downgrade",3,"src"]],template:function(t,r){t&1&&(u(0,"section",0),P(1,CV,5,3,"a",1),P(2,bV,3,0,"div",2)(3,HV,2,1),d()),t&2&&(A("@pageFade",void 0),h(),O(r.parentId()?1:-1),h(),O(r.loading()?2:3))},dependencies:[Ze,fn,Xn,Hr,$r,un,Jn,dn,Qn,On,Xt,Pn,xt,aa,ua,da,la],styles:["[_ngcontent-%COMP%]:root{--bg: #0f172a;--bg-soft: #0b1220;--panel: #0f172a;--text: #e5e7eb;--muted: #94a3b8;--border: #1f2937;--accent: #2563eb;--accent-2: #22c55e;--danger: #ef4444;--chip: #1e293b;--chip-border: #334155;--glow: 0 0 0 1px rgba(37, 99, 235, .15), 0 8px 30px rgba(2, 8, 23, .6)}.monument-detail[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);border:1px solid var(--border);border-radius:14px;padding:16px;margin-top:16px;box-shadow:var(--glow)}.back[_ngcontent-%COMP%]{color:var(--accent);text-decoration:none;display:inline-flex;align-items:center;gap:8px;margin-bottom:14px;font-weight:600}.back[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;display:inline-flex}.header[_ngcontent-%COMP%]   .title-wrap[_ngcontent-%COMP%]{display:grid;gap:10px;margin-bottom:10px}.title-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.title[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;letter-spacing:.2px}.fav-btn[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:var(--text);display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:.7rem;letter-spacing:.5px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);line-height:1}.fav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;display:block;color:var(--muted)}.fav-btn[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:var(--accent)}.fav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:currentColor}.fav-btn[_ngcontent-%COMP%]:hover{background:#ffffff1f}.chips[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:var(--chip);border:1px solid var(--chip-border);color:var(--text);padding:6px 10px;border-radius:999px;font-size:.85rem}.chip.small[_ngcontent-%COMP%]{padding:3px 8px;font-size:.8rem}.chip[_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--muted)}.rating-summary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#2563eb14;border:1px solid rgba(37,99,235,.25);border-radius:999px;padding:6px 10px;width:fit-content}.rating-summary[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.rating-summary[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#334155}.rating-summary[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:#fbbf24}.rating-summary[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.description[_ngcontent-%COMP%]{margin:12px 0 4px;color:var(--text);line-height:1.6}.panel[_ngcontent-%COMP%]{background:var(--panel);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:14px;margin-top:16px;box-shadow:var(--glow)}.panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 8px;font-size:1.1rem}.panel-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--muted)}.panel-title[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{margin-left:auto;color:var(--accent);text-decoration:none;font-weight:600;display:inline-flex;align-items:center;gap:6px}.panel-title[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]   .ext[_ngcontent-%COMP%]{width:16px;height:16px}.info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin-top:10px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:var(--bg-soft);border:1px solid #14213a;border-radius:10px;padding:10px}.info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--muted)}.info-cats[_ngcontent-%COMP%]{grid-column:span 3}.chip-row[_ngcontent-%COMP%]{display:inline-flex;gap:6px;flex-wrap:wrap;margin-left:6px}.comments[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;gap:10px}.comment[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:10px;background:var(--bg-soft);border:1px solid #14213a;border-radius:12px;padding:10px}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,#1e293b,#0ea5e9);color:#fff;font-weight:800;letter-spacing:.5px;box-shadow:0 6px 16px #00000040}.comment-body[_ngcontent-%COMP%]{display:grid;gap:6px}.comment-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.author[_ngcontent-%COMP%]{color:var(--text)}.date[_ngcontent-%COMP%]{color:var(--muted);font-size:.85rem;margin-left:6px}.meta[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.status[_ngcontent-%COMP%]{padding:2px 8px;border-radius:999px;font-size:.75rem;border:1px solid var(--chip-border);text-transform:capitalize;color:var(--muted)}.status.approved[_ngcontent-%COMP%]{color:#22c55e;border-color:#22c55e66;background:#22c55e14}.status.pending[_ngcontent-%COMP%]{color:#fbbf24;border-color:#fbbf2466;background:#fbbf2414}.status.rejected[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef444466;background:#ef444414}.stars[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#334155}.stars[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:#fbbf24}.stars.mini[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.map-frame[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16/10;border-radius:12px;overflow:hidden;border:1px solid #14213a}.map-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border:0}.loading[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .muted[_ngcontent-%COMP%]{color:var(--muted);padding:8px 0}.count-badge[_ngcontent-%COMP%]{margin-left:8px;display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 6px;border-radius:999px;background:#2563eb26;border:1px solid rgba(37,99,235,.35);color:var(--text);font-weight:700;font-size:.85rem}@media (max-width: 900px){.info[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.info-cats[_ngcontent-%COMP%]{grid-column:span 2}}@media (max-width: 640px){.info[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-cats[_ngcontent-%COMP%]{grid-column:span 1}.title[_ngcontent-%COMP%]{font-size:1.35rem}}.comment-actions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.btn-add-comment[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-add-comment[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #4f46e566}.comment-form-container[_ngcontent-%COMP%]{background:#1e293b99;border:1px solid rgba(71,85,105,.4);border-radius:12px;padding:24px;margin-bottom:24px}.comment-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.comment-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#cbd5e1;font-weight:500}.comment-form[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#f87171}.comment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .comment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#0f172acc;border:1px solid rgba(71,85,105,.4);border-radius:8px;color:#e2e8f0;font-size:14px;transition:all .2s ease}.comment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .comment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px}.btn-submit[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #10b98166}.btn-cancel[_ngcontent-%COMP%]{background:#47556966;color:#cbd5e1}.btn-cancel[_ngcontent-%COMP%]:hover{background:#47556999}.comment.pending[_ngcontent-%COMP%]{opacity:.65;filter:blur(.5px);background:#fbbf240d;border:1px solid rgba(251,191,36,.2)}.comment.approved[_ngcontent-%COMP%]{opacity:1;background:#10b9810d;border:1px solid rgba(16,185,129,.2)}.comment.rejected[_ngcontent-%COMP%]{opacity:.4;text-decoration:line-through;background:#ef44440d;border:1px solid rgba(239,68,68,.2)}.comment[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#fbbf2433;color:#fbbf24;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600}"],data:{animation:[jr("pageFade",[Ur(":enter",[St({opacity:0}),Br("250ms ease-out",St({opacity:1}))])])]}})};var $V=(e,n)=>["/patrimoines",e,"monuments",n],zV=(e,n)=>n.parentId+"-"+n.id;function GV(e,n){if(e&1&&(u(0,"option",6),m(1),d()),e&2){let t=n.$implicit;A("value",t),h(),L(t)}}function qV(e,n){if(e&1&&E(0,"img",11),e&2){let t=w().$implicit;A("src",t.photo,it)("alt",t.nom)}}function WV(e,n){e&1&&(u(0,"div",12),m(1,"\u2014"),d())}function ZV(e,n){if(e&1&&(u(0,"p",18),m(1),Sn(2,"slice"),d()),e&2){let t=w().$implicit;h(),Pi(" ",ll(2,2,t.description,0,80),"",t.description.length>80?"\u2026":""," ")}}function KV(e,n){if(e&1&&(u(0,"span",20),m(1),d()),e&2){let t=n.$implicit;h(),L(t)}}function YV(e,n){e&1&&(u(0,"span",23),m(1,"Class\xE9"),d())}function QV(e,n){if(e&1&&(u(0,"span",24),m(1),d()),e&2){let t=w().$implicit;h(),G("",t.comments," avis")}}function XV(e,n){if(e&1){let t=Se();u(0,"a",9)(1,"div",10),P(2,qV,1,2,"img",11)(3,WV,2,0,"div",12),u(4,"button",13),N("click",function(i){let o=I(t).$implicit,s=w(2);return i.preventDefault(),T(s.toggleFav(o))}),J(),u(5,"svg",14),E(6,"path",15),d()()(),Pe(),u(7,"div",16)(8,"h2"),m(9),d(),u(10,"p",17),m(11),d(),P(12,ZV,3,6,"p",18),u(13,"div",19),ve(14,KV,2,1,"span",20,st),d(),u(16,"div",21)(17,"span",22),m(18),d(),P(19,YV,2,0,"span",23),P(20,QV,2,1,"span",24),d()()()}if(e&2){let t=n.$implicit,r=w(2);Ii("aria-label",Po("Voir ",t.nom)),A("routerLink",an(18,$V,t.parentId,t.id)),h(2),O(t.photo?2:3),h(2),A("title",r.isFav(t)?"Retirer des favoris":"Ajouter aux favoris"),ot("aria-pressed",r.isFav(t)),h(),ue("filled",r.isFav(t)),h(4),L(t.nom),h(2),G("Site: ",t.parentNom),h(),O(t.description?12:-1),h(2),ye(t.categories),h(3),ue("good",t.ouvert)("bad",!t.ouvert),h(),L(t.ouvert?"Ouvert":"Ferm\xE9"),h(),O(t.estClasse?19:-1),h(),O(t.comments?20:-1)}}function JV(e,n){if(e&1&&(u(0,"div",7),ve(1,XV,21,21,"a",9,zV),d()),e&2){let t=w();h(),ye(t.filtered())}}function ej(e,n){e&1&&(u(0,"div",8),m(1,"Aucun monument ne correspond \xE0 ce filtre."),d())}var ip=class e{patrimoineService=D(Mt);favorites=D(zr);search=Z("");category=Z("");constructor(){this.patrimoineService.loadAll()}allMonuments=Ie(()=>this.patrimoineService.patrimoines().flatMap(n=>(n.monuments||[]).map(t=>({id:t.id,nom:t.nom,parentId:n.id,parentNom:n.nom,categories:t.categories||[],description:t.description,photo:t.photoCarousel?.[0],estClasse:t.estClasse,ouvert:t.ouvert,comments:t.comments?.length||0}))));categories=Ie(()=>{let n=new Set;return this.allMonuments().forEach(t=>t.categories.forEach(r=>n.add(r))),Array.from(n).sort()});filtered=Ie(()=>{let n=this.search().trim().toLowerCase(),t=this.category();return this.allMonuments().filter(r=>!(n&&!(r.nom.toLowerCase().includes(n)||(r.description||"").toLowerCase().includes(n))||t&&!r.categories.includes(t)))});setSearch(n){this.search.set(n)}setCategory(n){this.category.set(n)}isFav(n){return this.favorites.favorites().some(t=>t.kind==="monument"&&t.parentId===n.parentId&&t.id===n.id)}toggleFav(n){let t={id:n.id,nom:n.nom,description:n.description||"",photoCarousel:n.photo?[n.photo]:[],latitude:0,longitude:0,categories:n.categories,dateConstruction:null,estClasse:n.estClasse,prixEntree:0,ouvert:n.ouvert,horaires:[],visitesGuideesDisponibles:!1,lieuxProches:[],comments:[],monuments:[]};this.favorites.toggleMonument(n.parentId,t)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-monument-list"]],decls:13,vars:3,consts:[[1,"monuments-shell"],[1,"top"],[1,"filters"],["type","text","placeholder","Recherche\u2026",3,"input","value"],[3,"change","value"],["value",""],[3,"value"],[1,"grid"],[1,"empty"],[1,"card",3,"routerLink","aria-label"],[1,"thumb"],["loading","lazy",3,"src","alt"],[1,"blank"],["type","button",1,"fav-mini",3,"click","title"],["viewBox","0 0 24 24"],["fill","currentColor","d","M12 21.35 10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09A6.36 6.36 0 0 1 16.5 3C19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35Z"],[1,"meta"],[1,"parent"],[1,"excerpt"],[1,"tags"],[1,"tag"],[1,"stats-row"],[1,"flag"],[1,"flag","badge"],[1,"flag","comments"]],template:function(t,r){t&1&&(u(0,"section",0)(1,"header",1)(2,"h1"),m(3,"Monuments"),d(),u(4,"div",2)(5,"input",3),N("input",function(o){return r.setSearch(o.target.value)}),d(),u(6,"select",4),N("change",function(o){return r.setCategory(o.target.value)}),u(7,"option",5),m(8,"Toutes cat\xE9gories"),d(),ve(9,GV,2,2,"option",6,st),d()()(),P(11,JV,3,0,"div",7)(12,ej,2,0,"div",8),d()),t&2&&(h(5),A("value",r.search()),h(),A("value",r.category()),h(3),ye(r.categories()),h(2),O(r.filtered().length?11:12))},dependencies:[Ze,xt,vl],styles:[".monuments-shell[_ngcontent-%COMP%]{max-width:1260px;margin:0 auto;padding:22px 18px 60px}.top[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center;margin-bottom:18px}.top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.6rem,4vw,2.2rem)}.filters[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:var(--color-surface-alt);border:1px solid var(--color-border);color:var(--color-text);padding:10px 12px;border-radius:10px;font-size:.85rem}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-accent-alt);outline-offset:2px}.grid[_ngcontent-%COMP%]{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--color-surface-alt);border:1px solid var(--color-border);border-radius:16px;text-decoration:none;color:var(--color-text);overflow:hidden;position:relative;transition:transform .25s,box-shadow .25s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 28px -8px #0009}.thumb[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/10;background:var(--color-surface);display:grid;place-items:center}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.05)}.blank[_ngcontent-%COMP%]{font-size:1.6rem;opacity:.4}.fav-mini[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#00000059;border:1px solid rgba(255,255,255,.25);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);color:var(--color-text);width:38px;height:38px;display:grid;place-items:center;border-radius:999px;cursor:pointer}.fav-mini[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;color:var(--color-muted)}.fav-mini[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:var(--color-accent)}.meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:12px 14px 16px}.meta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:700}.parent[_ngcontent-%COMP%]{margin:0;font-size:.65rem;letter-spacing:.5px;color:var(--color-muted);text-transform:uppercase}.excerpt[_ngcontent-%COMP%]{margin:0;font-size:.7rem;line-height:1.3;color:var(--color-muted)}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.tag[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);padding:4px 8px;font-size:.6rem;border-radius:8px;letter-spacing:.5px}.stats-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}.flag[_ngcontent-%COMP%]{background:#ffffff14;color:var(--color-muted);padding:4px 8px;font-size:.55rem;border-radius:8px;letter-spacing:.5px;display:inline-flex;gap:4px;align-items:center}.flag.good[_ngcontent-%COMP%]{background:#10b98126;color:var(--color-ok, #10b981)}.flag.bad[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444}.flag.badge[_ngcontent-%COMP%]{background:#2563eb2e;color:var(--color-accent-alt)}.flag.comments[_ngcontent-%COMP%]{background:#94a3b82e;color:var(--color-muted)}.empty[_ngcontent-%COMP%]{margin-top:30px;background:var(--color-surface-alt);border:1px dashed var(--color-border);border-radius:14px;padding:24px;text-align:center;color:var(--color-muted);font-size:.85rem}"]})};var tj=e=>["/patrimoines",e],nj=(e,n)=>["/patrimoines",e,"monuments",n],rj=(e,n)=>n.id,ij=(e,n)=>n.parentId+"-"+n.id;function oj(e,n){if(e&1&&E(0,"img",7),e&2){let t=w().$implicit;A("src",t.photo,it)("alt",t.nom)}}function sj(e,n){e&1&&(u(0,"div",8),m(1,"\u2014"),d())}function aj(e,n){if(e&1){let t=Se();u(0,"li",5)(1,"a",6),P(2,oj,1,2,"img",7)(3,sj,2,0,"div",8),u(4,"div",9)(5,"strong"),m(6),d(),u(7,"span",10),m(8),d()()(),u(9,"button",11),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.remove("patrimoine",i.id))}),J(),u(10,"svg",12),E(11,"path",13),d()()()}if(e&2){let t=n.$implicit;h(),A("routerLink",Oo(4,tj,t.id)),h(),O(t.photo?2:3),h(4),L(t.nom),h(2),L(t.categories.join(", "))}}function lj(e,n){if(e&1&&(u(0,"ul",3),ve(1,aj,12,6,"li",5,rj),d()),e&2){let t=w();h(),ye(t.patrimoines())}}function cj(e,n){e&1&&(u(0,"p",4),m(1,"Aucun patrimoine favori."),d())}function uj(e,n){if(e&1&&E(0,"img",7),e&2){let t=w().$implicit;A("src",t.photo,it)("alt",t.nom)}}function dj(e,n){e&1&&(u(0,"div",8),m(1,"\u2014"),d())}function fj(e,n){if(e&1){let t=Se();u(0,"li",5)(1,"a",6),P(2,uj,1,2,"img",7)(3,dj,2,0,"div",8),u(4,"div",9)(5,"strong"),m(6),d(),u(7,"span",10),m(8),d()()(),u(9,"button",11),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.remove("monument",i.id,i.parentId))}),J(),u(10,"svg",12),E(11,"path",13),d()()()}if(e&2){let t=n.$implicit;h(),A("routerLink",an(4,nj,t.parentId,t.id)),h(),O(t.photo?2:3),h(4),L(t.nom),h(2),L(t.categories.join(", "))}}function pj(e,n){if(e&1&&(u(0,"ul",3),ve(1,fj,12,7,"li",5,ij),d()),e&2){let t=w();h(),ye(t.monuments())}}function mj(e,n){e&1&&(u(0,"p",4),m(1,"Aucun monument favori."),d())}var op=class e{favoritesSvc=D(zr);all=this.favoritesSvc.favorites;patrimoines=Ie(()=>this.all().filter(n=>n.kind==="patrimoine"));monuments=Ie(()=>this.all().filter(n=>n.kind==="monument"));remove(n,t,r){this.favoritesSvc.remove(n,t,r)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-favorites"]],decls:14,vars:4,consts:[[1,"favorites-shell"],[1,"favorites-grid"],[1,"fav-block"],[1,"fav-list"],[1,"empty"],[1,"fav-item"],[1,"fav-link",3,"routerLink"],["loading","lazy",3,"src","alt"],[1,"thumb-blank"],[1,"info"],[1,"cats"],["type","button","title","Retirer",1,"remove",3,"click"],["viewBox","0 0 24 24"],["fill","currentColor","d","M19 6H5v14h14V6Zm-6 4h2v6h-2v-6Zm-4 0h2v6H9v-6ZM15 2H9v2H3v2h18V4h-6V2Z"]],template:function(t,r){t&1&&(u(0,"section",0)(1,"h1"),m(2,"Vos favoris"),d(),u(3,"div",1)(4,"div",2)(5,"h2"),m(6),d(),P(7,lj,3,0,"ul",3)(8,cj,2,0,"p",4),d(),u(9,"div",2)(10,"h2"),m(11),d(),P(12,pj,3,0,"ul",3)(13,mj,2,0,"p",4),d()()()),t&2&&(h(6),G("Patrimoines (",r.patrimoines().length,")"),h(),O(r.patrimoines().length?7:8),h(4),G("Monuments (",r.monuments().length,")"),h(),O(r.monuments().length?12:13))},dependencies:[Ze,xt],styles:[".favorites-shell[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:24px 20px 60px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:20px;box-shadow:var(--color-shadow)}.favorites-shell[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 24px;font-size:2rem;letter-spacing:.5px}.favorites-grid[_ngcontent-%COMP%]{display:grid;gap:40px}@media (min-width: 900px){.favorites-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.fav-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem}.fav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:14px}.fav-item[_ngcontent-%COMP%]{display:flex;align-items:stretch;gap:12px;background:var(--color-surface-alt);border:1px solid var(--color-border);border-radius:14px;padding:10px 12px;position:relative}.fav-link[_ngcontent-%COMP%]{display:flex;gap:12px;flex:1;text-decoration:none;color:var(--color-text)}.fav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:cover;border-radius:10px;box-shadow:0 4px 12px #00000059}.thumb-blank[_ngcontent-%COMP%]{width:72px;height:72px;display:grid;place-items:center;background:var(--color-surface);border-radius:10px;font-size:1.2rem;color:var(--color-muted)}.fav-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.fav-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.95rem}.fav-item[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{font-size:.7rem;color:var(--color-muted)}.remove[_ngcontent-%COMP%]{background:transparent;border:0;cursor:pointer;padding:6px;border-radius:10px;color:var(--color-muted);align-self:center;display:grid;place-items:center;transition:background .2s,color .2s}.remove[_ngcontent-%COMP%]:hover{background:var(--color-surface);color:var(--color-text)}.remove[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.empty[_ngcontent-%COMP%]{font-size:.85rem;color:var(--color-muted);background:var(--color-surface-alt);border:1px dashed var(--color-border);padding:14px;border-radius:12px}.fav-btn[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.18);color:var(--color-text);display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;cursor:pointer;font-size:.75rem;letter-spacing:.5px}.fav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;opacity:.9}.fav-btn[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:var(--color-accent)}"]})};var pn=class e{constructor(n){this.http=n;this.isBrowser&&this.loadFromStorage()}baseAdmins="http://localhost:3000/admins";platformId=D(Pr);isBrowser=Qd(this.platformId);user=Z(null);userType=Z(null);loadFromStorage(){try{let n=localStorage.getItem("auth_user"),t=localStorage.getItem("auth_type");n&&t&&(this.user.set(JSON.parse(n)),this.userType.set(t))}catch(n){console.warn("Failed to load auth from storage:",n),this.clearStorage()}}saveToStorage(n,t){if(this.isBrowser)try{localStorage.setItem("auth_user",JSON.stringify(n)),localStorage.setItem("auth_type",t)}catch(r){console.warn("Failed to save auth to storage:",r)}}clearStorage(){if(this.isBrowser)try{localStorage.removeItem("auth_user"),localStorage.removeItem("auth_type")}catch(n){console.warn("Failed to clear auth storage:",n)}}login(n,t){return this.http.get(`${this.baseAdmins}?username=${encodeURIComponent(n)}`).pipe(Xe(r=>{if(!Array.isArray(r)||r.length===0)return An(()=>new Error("Utilisateur non trouv\xE9"));let i=r[0];if(t!==i.password)return An(()=>new Error("Mot de passe incorrect"));let o=Y(S({},i),{dernierLogin:new Date().toISOString()});return this.user.set(o),this.userType.set("admin"),this.saveToStorage(o,"admin"),this.http.put(`${this.baseAdmins}/${i.id}`,o).subscribe({next:()=>{},error:s=>console.warn("Erreur update JSON-server",s)}),He(Promise.resolve(o))}))}logout(){this.user.set(null),this.userType.set(null),this.clearStorage()}isAuthenticated(){return!!this.user()}isAdmin(){return this.userType()==="admin"}getUser(){return this.user()}getUserType(){return this.userType()}changePassword(n,t,r){return this.http.get(`${this.baseAdmins}/${n}`).pipe(Xe(i=>{if(!i)return An(()=>new Error("Utilisateur introuvable"));if(t!==i.password)return An(()=>new Error("Ancien mot de passe incorrect"));let o=Y(S({},i),{password:r,dernierLogin:new Date().toISOString()});return this.http.put(`${this.baseAdmins}/${n}`,o).pipe(Fe(s=>{this.user.set(s),this.saveToStorage(s,"admin")}))}),Pt(i=>(console.error("Change password error:",i),An(()=>i))))}static \u0275fac=function(t){return new(t||e)(B(Nr))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var hj=(e,n)=>({"alert-success":e,"alert-danger":n}),gj=(e,n)=>({"bi-check-circle":e,"bi-exclamation-circle":n});function vj(e,n){if(e&1&&(u(0,"div",6),E(1,"i",23),m(2),d()),e&2){let t=w();A("ngClass",an(3,hj,t.isSuccess,!t.isSuccess)),h(),A("ngClass",an(6,gj,t.isSuccess,!t.isSuccess)),h(),G(" ",t.message," ")}}function yj(e,n){e&1&&(E(0,"span",24),m(1," Connexion en cours... "))}function _j(e,n){e&1&&(E(0,"i",25),m(1,"Se connecter "))}var sp=class e{constructor(n,t){this.auth=n;this.router=t;this.auth.isAuthenticated()&&(this.auth.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/"]))}isLoading=!1;message="";isSuccess=!1;loginData={username:"",password:""};showLoginPassword=!1;login(){return!this.loginData.username||!this.loginData.password?(this.message="Veuillez remplir tous les champs",this.isSuccess=!1,!1):(this.isLoading=!0,this.message="",this.isSuccess=!1,this.auth.login(this.loginData.username,this.loginData.password).subscribe({next:n=>{this.message="Connexion r\xE9ussie !",this.isSuccess=!0,this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin"])},1e3)},error:n=>{this.message=n.message||"\xC9chec de la connexion",this.isSuccess=!1,this.isLoading=!1}}),!0)}resetLoginForm(){this.loginData={username:"",password:""}}static \u0275fac=function(t){return new(t||e)(H(pn),H(Ke))};static \u0275cmp=ge({type:e,selectors:[["app-login"]],decls:34,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-icon"],[1,"bi","bi-shield-lock-fill"],[1,"text-muted"],[1,"alert",3,"ngClass"],[1,"login-form",3,"submit"],[1,"mb-3"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","placeholder","Entrez votre nom d'utilisateur","name","username","required","","autocomplete","username",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],[1,"bi","bi-lock"],["placeholder","Entrez votre mot de passe","name","password","required","","autocomplete","current-password",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"login-footer"],["routerLink","/",1,"text-decoration-none"],[1,"bi","bi-arrow-left","me-2"],[1,"bi",3,"ngClass"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),E(4,"i",4),d(),u(5,"h2"),m(6,"Administration"),d(),u(7,"p",5),m(8,"Connexion Administrateur"),d()(),P(9,vj,3,9,"div",6),u(10,"form",7),N("submit",function(o){return r.login(),o.preventDefault()}),u(11,"div",8)(12,"label",9),m(13,"Nom d'utilisateur"),d(),u(14,"div",10)(15,"span",11),E(16,"i",12),d(),u(17,"input",13),z("ngModelChange",function(o){return q(r.loginData.username,o)||(r.loginData.username=o),o}),d()()(),u(18,"div",14)(19,"label",9),m(20,"Mot de passe"),d(),u(21,"div",10)(22,"span",11),E(23,"i",15),d(),u(24,"input",16),z("ngModelChange",function(o){return q(r.loginData.password,o)||(r.loginData.password=o),o}),d(),u(25,"button",17),N("click",function(){return r.showLoginPassword=!r.showLoginPassword}),E(26,"i",18),d()()(),u(27,"button",19),P(28,yj,2,0)(29,_j,2,0),d()(),u(30,"div",20)(31,"a",21),E(32,"i",22),m(33,"Retour au site "),d()()()()),t&2&&(h(9),O(r.message?9:-1),h(8),$("ngModel",r.loginData.username),h(7),A("type",r.showLoginPassword?"text":"password"),$("ngModel",r.loginData.password),h(2),ue("bi-eye",!r.showLoginPassword)("bi-eye-slash",r.showLoginPassword),h(),A("disabled",r.isLoading),h(),O(r.isLoading?28:29))},dependencies:[fn,Xn,un,dn,Qn,On,Xt,Pn,Ze,Ro],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;padding:40px;width:100%;max-width:550px;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-icon[_ngcontent-%COMP%]{font-size:60px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:15px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:8px;font-size:28px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.login-tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:25px;background:#f8f9fa;padding:5px;border-radius:12px}.tab-button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border:none;background:transparent;border-radius:8px;font-weight:600;font-size:14px;color:#666;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.tab-button[_ngcontent-%COMP%]:hover{color:#667eea}.tab-button.active[_ngcontent-%COMP%]{background:#fff;color:#667eea;box-shadow:0 2px 8px #0000001a}.user-type-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.type-option[_ngcontent-%COMP%]{position:relative;cursor:pointer}.type-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0}.type-content[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:12px;padding:20px;text-align:center;transition:all .3s ease;background:#f8f9fa}.type-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#999;margin-bottom:8px;display:block;transition:all .3s ease}.type-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:600;color:#666;font-size:14px;transition:all .3s ease}.type-option[_ngcontent-%COMP%]:hover   .type-content[_ngcontent-%COMP%]{border-color:#667eea;transform:translateY(-2px)}.type-option.selected[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#667eea1a,#764ba21a)}.type-option.selected[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .type-option.selected[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#667eea}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px;border-radius:10px;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease;font-size:14px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px;margin-bottom:8px}.login-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ced4da;border-right:none;color:#667eea}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none;padding:12px 15px;font-size:15px;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#667eea}.login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:#667eea;color:#764ba2}.login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:#667eea}.login-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-left:none;background:#f8f9fa;color:#667eea;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#764ba2}.password-requirements[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px 20px;border-radius:10px}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#555;margin-bottom:10px}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;padding:5px 0;transition:color .3s ease}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;padding:14px;font-weight:600;font-size:16px;border-radius:10px;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #667eea66}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:25px;padding-top:20px;border-top:1px solid #eee}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.text-primary[_ngcontent-%COMP%]{color:#667eea!important;text-decoration:none;font-weight:600;transition:all .3s ease}.text-primary[_ngcontent-%COMP%]:hover{color:#764ba2!important;text-decoration:underline}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:30px 25px}.login-icon[_ngcontent-%COMP%]{font-size:50px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.user-type-selector[_ngcontent-%COMP%]{grid-template-columns:1fr}.type-content[_ngcontent-%COMP%]{padding:15px}.type-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.tab-button[_ngcontent-%COMP%]{font-size:13px;padding:10px 15px}}.login-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInForm .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInForm{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};function Cj(e,n){e&1&&m(0," Loading statistics... ")}function bj(e,n){e&1&&m(0," No comments yet ")}function Ej(e,n){if(e&1&&(he(0,"tr")(1,"td"),m(2),_e(),he(3,"td"),m(4),_e()()),e&2){let t=n.$implicit;h(2),L(t.site.nom),h(2),L(t.comments)}}function wj(e,n){if(e&1&&(he(0,"table",7)(1,"thead")(2,"tr")(3,"th"),m(4,"Site Name"),_e(),he(5,"th"),m(6,"Comments"),_e()()(),he(7,"tbody"),ve(8,Ej,5,2,"tr",null,i0),_e()()),e&2){let t=w(2);h(8),ye(t.stats.topSitesByComments)}}function Dj(e,n){if(e&1&&(he(0,"div",2)(1,"div",3)(2,"div",4),m(3,"Total Sites"),_e(),he(4,"div",5),m(5),_e()(),he(6,"div",3)(7,"div",4),m(8,"Total Monuments"),_e(),he(9,"div",5),m(10),_e()(),he(11,"div",3)(12,"div",4),m(13,"Total Comments"),_e(),he(14,"div",5),m(15),_e()(),he(16,"div",3)(17,"div",4),m(18,"Average Rating"),_e(),he(19,"div",5),m(20),Sn(21,"number"),_e()()(),he(22,"div",6)(23,"h3"),m(24,"Top Sites by Comments"),_e(),he(25,"div",0),P(26,bj,1,0),_e(),P(27,wj,10,0,"table",7),_e()),e&2){let t=w();h(5),L(t.stats.totalSites),h(5),L(t.stats.totalMonuments),h(5),L(t.stats.totalComments),h(5),L(t.stats.avgRating?Ao(21,6,t.stats.avgRating,"1.1-2")+"/5":"N/A"),h(6),O(t.stats.topSitesByComments.length===0?26:-1),h(),O(t.stats.topSitesByComments.length>0?27:-1)}}var ap=class e{constructor(n){this.patrimoineService=n}stats=null;isLoading=!0;ngOnInit(){this.loadStats()}loadStats(){this.isLoading=!0,this.patrimoineService.loadAll();let n=this.patrimoineService.patrimoines();if(n.length>0)this.stats=this.calculateStats(n),this.isLoading=!1;else{let t=setInterval(()=>{let r=this.patrimoineService.patrimoines();r.length>0&&(clearInterval(t),this.stats=this.calculateStats(r),this.isLoading=!1)},100);setTimeout(()=>{if(clearInterval(t),this.isLoading){let r=this.patrimoineService.patrimoines();this.stats=this.calculateStats(r),this.isLoading=!1}},5e3)}}calculateStats(n){let t=n.length,r=0,i=0,o=0,s=0;n.forEach(c=>{let f=c.comments||[];i+=f.length,r+=(c.monuments||[]).length,(c.monuments||[]).forEach(p=>{let v=p.comments||[];i+=v.length,v.forEach(g=>{typeof g.note=="number"&&(o+=g.note,s++)})}),f.forEach(p=>{typeof p.note=="number"&&(o+=p.note,s++)})});let a=s>0?+(o/s).toFixed(2):null,l=n.map(c=>{let f=(c.comments||[]).length,p=(c.monuments||[]).reduce((v,g)=>v+(g.comments||[]).length,0);return{site:c,comments:f+p}}).sort((c,f)=>f.comments-c.comments).slice(0,5);return{totalSites:t,totalMonuments:r,totalComments:i,avgRating:a,topSitesByComments:l}}static \u0275fac=function(t){return new(t||e)(H(Mt))};static \u0275cmp=ge({type:e,selectors:[["app-dashboard"]],decls:6,vars:2,consts:[[1,"alert","alert-info"],[1,"dashboard-container"],[1,"cards"],[1,"card"],[1,"card-header"],[1,"card-value"],[1,"section"],[1,"table","table-striped"]],template:function(t,r){t&1&&(he(0,"h2"),m(1,"Dashboard"),_e(),he(2,"div",0),P(3,Cj,1,0),_e(),he(4,"div",1),P(5,Dj,28,9),_e()),t&2&&(h(3),O(r.isLoading?3:-1),h(2),O(!r.isLoading&&r.stats?5:-1))},dependencies:[gl],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px 0}.cards[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:40px;flex-wrap:wrap}.card[_ngcontent-%COMP%]{flex:1;min-width:200px;padding:20px;background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.card[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#e74c3c,#c0392b)}.card[_ngcontent-%COMP%]:nth-child(3){background:linear-gradient(135deg,#f39c12,#e67e22)}.card-header[_ngcontent-%COMP%]{font-size:14px;font-weight:500;opacity:.9;margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}.card-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.section[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:20px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font-size:18px;color:#2c3e50}table[_ngcontent-%COMP%]{margin-top:15px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#e8e8e8}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;font-weight:600;text-align:left}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#efefef}.alert[_ngcontent-%COMP%]{padding:12px 15px;border-radius:4px;margin:15px 0}.alert-info[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}"]})};var QM=()=>[],XM=(e,n)=>n.id;function xj(e,n){if(e&1){let t=Se();u(0,"div",37),E(1,"i",40),u(2,"h4"),m(3,"No sites found"),d(),u(4,"p"),m(5),d(),u(6,"button",34),N("click",function(){I(t);let i=w();return T(i.openAddForm())}),E(7,"i",35),m(8,"Add First Site "),d()()}if(e&2){let t=w();h(5),L(t.searchTerm||t.filterCategory?"Try adjusting your search or filter":"Start by adding a new heritage site")}}function Mj(e,n){if(e&1){let t=Se();u(0,"tr")(1,"td")(2,"div",42)(3,"div",43)(4,"img",44),N("error",function(i){I(t);let o=w(2);return T(o.onImageError(i))}),d()(),u(5,"div",45)(6,"span",46),m(7),d(),u(8,"span",47),m(9),d()()()(),u(10,"td")(11,"span",48),E(12,"i",49),m(13),d()(),u(14,"td")(15,"span",50),m(16),d()(),u(17,"td")(18,"span",51),E(19,"i",52),m(20),d()(),u(21,"td")(22,"span",53),m(23),d()(),u(24,"td")(25,"span",54),E(26,"i",55),m(27),d()(),u(28,"td")(29,"div",56)(30,"button",57),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.openMonumentsModal(i))}),E(31,"i",58),d(),u(32,"button",59),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.openEditForm(i))}),E(33,"i",60),d(),u(34,"button",61),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.delete(i.id))}),E(35,"i",62),d()()()()}if(e&2){let t=n.$implicit,r=w(2);h(4),A("src",t.photoCarousel&&t.photoCarousel[0]||"assets/images/default.jpg",it)("alt",t.nom),h(3),L(t.nom),h(2),L(r.truncate(t.description,40)),h(4),G("",t.localisation," "),h(2),A("ngClass",r.getCategoryClass(t.categories[0]||"Site arch\xE9ologique")),h(),G(" ",t.categories[0]||"Site arch\xE9ologique"," "),h(4),G("",(t.monuments||Rt(13,QM)).length," "),h(2),A("ngClass",t.prixEntree===0?"free":""),h(),G(" ",t.prixEntree===0?"Free":t.prixEntree+" DT"," "),h(2),A("ngClass",t.estClasse?"classified":"standard"),h(),A("ngClass",t.estClasse?"bi-award-fill":"bi-building"),h(),G(" ",t.estClasse?"UNESCO":"Standard"," ")}}function Sj(e,n){if(e&1&&(u(0,"div",38)(1,"table",41)(2,"thead")(3,"tr")(4,"th"),m(5,"Site"),d(),u(6,"th"),m(7,"Location"),d(),u(8,"th"),m(9,"Category"),d(),u(10,"th"),m(11,"Monuments"),d(),u(12,"th"),m(13,"Price"),d(),u(14,"th"),m(15,"Status"),d(),u(16,"th"),m(17,"Actions"),d()()(),u(18,"tbody"),ve(19,Mj,36,14,"tr",null,XM),d()()()),e&2){let t=w();h(19),ye(t.filteredSites())}}function Ij(e,n){if(e&1){let t=Se();u(0,"div",63),N("click",function(){I(t);let i=w();return T(i.cancelForm())}),u(1,"div",64),N("click",function(i){return I(t),T(i.stopPropagation())}),u(2,"div",65)(3,"h3"),E(4,"i",55),m(5),d(),u(6,"button",66),N("click",function(){I(t);let i=w();return T(i.cancelForm())}),d()(),u(7,"form",67),N("submit",function(i){return I(t),w().saveSite(),T(i.preventDefault())}),u(8,"div",68)(9,"div",69)(10,"div",70)(11,"label",71),m(12,"Site Name *"),d(),u(13,"input",72),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.nom,i)||(o.formData.nom=i),T(i)}),d()(),u(14,"div",70)(15,"label",71),m(16,"Location *"),d(),u(17,"input",73),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.localisation,i)||(o.formData.localisation=i),T(i)}),d()()(),u(18,"div",69)(19,"div",70)(20,"label",71),m(21,"Category"),d(),u(22,"select",74),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.categorie,i)||(o.formData.categorie=i),T(i)}),u(23,"option",25),m(24,"Site arch\xE9ologique"),d(),u(25,"option",26),m(26,"Infrastructure romaine"),d(),u(27,"option",27),m(28,"Ville historique"),d(),u(29,"option",28),m(30,"M\xE9dina"),d(),u(31,"option",29),m(32,"Patrimoine immat\xE9riel"),d(),u(33,"option",30),m(34,"Parc naturel"),d(),u(35,"option",31),m(36,"Site historique"),d(),u(37,"option",32),m(38,"Ville religieuse"),d(),u(39,"option",33),m(40,"\xCEle culturelle"),d()()(),u(41,"div",70)(42,"label",71),m(43,"Entry Price (DT)"),d(),u(44,"input",75),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.prixEntree,i)||(o.formData.prixEntree=i),T(i)}),d()()(),u(45,"div",76)(46,"label",71),m(47,"Photo URL"),d(),u(48,"input",77),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.photo,i)||(o.formData.photo=i),T(i)}),d()(),u(49,"div",76)(50,"label",71),m(51,"Description"),d(),u(52,"textarea",78),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.description,i)||(o.formData.description=i),T(i)}),d()(),u(53,"div",69)(54,"div",70)(55,"label",71),m(56,"Construction Date"),d(),u(57,"input",79),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.dateConstruction,i)||(o.formData.dateConstruction=i),T(i)}),d()(),u(58,"div",70)(59,"label",71),m(60,"Opening Hours"),d(),u(61,"input",80),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.horaires,i)||(o.formData.horaires=i),T(i)}),d(),u(62,"small",5),m(63,"Separate multiple hours with commas"),d()()(),u(64,"div",81)(65,"div",82)(66,"div",83)(67,"input",84),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.estClasse,i)||(o.formData.estClasse=i),T(i)}),d(),u(68,"label",85),m(69,"UNESCO Classified"),d()()(),u(70,"div",82)(71,"div",83)(72,"input",86),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.visitesGuideesDisponibles,i)||(o.formData.visitesGuideesDisponibles=i),T(i)}),d(),u(73,"label",87),m(74,"Guided Tours Available"),d()()()(),u(75,"div",69)(76,"div",70)(77,"label",71),m(78,"Latitude"),d(),u(79,"input",88),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.latitude,i)||(o.formData.latitude=i),T(i)}),d()(),u(80,"div",70)(81,"label",71),m(82,"Longitude"),d(),u(83,"input",89),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.longitude,i)||(o.formData.longitude=i),T(i)}),d()()(),u(84,"div",76)(85,"label",71),m(86,"Nearby Places"),d(),u(87,"input",90),z("ngModelChange",function(i){I(t);let o=w();return q(o.formData.lieuxProches,i)||(o.formData.lieuxProches=i),T(i)}),d(),u(88,"small",5),m(89,"Format: name|type|distance(km); separate with semicolons"),d()()(),u(90,"div",91)(91,"button",92),N("click",function(){I(t);let i=w();return T(i.cancelForm())}),E(92,"i",93),m(93,"Cancel "),d(),u(94,"button",94),E(95,"i",95),m(96),d()()()()()}if(e&2){let t=w();h(4),A("ngClass",t.editingId?"bi-pencil-square":"bi-plus-circle"),h(),G(" ",t.editingId?"Edit Site":"Add New Site"," "),h(8),$("ngModel",t.formData.nom),h(4),$("ngModel",t.formData.localisation),h(5),$("ngModel",t.formData.categorie),h(22),$("ngModel",t.formData.prixEntree),h(4),$("ngModel",t.formData.photo),h(4),$("ngModel",t.formData.description),h(5),$("ngModel",t.formData.dateConstruction),h(4),$("ngModel",t.formData.horaires),h(6),$("ngModel",t.formData.estClasse),h(5),$("ngModel",t.formData.visitesGuideesDisponibles),h(7),$("ngModel",t.formData.latitude),h(4),$("ngModel",t.formData.longitude),h(4),$("ngModel",t.formData.lieuxProches),h(9),G("",t.editingId?"Update":"Create"," ")}}function Tj(e,n){e&1&&(u(0,"div",100),E(1,"i",58),u(2,"p"),m(3,"No monuments yet. Add your first monument!"),d()())}function Pj(e,n){e&1&&(u(0,"span",107),E(1,"i",109),m(2," UNESCO"),d())}function Oj(e,n){if(e&1){let t=Se();u(0,"div",102)(1,"div",103)(2,"img",44),N("error",function(i){I(t);let o=w(3);return T(o.onImageError(i))}),d()(),u(3,"div",104)(4,"h4"),m(5),d(),u(6,"p"),m(7),d(),u(8,"div",105)(9,"span"),E(10,"i",106),m(11),d(),u(12,"span"),E(13,"i",16),m(14),d(),P(15,Pj,3,0,"span",107),d()(),u(16,"div",108)(17,"button",59),N("click",function(){let i=I(t).$implicit,o=w(3);return T(o.openEditMonumentForm(i))}),E(18,"i",60),d(),u(19,"button",61),N("click",function(){let i=I(t).$implicit,o=w(3);return T(o.deleteMonument(i.id))}),E(20,"i",62),d()()()}if(e&2){let t=n.$implicit,r=w(3);h(2),A("src",t.photoCarousel&&t.photoCarousel[0]||"assets/images/default.jpg",it)("alt",t.nom),h(3),L(t.nom),h(2),L(r.truncate(t.description,100)),h(4),G(" ",t.adresse),h(3),G(" ",t.prixEntree===0?"Free":t.prixEntree+" DT"),h(),O(t.estClasse?15:-1)}}function Aj(e,n){if(e&1&&(u(0,"div",101),ve(1,Oj,21,7,"div",102,XM),d()),e&2){let t=w(2);h(),ye(t.selectedSite==null?null:t.selectedSite.monuments)}}function Nj(e,n){if(e&1){let t=Se();u(0,"div",63),N("click",function(){I(t);let i=w();return T(i.closeMonumentsModal())}),u(1,"div",96),N("click",function(i){return I(t),T(i.stopPropagation())}),u(2,"div",65)(3,"h3"),E(4,"i",97),m(5),d(),u(6,"button",66),N("click",function(){I(t);let i=w();return T(i.closeMonumentsModal())}),d()(),u(7,"div",68)(8,"div",98)(9,"button",99),N("click",function(){I(t);let i=w();return T(i.openAddMonumentForm())}),E(10,"i",35),m(11,"Add Monument "),d()(),P(12,Tj,4,0,"div",100)(13,Aj,3,0,"div",101),d(),u(14,"div",91)(15,"button",92),N("click",function(){I(t);let i=w();return T(i.closeMonumentsModal())}),E(16,"i",93),m(17,"Close "),d()()()()}if(e&2){let t=w();h(5),G(" Monuments - ",t.selectedSite==null?null:t.selectedSite.nom," "),h(7),O(((t.selectedSite==null?null:t.selectedSite.monuments)||Rt(2,QM)).length===0?12:13)}}function Rj(e,n){if(e&1){let t=Se();u(0,"div",63),N("click",function(){I(t);let i=w();return T(i.cancelMonumentForm())}),u(1,"div",64),N("click",function(i){return I(t),T(i.stopPropagation())}),u(2,"div",65)(3,"h3"),E(4,"i",55),m(5),d(),u(6,"button",66),N("click",function(){I(t);let i=w();return T(i.cancelMonumentForm())}),d()(),u(7,"form",67),N("submit",function(i){return I(t),w().saveMonument(),T(i.preventDefault())}),u(8,"div",68)(9,"div",69)(10,"div",70)(11,"label",71),m(12,"Monument Name *"),d(),u(13,"input",110),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.nom,i)||(o.monumentFormData.nom=i),T(i)}),d()(),u(14,"div",70)(15,"label",71),m(16,"Address *"),d(),u(17,"input",111),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.adresse,i)||(o.monumentFormData.adresse=i),T(i)}),d()()(),u(18,"div",76)(19,"label",71),m(20,"Description"),d(),u(21,"textarea",78),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.description,i)||(o.monumentFormData.description=i),T(i)}),d()(),u(22,"div",69)(23,"div",70)(24,"label",71),m(25,"Categories (comma-separated)"),d(),u(26,"input",112),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.categories,i)||(o.monumentFormData.categories=i),T(i)}),d()(),u(27,"div",70)(28,"label",71),m(29,"Entry Price (DT)"),d(),u(30,"input",75),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.prixEntree,i)||(o.monumentFormData.prixEntree=i),T(i)}),d()()(),u(31,"div",76)(32,"label",71),m(33,"Photo URLs (comma-separated)"),d(),u(34,"input",113),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.photos,i)||(o.monumentFormData.photos=i),T(i)}),d()(),u(35,"div",69)(36,"div",70)(37,"label",71),m(38,"Construction Date"),d(),u(39,"input",79),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.dateConstruction,i)||(o.monumentFormData.dateConstruction=i),T(i)}),d()(),u(40,"div",70)(41,"label",71),m(42,"Historical Origin"),d(),u(43,"input",114),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.origineHistorique,i)||(o.monumentFormData.origineHistorique=i),T(i)}),d()()(),u(44,"div",69)(45,"div",70)(46,"label",71),m(47,"Opening Hours"),d(),u(48,"input",80),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.horaires,i)||(o.monumentFormData.horaires=i),T(i)}),d(),u(49,"small",5),m(50,"Separate multiple hours with commas"),d()(),u(51,"div",70)(52,"label",71),m(53,"Nearby Places"),d(),u(54,"input",115),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.lieuxProches,i)||(o.monumentFormData.lieuxProches=i),T(i)}),d(),u(55,"small",5),m(56,"Format: name|type|distance; separate with semicolons"),d()()(),u(57,"div",81)(58,"div",116)(59,"div",83)(60,"input",117),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.estClasse,i)||(o.monumentFormData.estClasse=i),T(i)}),d(),u(61,"label",118),m(62,"UNESCO Classified"),d()()(),u(63,"div",116)(64,"div",83)(65,"input",119),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.ouvert,i)||(o.monumentFormData.ouvert=i),T(i)}),d(),u(66,"label",120),m(67,"Open to Public"),d()()(),u(68,"div",116)(69,"div",83)(70,"input",121),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.visitesGuideesDisponibles,i)||(o.monumentFormData.visitesGuideesDisponibles=i),T(i)}),d(),u(71,"label",122),m(72,"Guided Tours"),d()()()(),u(73,"div",69)(74,"div",70)(75,"label",71),m(76,"Latitude"),d(),u(77,"input",123),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.latitude,i)||(o.monumentFormData.latitude=i),T(i)}),d()(),u(78,"div",70)(79,"label",71),m(80,"Longitude"),d(),u(81,"input",124),z("ngModelChange",function(i){I(t);let o=w();return q(o.monumentFormData.longitude,i)||(o.monumentFormData.longitude=i),T(i)}),d()()()(),u(82,"div",91)(83,"button",92),N("click",function(){I(t);let i=w();return T(i.cancelMonumentForm())}),E(84,"i",93),m(85,"Cancel "),d(),u(86,"button",94),E(87,"i",95),m(88),d()()()()()}if(e&2){let t=w();h(4),A("ngClass",t.editingMonumentId?"bi-pencil-square":"bi-plus-circle"),h(),G(" ",t.editingMonumentId?"Edit Monument":"Add New Monument"," "),h(8),$("ngModel",t.monumentFormData.nom),h(4),$("ngModel",t.monumentFormData.adresse),h(4),$("ngModel",t.monumentFormData.description),h(5),$("ngModel",t.monumentFormData.categories),h(4),$("ngModel",t.monumentFormData.prixEntree),h(4),$("ngModel",t.monumentFormData.photos),h(5),$("ngModel",t.monumentFormData.dateConstruction),h(4),$("ngModel",t.monumentFormData.origineHistorique),h(5),$("ngModel",t.monumentFormData.horaires),h(6),$("ngModel",t.monumentFormData.lieuxProches),h(6),$("ngModel",t.monumentFormData.estClasse),h(5),$("ngModel",t.monumentFormData.ouvert),h(5),$("ngModel",t.monumentFormData.visitesGuideesDisponibles),h(7),$("ngModel",t.monumentFormData.latitude),h(4),$("ngModel",t.monumentFormData.longitude),h(7),G("",t.editingMonumentId?"Update":"Create"," ")}}var lp=class e{constructor(n,t,r){this.patrimoineService=n;this.http=t;this.router=r}sites=[];showForm=!1;editingId=null;searchTerm="";filterCategory="";showMonumentsModal=!1;showMonumentForm=!1;selectedSite=null;editingMonumentId=null;formData={nom:"",localisation:"",photo:"",dateConstruction:"",estClasse:!1,prixEntree:0,description:"",categorie:"Site arch\xE9ologique",horaires:"",visitesGuideesDisponibles:!1,lieuxProches:"",latitude:0,longitude:0};monumentFormData={nom:"",adresse:"",description:"",categories:"",prixEntree:0,photos:"",dateConstruction:"",origineHistorique:"",horaires:"",lieuxProches:"",estClasse:!1,ouvert:!0,visitesGuideesDisponibles:!1,latitude:0,longitude:0};ngOnInit(){this.load()}load(){this.patrimoineService.loadAll();let n=this.patrimoineService.patrimoines();if(n.length>0)this.sites=n;else{let t=setInterval(()=>{let r=this.patrimoineService.patrimoines();r.length>0&&(clearInterval(t),this.sites=r)},100);setTimeout(()=>{clearInterval(t),this.sites=this.patrimoineService.patrimoines()},5e3)}}getCategories(){let n=new Set;return this.sites.forEach(t=>{t.categories.forEach(r=>n.add(r))}),Array.from(n).sort()}filteredSites(){return this.sites.filter(n=>{let t=!this.searchTerm||n.nom.toLowerCase().includes(this.searchTerm.toLowerCase())||(n.localisation||"").toLowerCase().includes(this.searchTerm.toLowerCase()),r=!this.filterCategory||n.categories.includes(this.filterCategory);return t&&r})}getClassifiedCount(){return this.sites.filter(n=>n.estClasse).length}getFreeCount(){return this.sites.filter(n=>!n.prixEntree||n.prixEntree===0).length}truncate(n,t){return n?n.length>t?n.substring(0,t)+"...":n:""}getCategoryClass(n){return{"Site arch\xE9ologique":"archeologique","Infrastructure romaine":"romaine","Ville historique":"historique",M\u00E9dina:"medina","Patrimoine immat\xE9riel":"immateriel","Parc naturel":"naturel","Site historique":"historique","Ville religieuse":"religieux","\xCEle culturelle":"culturelle"}[n]||"autre"}onImageError(n){let t=n.target;t.src="assets/images/default.jpg"}openAddForm(){this.editingId=null,this.resetForm(),this.showForm=!0}openEditForm(n){this.editingId=n.id,this.formData={nom:n.nom||"",localisation:n.localisation||"",photo:n.photoCarousel&&n.photoCarousel[0]||"",dateConstruction:n.dateConstruction?n.dateConstruction.split("T")[0]:"",estClasse:n.estClasse||!1,prixEntree:n.prixEntree||0,description:n.description||"",categorie:n.categories&&n.categories[0]||"Site arch\xE9ologique",horaires:(n.horaires||[]).join(", "),visitesGuideesDisponibles:n.visitesGuideesDisponibles||!1,lieuxProches:(n.lieuxProches||[]).map(t=>`${t.nom}|${t.type}|${t.distanceKm||0}`).join("; "),latitude:n.latitude||0,longitude:n.longitude||0},this.showForm=!0}resetForm(){this.formData={nom:"",localisation:"",photo:"",dateConstruction:"",estClasse:!1,prixEntree:0,description:"",categorie:"Site arch\xE9ologique",horaires:"",visitesGuideesDisponibles:!1,lieuxProches:"",latitude:0,longitude:0}}saveSite(){if(!this.formData.nom||!this.formData.localisation){alert("Name and Location are required");return}let n=this.formData.horaires?this.formData.horaires.split(",").map(o=>o.trim()).filter(o=>o):[],t=this.formData.lieuxProches?this.formData.lieuxProches.split(";").map(o=>{let s=o.trim().split("|");return{nom:s[0]||"",type:s[1]||"",distanceKm:parseFloat(s[2])||0}}).filter(o=>o.nom):[],r=this.editingId?this.sites.find(o=>o.id===this.editingId):null,i={nom:this.formData.nom,localisation:this.formData.localisation,description:this.formData.description||"",origineHistorique:r?.origineHistorique||"",photoCarousel:this.formData.photo?[this.formData.photo]:[],latitude:this.formData.latitude||0,longitude:this.formData.longitude||0,categories:[this.formData.categorie],dateConstruction:this.formData.dateConstruction||null,estClasse:this.formData.estClasse,prixEntree:this.formData.prixEntree||0,ouvert:!0,horaires:n,visitesGuideesDisponibles:this.formData.visitesGuideesDisponibles,lieuxProches:t,comments:r?.comments||[],stats:r?.stats||{vues:0,favoris:0,noteMoyenne:0},monuments:r?.monuments||[]};this.editingId?this.patrimoineService.updatePatrimoine(this.editingId,i).subscribe({next:()=>{alert("Site updated successfully!"),this.showForm=!1,this.load()},error:o=>{console.error("Error updating site:",o),alert("Failed to update site. Please try again.")}}):this.patrimoineService.addPatrimoine(i).subscribe({next:()=>{alert("Site added successfully!"),this.showForm=!1,this.load()},error:o=>{console.error("Error adding site:",o),alert("Failed to add site. Please try again.")}})}cancelForm(){this.showForm=!1}delete(n){confirm("Are you sure you want to delete this site?")&&this.patrimoineService.deletePatrimoine(n).subscribe({next:()=>{alert("Site deleted successfully!"),this.load()},error:t=>{console.error("Error deleting site:",t),alert("Failed to delete site. Please try again.")}})}openMonumentsModal(n){this.selectedSite=n,this.showMonumentsModal=!0}closeMonumentsModal(){this.showMonumentsModal=!1,this.selectedSite=null}openAddMonumentForm(){this.editingMonumentId=null,this.resetMonumentForm(),this.showMonumentForm=!0}openEditMonumentForm(n){this.editingMonumentId=n.id,this.monumentFormData={nom:n.nom||"",adresse:n.adresse||"",description:n.description||"",categories:(n.categories||[]).join(", "),prixEntree:n.prixEntree||0,photos:(n.photoCarousel||[]).join(", "),dateConstruction:n.dateConstruction?n.dateConstruction.split("T")[0]:"",origineHistorique:n.origineHistorique||"",horaires:(n.horaires||[]).join(", "),lieuxProches:(n.lieuxProches||[]).map(t=>`${t.nom}|${t.type}|${t.distanceKm||0}`).join("; "),estClasse:n.estClasse||!1,ouvert:n.ouvert!==!1,visitesGuideesDisponibles:n.visitesGuideesDisponibles||!1,latitude:n.latitude||0,longitude:n.longitude||0},this.showMonumentForm=!0}resetMonumentForm(){this.monumentFormData={nom:"",adresse:"",description:"",categories:"",prixEntree:0,photos:"",dateConstruction:"",origineHistorique:"",horaires:"",lieuxProches:"",estClasse:!1,ouvert:!0,visitesGuideesDisponibles:!1,latitude:0,longitude:0}}saveMonument(){if(!this.monumentFormData.nom||!this.monumentFormData.adresse){alert("Monument name and address are required");return}if(!this.selectedSite){alert("No site selected");return}let n=this.monumentFormData.categories?this.monumentFormData.categories.split(",").map(c=>c.trim()).filter(c=>c):[],t=this.monumentFormData.photos?this.monumentFormData.photos.split(",").map(c=>c.trim()).filter(c=>c):[],r=this.monumentFormData.horaires?this.monumentFormData.horaires.split(",").map(c=>c.trim()).filter(c=>c):[],i=this.monumentFormData.lieuxProches?this.monumentFormData.lieuxProches.split(";").map(c=>{let f=c.trim().split("|");return{nom:f[0]||"",type:f[1]||"",distanceKm:parseFloat(f[2])||0}}).filter(c=>c.nom):[],o=this.editingMonumentId?(this.selectedSite.monuments||[]).find(c=>c.id===this.editingMonumentId):null,s={id:this.editingMonumentId||`mon-${this.selectedSite.id}-${Date.now()}`,nom:this.monumentFormData.nom,localisation:this.selectedSite.localisation,adresse:this.monumentFormData.adresse,description:this.monumentFormData.description,origineHistorique:this.monumentFormData.origineHistorique,photoCarousel:t,latitude:this.monumentFormData.latitude,longitude:this.monumentFormData.longitude,dateConstruction:this.monumentFormData.dateConstruction||null,estClasse:this.monumentFormData.estClasse,prixEntree:this.monumentFormData.prixEntree,ouvert:this.monumentFormData.ouvert,horaires:r,categories:n,visitesGuideesDisponibles:this.monumentFormData.visitesGuideesDisponibles,lieuxProches:i,comments:o?.comments||[],monuments:o?.monuments||[],stats:o?.stats||{vues:0,favoris:0,noteMoyenne:0}},a=[...this.selectedSite.monuments||[]];if(this.editingMonumentId){let c=a.findIndex(f=>f.id===this.editingMonumentId);c!==-1&&(a[c]=s)}else a.push(s);let l=Y(S({},this.selectedSite),{monuments:a});this.patrimoineService.updatePatrimoine(this.selectedSite.id,l).subscribe({next:()=>{alert(this.editingMonumentId?"Monument updated successfully!":"Monument added successfully!"),this.showMonumentForm=!1,this.load(),setTimeout(()=>{let c=this.sites.find(f=>f.id===this.selectedSite?.id);c&&(this.selectedSite=c)},500)},error:c=>{console.error("Error saving monument:",c),alert("Failed to save monument. Please try again.")}})}cancelMonumentForm(){this.showMonumentForm=!1,this.editingMonumentId=null}deleteMonument(n){if(!confirm("Are you sure you want to delete this monument?")||!this.selectedSite)return;let t=(this.selectedSite.monuments||[]).filter(i=>i.id!==n),r=Y(S({},this.selectedSite),{monuments:t});this.patrimoineService.updatePatrimoine(this.selectedSite.id,r).subscribe({next:()=>{alert("Monument deleted successfully!"),this.load(),setTimeout(()=>{let i=this.sites.find(o=>o.id===this.selectedSite?.id);i&&(this.selectedSite=i)},500)},error:i=>{console.error("Error deleting monument:",i),alert("Failed to delete monument. Please try again.")}})}getFirstCategory(n){return n.categories&&n.categories.length>0?n.categories[0]:"Site arch\xE9ologique"}static \u0275fac=function(t){return new(t||e)(H(Mt),H(Nr),H(Ke))};static \u0275cmp=ge({type:e,selectors:[["app-site-crud"]],decls:74,vars:9,consts:[[1,"crud-container"],[1,"crud-card"],[1,"crud-header"],[1,"header-icon"],[1,"bi","bi-geo-alt-fill"],[1,"text-muted"],[1,"stats-row"],[1,"stat-card"],[1,"stat-icon","bg-primary"],[1,"bi","bi-building"],[1,"stat-info"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon","bg-success"],[1,"bi","bi-award"],[1,"stat-icon","bg-warning"],[1,"bi","bi-cash"],[1,"section-title"],[1,"bi","bi-search"],[1,"search-filter-row"],[1,"input-group"],[1,"input-group-text"],["type","text","placeholder","Search sites by name or location...",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","Site arch\xE9ologique"],["value","Infrastructure romaine"],["value","Ville historique"],["value","M\xE9dina"],["value","Patrimoine immat\xE9riel"],["value","Parc naturel"],["value","Site historique"],["value","Ville religieuse"],["value","\xCEle culturelle"],[1,"btn","btn-add",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"bi","bi-list-ul"],[1,"empty-state"],[1,"table-container"],[1,"modal-overlay"],[1,"bi","bi-inbox"],[1,"table"],[1,"site-info"],[1,"site-image"],[3,"error","src","alt"],[1,"site-details"],[1,"site-name"],[1,"site-desc"],[1,"location-badge"],[1,"bi","bi-pin-map","me-1"],[1,"category-badge",3,"ngClass"],[1,"monument-count"],[1,"bi","bi-bank","me-1"],[1,"price-badge",3,"ngClass"],[1,"status-badge",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"action-buttons"],["title","Manage Monuments",1,"btn-action","btn-monuments",3,"click"],[1,"bi","bi-bank"],["title","Edit",1,"btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["title","Delete",1,"btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["type","button",1,"btn-close",3,"click"],[3,"submit"],[1,"modal-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","name","nom","placeholder","Enter site name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","localisation","placeholder","Enter location","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","categorie",1,"form-select",3,"ngModelChange","ngModel"],["type","number","name","prixEntree","placeholder","0","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["type","text","name","photo","placeholder","assets/images/site.jpg",1,"form-control",3,"ngModelChange","ngModel"],["name","description","rows","3","placeholder","Enter description...",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","dateConstruction",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","horaires","placeholder","09:00-17:00, 10:00-18:00",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-check","form-switch"],["type","checkbox","name","estClasse","id","estClasse",1,"form-check-input",3,"ngModelChange","ngModel"],["for","estClasse",1,"form-check-label"],["type","checkbox","name","visitesGuideesDisponibles","id","guidedTours",1,"form-check-input",3,"ngModelChange","ngModel"],["for","guidedTours",1,"form-check-label"],["type","number","step","0.0001","name","latitude","placeholder","36.8065",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.0001","name","longitude","placeholder","10.1815",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lieuxProches","placeholder","Mosqu\xE9e|Religieux|0.1; Souk|Commercial|0.2",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-lg","me-1"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-check-lg","me-1"],[1,"modal-content","modal-large",3,"click"],[1,"bi","bi-bank","me-2"],[1,"monuments-header"],[1,"btn","btn-add","btn-sm",3,"click"],[1,"empty-state-small"],[1,"monuments-list"],[1,"monument-card"],[1,"monument-image"],[1,"monument-info"],[1,"monument-meta"],[1,"bi","bi-geo-alt"],[1,"unesco-badge"],[1,"monument-actions"],[1,"bi","bi-award-fill"],["type","text","name","nom","placeholder","Enter monument name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","adresse","placeholder","Enter address","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","categories","placeholder","Romain, Spectacle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","photos","placeholder","image1.jpg, image2.jpg",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","origineHistorique","placeholder","Antiquit\xE9 romaine",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lieuxProches","placeholder","Mus\xE9e|Mus\xE9e|0.4",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["type","checkbox","name","estClasse","id","monEstClasse",1,"form-check-input",3,"ngModelChange","ngModel"],["for","monEstClasse",1,"form-check-label"],["type","checkbox","name","ouvert","id","monOuvert",1,"form-check-input",3,"ngModelChange","ngModel"],["for","monOuvert",1,"form-check-label"],["type","checkbox","name","visitesGuideesDisponibles","id","monGuidedTours",1,"form-check-input",3,"ngModelChange","ngModel"],["for","monGuidedTours",1,"form-check-label"],["type","number","step","0.0001","name","latitude","placeholder","35.30062",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.0001","name","longitude","placeholder","10.70702",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),E(4,"i",4),d(),u(5,"h2"),m(6,"Manage Sites"),d(),u(7,"p",5),m(8,"Add, edit, and manage heritage sites"),d()(),u(9,"div",6)(10,"div",7)(11,"div",8),E(12,"i",9),d(),u(13,"div",10)(14,"span",11),m(15),d(),u(16,"span",12),m(17,"Total Sites"),d()()(),u(18,"div",7)(19,"div",13),E(20,"i",14),d(),u(21,"div",10)(22,"span",11),m(23),d(),u(24,"span",12),m(25,"UNESCO Classified"),d()()(),u(26,"div",7)(27,"div",15),E(28,"i",16),d(),u(29,"div",10)(30,"span",11),m(31),d(),u(32,"span",12),m(33,"Free Entry"),d()()()(),u(34,"div",17),E(35,"i",18),m(36," Search & Filter "),d(),u(37,"div",19)(38,"div",20)(39,"span",21),E(40,"i",18),d(),u(41,"input",22),z("ngModelChange",function(o){return q(r.searchTerm,o)||(r.searchTerm=o),o}),d()(),u(42,"select",23),z("ngModelChange",function(o){return q(r.filterCategory,o)||(r.filterCategory=o),o}),u(43,"option",24),m(44,"All Categories"),d(),u(45,"option",25),m(46,"Site arch\xE9ologique"),d(),u(47,"option",26),m(48,"Infrastructure romaine"),d(),u(49,"option",27),m(50,"Ville historique"),d(),u(51,"option",28),m(52,"M\xE9dina"),d(),u(53,"option",29),m(54,"Patrimoine immat\xE9riel"),d(),u(55,"option",30),m(56,"Parc naturel"),d(),u(57,"option",31),m(58,"Site historique"),d(),u(59,"option",32),m(60,"Ville religieuse"),d(),u(61,"option",33),m(62,"\xCEle culturelle"),d()(),u(63,"button",34),N("click",function(){return r.openAddForm()}),E(64,"i",35),m(65,"Add New Site "),d()(),u(66,"div",17),E(67,"i",36),m(68," Sites List "),d(),P(69,xj,9,1,"div",37)(70,Sj,21,0,"div",38),d()(),P(71,Ij,97,16,"div",39),P(72,Nj,18,3,"div",39),P(73,Rj,89,18,"div",39)),t&2&&(h(15),L(r.sites.length),h(8),L(r.getClassifiedCount()),h(8),L(r.getFreeCount()),h(10),$("ngModel",r.searchTerm),h(),$("ngModel",r.filterCategory),h(27),O(r.filteredSites().length===0?69:70),h(2),O(r.showForm?71:-1),h(),O(r.showMonumentsModal?72:-1),h(),O(r.showMonumentForm?73:-1))},dependencies:[fn,Xn,Hr,$r,un,Xl,Ql,Jn,dn,Qn,On,Jl,Xt,Pn,Ze,Ro],styles:[".crud-container[_ngcontent-%COMP%]{padding:30px 20px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.crud-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 40px #0000001a;padding:40px;max-width:1200px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.crud-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:50px;color:#667eea;margin-bottom:10px}.crud-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:5px}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f7fa,#e4e8f0);border-radius:15px;padding:20px;display:flex;align-items:center;gap:15px;transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff}.stat-icon.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-icon.bg-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d)}.stat-icon.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-number[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333}.stat-label[_ngcontent-%COMP%]{font-size:13px;color:#888}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#667eea;margin:25px 0 15px;padding-bottom:8px;border-bottom:2px solid #eee}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.search-filter-row[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:25px;flex-wrap:wrap}.search-filter-row[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1;min-width:250px}.search-filter-row[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ced4da;border-right:none;color:#667eea}.search-filter-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none;padding:10px 15px;font-size:14px}.search-filter-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#667eea}.search-filter-row[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:#667eea;color:#764ba2}.filter-select[_ngcontent-%COMP%]{width:auto;min-width:180px;padding:10px 15px;border-radius:8px;border:1px solid #ced4da}.filter-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:none}.btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 25px;border-radius:10px;font-weight:600;transition:all .3s ease;cursor:pointer;white-space:nowrap}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea66;color:#fff}.btn-add.btn-sm[_ngcontent-%COMP%]{padding:8px 18px;font-size:14px}.table-container[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;border:1px solid #eee}.table[_ngcontent-%COMP%]{margin:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-weight:600;padding:15px;border:none;font-size:14px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s ease}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9ff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle;border-color:#eee}.site-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.site-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;overflow:hidden;flex-shrink:0;border:2px solid #eee}.site-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.site-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.site-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.site-desc[_ngcontent-%COMP%]{font-size:12px;color:#888}.location-badge[_ngcontent-%COMP%]{color:#555;font-size:13px}.monument-count[_ngcontent-%COMP%]{color:#667eea;font-weight:600;font-size:14px}.category-badge[_ngcontent-%COMP%]{padding:5px 12px;border-radius:20px;font-size:12px;font-weight:500;display:inline-block;white-space:nowrap}.category-badge.medina[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.category-badge.monument[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.category-badge.musee[_ngcontent-%COMP%]{background:#f3e5f5;color:#9c27b0}.category-badge.archeologique[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.category-badge.religieux[_ngcontent-%COMP%]{background:#fce4ec;color:#c2185b}.category-badge.autre[_ngcontent-%COMP%]{background:#f5f5f5;color:#616161}.category-badge.romaine[_ngcontent-%COMP%]{background:#ffe0b2;color:#e65100}.category-badge.historique[_ngcontent-%COMP%]{background:#fff9c4;color:#f57f17}.category-badge.immateriel[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.category-badge.naturel[_ngcontent-%COMP%]{background:#c8e6c9;color:#2e7d32}.category-badge.culturelle[_ngcontent-%COMP%]{background:#b2ebf2;color:#00838f}.price-badge[_ngcontent-%COMP%]{font-weight:600;color:#333}.price-badge.free[_ngcontent-%COMP%]{color:#388e3c}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:5px;padding:5px 12px;border-radius:20px;font-size:12px;font-weight:500}.status-badge.classified[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ffb800);color:#333}.status-badge.standard[_ngcontent-%COMP%]{background:#e9ecef;color:#666}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;text-decoration:none}.btn-monuments[_ngcontent-%COMP%]{background:#e8eaf6;color:#5e35b1}.btn-monuments[_ngcontent-%COMP%]:hover{background:#5e35b1;color:#fff}.btn-edit[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.btn-edit[_ngcontent-%COMP%]:hover{background:#f57c00;color:#fff}.btn-delete[_ngcontent-%COMP%]{background:#ffebee;color:#e53935}.btn-delete[_ngcontent-%COMP%]:hover{background:#e53935;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin-bottom:20px}.empty-state-small[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background:#f8f9fa;border-radius:10px;margin-top:20px}.empty-state-small[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px;color:#ccc;margin-bottom:15px}.empty-state-small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:9999;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease;overflow-y:auto}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:100%;max-width:700px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 40px #0003;position:relative;z-index:10000;margin:auto}.modal-content.modal-large[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;border-bottom:1px solid #eee;background:linear-gradient(135deg,#667eea,#764ba2);flex-shrink:0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:18px;display:flex;align-items:center;gap:10px}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);background:transparent;border:none;cursor:pointer;opacity:.8;transition:opacity .3s ease}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{padding:25px;overflow-y:auto;flex:1}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px 25px;border-top:1px solid #eee;background:#f8f9fa;flex-shrink:0}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 30px;font-weight:600;border-radius:10px;transition:all .3s ease;cursor:pointer;border:1px solid transparent;display:inline-flex;align-items:center;gap:5px}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea66}.modal-footer[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{background:#fff;border-color:#6c757d;color:#6c757d}.modal-footer[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px;margin-bottom:5px;display:block}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;border:1px solid #ddd;transition:all .3s ease;width:100%;font-size:14px}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;outline:none}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{margin-left:-10px;margin-right:-10px}.row[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-size:12px}.monuments-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.monuments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.monument-card[_ngcontent-%COMP%]{display:flex;gap:15px;padding:15px;background:#f8f9fa;border-radius:12px;transition:all .3s ease;border:2px solid transparent}.monument-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 15px #667eea1a}.monument-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:10px;overflow:hidden;flex-shrink:0;border:2px solid #ddd}.monument-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.monument-info[_ngcontent-%COMP%]{flex:1}.monument-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 8px}.monument-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#666;margin:0 0 10px}.monument-meta[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;font-size:12px;color:#888}.monument-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.unesco-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ffb800);color:#333;padding:3px 10px;border-radius:12px;font-weight:600}.monument-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;justify-content:center}@media (max-width: 768px){.crud-container[_ngcontent-%COMP%]{padding:15px}.crud-card[_ngcontent-%COMP%]{padding:25px 20px}.crud-header[_ngcontent-%COMP%]{text-align:left}.stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-filter-row[_ngcontent-%COMP%]{flex-direction:column}.search-filter-row[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{min-width:100%}.filter-select[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.site-image[_ngcontent-%COMP%]{display:none}.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-content[_ngcontent-%COMP%]{max-height:95vh;max-width:100%}.modal-content.modal-large[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:20px 15px}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;padding:15px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.category-badge[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}.monument-card[_ngcontent-%COMP%]{flex-direction:column}.monument-image[_ngcontent-%COMP%]{width:100%;height:150px}.monument-actions[_ngcontent-%COMP%]{flex-direction:row}}"]})};function kj(e,n){if(e&1){let t=Se();u(0,"div",60)(1,"img",61),N("error",function(i){I(t);let o=w();return T(o.onImageError(i))}),d()()}if(e&2){let t=w();h(),A("src",t.formData.photo,it)}}var ac=class e{constructor(n,t,r){this.patrimoineService=n;this.router=t;this.route=r}editingId;formData={nom:"",localisation:"",photo:"",dateConstruction:"",estClasse:!1,prixEntree:0,description:"",categorie:"Autre",horaires:"",visitesGuideesDisponibles:!1,lieuxProches:"",latitude:0,longitude:0};ngOnInit(){let n=this.route.snapshot.paramMap.get("id");n&&(this.editingId=n,this.loadSite(n))}loadSite(n){this.patrimoineService.getById(n).subscribe({next:t=>{this.formData={nom:t.nom||"",localisation:t.localisation||"",photo:t.photoCarousel?.[0]||"",dateConstruction:t.dateConstruction?t.dateConstruction.split("T")[0]:"",estClasse:t.estClasse||!1,prixEntree:t.prixEntree||0,description:t.description||"",categorie:t.categories?.[0]||"Autre",horaires:(t.horaires||[]).join(", "),visitesGuideesDisponibles:t.visitesGuideesDisponibles||!1,lieuxProches:(t.lieuxProches||[]).map(r=>`${r.nom}|${r.type}|${r.distanceKm||0}`).join("; "),latitude:t.latitude||0,longitude:t.longitude||0}},error:t=>{alert("Error loading site: "+t.message),this.router.navigate(["/admin/site-crud"])}})}save(){return!this.formData.nom||!this.formData.localisation?(alert("Name and Location are required!"),!1):(alert("Save functionality to be implemented"),this.router.navigate(["/admin/site-crud"]),!0)}cancel(){this.router.navigate(["/admin/site-crud"])}onImageError(n){let t=n.target;t.src="assets/images/default.jpg"}static \u0275fac=function(t){return new(t||e)(H(Mt),H(Ke),H(Ut))};static \u0275cmp=ge({type:e,selectors:[["app-site-edit"]],decls:138,vars:17,consts:[[1,"edit-container"],[1,"edit-card"],[1,"edit-header"],[1,"header-icon"],[1,"bi","bi-geo-alt-fill"],[1,"text-muted"],[1,"edit-form",3,"submit"],[1,"section-title"],[1,"bi","bi-info-circle"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-building"],["type","text","name","nom","placeholder","Enter site name","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"bi","bi-pin-map"],["type","text","name","localisation","placeholder","Enter location","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"bi","bi-tag"],["name","categorie",1,"form-select",3,"ngModelChange","ngModel"],["value","M\xE9dina"],["value","Monument"],["value","Mus\xE9e"],["value","Site Arch\xE9ologique"],["value","Religieux"],["value","Autre"],[1,"bi","bi-currency-dollar"],["type","number","name","prixEntree","placeholder","0","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],["name","description","rows","3","placeholder","Enter site description...",1,"form-control",3,"ngModelChange","ngModel"],[1,"bi","bi-image"],[1,"bi","bi-link-45deg"],["type","text","name","photo","placeholder","assets/images/site.jpg",1,"form-control",3,"ngModelChange","ngModel"],["class","image-preview",4,"ngIf"],[1,"bi","bi-calendar-event"],[1,"bi","bi-calendar"],["type","date","name","dateConstruction",1,"form-control",3,"ngModelChange","ngModel"],[1,"bi","bi-clock"],["type","text","name","horaires","placeholder","9:00-17:00, Lun-Ferm\xE9",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-check","form-switch"],["type","checkbox","name","estClasse","id","estClasse",1,"form-check-input",3,"ngModelChange","ngModel"],["for","estClasse",1,"form-check-label"],[1,"bi","bi-award"],["type","checkbox","name","visitesGuideesDisponibles","id","visitesGuidees",1,"form-check-input",3,"ngModelChange","ngModel"],["for","visitesGuidees",1,"form-check-label"],[1,"bi","bi-person-badge"],[1,"bi","bi-geo"],[1,"bi","bi-globe"],["type","number","step","0.0001","name","latitude","placeholder","36.8065",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.0001","name","longitude","placeholder","10.1815",1,"form-control",3,"ngModelChange","ngModel"],[1,"bi","bi-signpost-2"],[1,"bi","bi-pin-angle"],["type","text","name","lieuxProches","placeholder","Mosqu\xE9e Zitouna|Religieux|0.1; Souk|Commercial|0.2",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-lg","me-2"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-check-lg","me-2"],[1,"image-preview"],["alt","Preview",3,"error","src"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),E(4,"i",4),d(),u(5,"h2"),m(6),d(),u(7,"p",5),m(8),d()(),u(9,"form",6),N("submit",function(o){return r.save(),o.preventDefault()}),u(10,"div",7),E(11,"i",8),m(12," Basic Information "),d(),u(13,"div",9)(14,"div",10)(15,"label",11),m(16,"Site Name *"),d(),u(17,"div",12)(18,"span",13),E(19,"i",14),d(),u(20,"input",15),z("ngModelChange",function(o){return q(r.formData.nom,o)||(r.formData.nom=o),o}),d()()(),u(21,"div",10)(22,"label",11),m(23,"Location *"),d(),u(24,"div",12)(25,"span",13),E(26,"i",16),d(),u(27,"input",17),z("ngModelChange",function(o){return q(r.formData.localisation,o)||(r.formData.localisation=o),o}),d()()()(),u(28,"div",9)(29,"div",10)(30,"label",11),m(31,"Category"),d(),u(32,"div",12)(33,"span",13),E(34,"i",18),d(),u(35,"select",19),z("ngModelChange",function(o){return q(r.formData.categorie,o)||(r.formData.categorie=o),o}),u(36,"option",20),m(37,"M\xE9dina"),d(),u(38,"option",21),m(39,"Monument"),d(),u(40,"option",22),m(41,"Mus\xE9e"),d(),u(42,"option",23),m(43,"Site Arch\xE9ologique"),d(),u(44,"option",24),m(45,"Religieux"),d(),u(46,"option",25),m(47,"Autre"),d()()()(),u(48,"div",10)(49,"label",11),m(50,"Entry Price (DT)"),d(),u(51,"div",12)(52,"span",13),E(53,"i",26),d(),u(54,"input",27),z("ngModelChange",function(o){return q(r.formData.prixEntree,o)||(r.formData.prixEntree=o),o}),d()()()(),u(55,"div",28)(56,"label",11),m(57,"Description"),d(),u(58,"textarea",29),z("ngModelChange",function(o){return q(r.formData.description,o)||(r.formData.description=o),o}),d()(),u(59,"div",7),E(60,"i",30),m(61," Media "),d(),u(62,"div",28)(63,"label",11),m(64,"Photo URL"),d(),u(65,"div",12)(66,"span",13),E(67,"i",31),d(),u(68,"input",32),z("ngModelChange",function(o){return q(r.formData.photo,o)||(r.formData.photo=o),o}),d()(),xd(69,kj,2,1,"div",33),d(),u(70,"div",7),E(71,"i",34),m(72," Details "),d(),u(73,"div",9)(74,"div",10)(75,"label",11),m(76,"Construction Date"),d(),u(77,"div",12)(78,"span",13),E(79,"i",35),d(),u(80,"input",36),z("ngModelChange",function(o){return q(r.formData.dateConstruction,o)||(r.formData.dateConstruction=o),o}),d()()(),u(81,"div",10)(82,"label",11),m(83,"Opening Hours"),d(),u(84,"div",12)(85,"span",13),E(86,"i",37),d(),u(87,"input",38),z("ngModelChange",function(o){return q(r.formData.horaires,o)||(r.formData.horaires=o),o}),d()()()(),u(88,"div",39)(89,"div",40)(90,"div",41)(91,"input",42),z("ngModelChange",function(o){return q(r.formData.estClasse,o)||(r.formData.estClasse=o),o}),d(),u(92,"label",43),E(93,"i",44),m(94," UNESCO Classified "),d()()(),u(95,"div",40)(96,"div",41)(97,"input",45),z("ngModelChange",function(o){return q(r.formData.visitesGuideesDisponibles,o)||(r.formData.visitesGuideesDisponibles=o),o}),d(),u(98,"label",46),E(99,"i",47),m(100," Guided Tours Available "),d()()()(),u(101,"div",7),E(102,"i",48),m(103," Coordinates "),d(),u(104,"div",9)(105,"div",10)(106,"label",11),m(107,"Latitude"),d(),u(108,"div",12)(109,"span",13),E(110,"i",49),d(),u(111,"input",50),z("ngModelChange",function(o){return q(r.formData.latitude,o)||(r.formData.latitude=o),o}),d()()(),u(112,"div",10)(113,"label",11),m(114,"Longitude"),d(),u(115,"div",12)(116,"span",13),E(117,"i",49),d(),u(118,"input",51),z("ngModelChange",function(o){return q(r.formData.longitude,o)||(r.formData.longitude=o),o}),d()()()(),u(119,"div",7),E(120,"i",52),m(121," Nearby Places "),d(),u(122,"div",28)(123,"label",11),m(124,"Nearby Places"),d(),u(125,"div",12)(126,"span",13),E(127,"i",53),d(),u(128,"input",54),z("ngModelChange",function(o){return q(r.formData.lieuxProches,o)||(r.formData.lieuxProches=o),o}),d()(),u(129,"small",5),m(130,"Format: name|type|distance(km); separate multiple with semicolons"),d()(),u(131,"div",55)(132,"button",56),N("click",function(){return r.cancel()}),E(133,"i",57),m(134,"Cancel "),d(),u(135,"button",58),E(136,"i",59),m(137),d()()()()()),t&2&&(h(6),L(r.editingId?"Edit Site":"Add New Site"),h(2),L(r.editingId?"Update site information":"Create a new heritage site"),h(12),$("ngModel",r.formData.nom),h(7),$("ngModel",r.formData.localisation),h(8),$("ngModel",r.formData.categorie),h(19),$("ngModel",r.formData.prixEntree),h(4),$("ngModel",r.formData.description),h(10),$("ngModel",r.formData.photo),h(),A("ngIf",r.formData.photo),h(11),$("ngModel",r.formData.dateConstruction),h(7),$("ngModel",r.formData.horaires),h(4),$("ngModel",r.formData.estClasse),h(6),$("ngModel",r.formData.visitesGuideesDisponibles),h(14),$("ngModel",r.formData.latitude),h(7),$("ngModel",r.formData.longitude),h(10),$("ngModel",r.formData.lieuxProches),h(9),G("",r.editingId?"Update Site":"Create Site"," "))},dependencies:[fn,Xn,Hr,$r,un,Xl,Ql,Jn,dn,Qn,On,Jl,Xt,Pn,Ze,k0],styles:[".edit-container[_ngcontent-%COMP%]{min-height:100vh;padding:30px 20px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.edit-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 40px #0000001a;padding:40px;max-width:900px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.edit-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:50px;color:#667eea;margin-bottom:10px}.edit-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:5px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#667eea;margin:25px 0 15px;padding-bottom:8px;border-bottom:2px solid #eee}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.edit-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px;margin-bottom:5px}.edit-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ced4da;border-right:none;color:#667eea}.edit-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-left:none;padding:10px 15px;font-size:14px;transition:all .3s ease}.edit-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#667eea}.edit-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:#667eea;color:#764ba2}.edit-form[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border-left:1px solid #ced4da}.edit-form[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{font-size:14px;color:#555}.form-check-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#667eea}.image-preview[_ngcontent-%COMP%]{margin-top:10px;border-radius:10px;overflow:hidden;max-width:300px;border:2px solid #eee}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #eee}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 30px;font-weight:600;border-radius:10px;transition:all .3s ease}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea66}.form-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa}@media (max-width: 768px){.edit-card[_ngcontent-%COMP%]{padding:25px 20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})};var Fj=(e,n)=>n.id,Lj=(e,n)=>n.comment.id;function Vj(e,n){if(e&1&&(u(0,"option",24),m(1),d()),e&2){let t=n.$implicit,r=w();A("value",t.id),h(),Pi(" ",t.nom," (",r.getCommentsCountForSite(t.id)," comments) ")}}function jj(e,n){if(e&1&&(u(0,"div",32),E(1,"i",33),u(2,"h4"),m(3,"No comments found"),d(),u(4,"p"),m(5),d()()),e&2){let t=w();h(5),L(t.selectedSiteId||t.selectedStatus?"Try adjusting your filters":"No comments have been submitted yet")}}function Bj(e,n){if(e&1&&(u(0,"span",44),E(1,"i",50),m(2),d()),e&2){let t=w().$implicit;h(2),G(" ",t.comment.note,"/5 ")}}function Uj(e,n){if(e&1){let t=Se();u(0,"button",51),N("click",function(){I(t);let i=w().$implicit,o=w(2);return T(o.approve(i))}),E(1,"i",52),m(2," Approve "),d()}}function Hj(e,n){if(e&1){let t=Se();u(0,"button",53),N("click",function(){I(t);let i=w().$implicit,o=w(2);return T(o.reject(i))}),E(1,"i",54),m(2," Reject "),d()}}function $j(e,n){if(e&1){let t=Se();u(0,"div",34)(1,"div",35)(2,"div",36),E(3,"i",37),u(4,"h5"),m(5),d()(),u(6,"span"),m(7),d()(),u(8,"div",38)(9,"div",39),E(10,"i",40),u(11,"strong"),m(12),d()(),u(13,"p",41),m(14),d(),u(15,"div",42)(16,"span"),E(17,"i",43),m(18),Sn(19,"date"),d(),P(20,Bj,3,1,"span",44),d()(),u(21,"div",45),P(22,Uj,3,0,"button",46),P(23,Hj,3,0,"button",47),u(24,"button",48),N("click",function(){let i=I(t).$implicit,o=w(2);return T(o.delete(i))}),E(25,"i",49),m(26," Delete "),d()()()}if(e&2){let t=n.$implicit,r=w(2);h(5),L(t.siteName),h(),To("badge "+r.getStatusClass(t.comment.etat)),h(),G(" ",r.getStatusBadge(t.comment.etat)," "),h(5),L(t.comment.nom),h(2),L(t.comment.message),h(4),G(" ",Ao(19,10,t.comment.date,"medium")),h(2),O(t.comment.note?20:-1),h(2),O(t.comment.etat!=="approuv\xE9"?22:-1),h(),O(t.comment.etat!=="rejet\xE9"?23:-1)}}function zj(e,n){if(e&1&&ve(0,$j,27,13,"div",34,Lj),e&2){let t=w();ye(t.filteredComments())}}var cp=class e{constructor(n){this.patrimoineService=n}allComments=[];sites=[];selectedSiteId="";selectedStatus="";ngOnInit(){this.loadComments()}loadComments(){this.patrimoineService.loadAll();let n=this.patrimoineService.patrimoines();if(n.length>0)this.sites=n,this.collectComments();else{let t=setInterval(()=>{let r=this.patrimoineService.patrimoines();r.length>0&&(clearInterval(t),this.sites=r,this.collectComments())},100);setTimeout(()=>{clearInterval(t);let r=this.patrimoineService.patrimoines();this.sites=r,this.collectComments()},5e3)}}collectComments(){this.allComments=[],this.sites.forEach(n=>{(n.comments||[]).forEach(t=>{this.allComments.push({comment:t,siteId:n.id,siteName:n.nom})}),(n.monuments||[]).forEach(t=>{(t.comments||[]).forEach(r=>{this.allComments.push({comment:r,siteId:n.id,siteName:`${n.nom} - ${t.nom}`})})})})}filteredComments(){return this.allComments.filter(n=>{let t=!this.selectedSiteId||n.siteId===this.selectedSiteId,r=!this.selectedStatus;return this.selectedStatus&&(r=n.comment.etat===this.selectedStatus),t&&r})}getTotalComments(){return this.allComments.length}getApprovedCount(){return this.allComments.filter(n=>n.comment.etat==="approuv\xE9").length}getRejectedCount(){return this.allComments.filter(n=>n.comment.etat==="rejet\xE9").length}getPendingCount(){return this.allComments.filter(n=>n.comment.etat==="en attente").length}getCommentsCountForSite(n){return this.allComments.filter(t=>t.siteId===n).length}approve(n){n.comment.etat="approuv\xE9",this.updateCommentInDb(n)}reject(n){n.comment.etat="rejet\xE9",this.updateCommentInDb(n)}delete(n){if(!confirm("Supprimer ce commentaire ?"))return;let t=this.sites.find(i=>i.id===n.siteId);if(!t){console.error("Site not found");return}let r=t.comments.findIndex(i=>i.id===n.comment.id);if(r!==-1){t.comments.splice(r,1),this.updateSiteInDb(t);return}for(let i of t.monuments||[]){let o=i.comments.findIndex(s=>s.id===n.comment.id);if(o!==-1){i.comments.splice(o,1),this.updateSiteInDb(t);return}}}updateCommentInDb(n){let t=this.sites.find(i=>i.id===n.siteId);if(!t){console.error("Site not found");return}let r=t.comments.find(i=>i.id===n.comment.id);if(r){r.etat=n.comment.etat,this.updateSiteInDb(t);return}for(let i of t.monuments||[]){let o=i.comments.find(s=>s.id===n.comment.id);if(o){o.etat=n.comment.etat,this.updateSiteInDb(t);return}}}updateSiteInDb(n){this.patrimoineService.updatePatrimoine(n.id,n).subscribe({next:()=>{this.loadComments()},error:t=>{console.error("Error updating site:",t),alert("Erreur lors de la mise \xE0 jour du commentaire"),this.loadComments()}})}getStatusBadge(n){switch(n){case"approuv\xE9":return"Approved";case"rejet\xE9":return"Rejected";case"en attente":return"en attente";default:return"Unknown"}}getStatusClass(n){switch(n){case"approuv\xE9":return"badge-success";case"rejet\xE9":return"badge-danger";case"en attente":return"badge-warning";default:return"badge-secondary"}}static \u0275fac=function(t){return new(t||e)(H(Mt))};static \u0275cmp=ge({type:e,selectors:[["app-comments-moderation"]],decls:78,vars:9,consts:[[1,"moderation-container"],[1,"moderation-header"],[1,"bi","bi-chat-square-text"],[1,"text-muted"],[1,"stats-row"],[1,"stat-card"],[1,"stat-icon","bg-primary"],[1,"bi","bi-chat-dots"],[1,"stat-info"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon","bg-success"],[1,"bi","bi-check-circle"],[1,"stat-icon","bg-danger"],[1,"bi","bi-x-circle"],[1,"stat-icon","bg-warning"],[1,"bi","bi-hourglass-split"],[1,"filters-section"],[1,"filters-row"],[1,"filter-group"],[1,"filter-label"],[1,"bi","bi-funnel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"bi","bi-filter-circle"],["value","approuv\xE9"],["value","rejet\xE9"],["value","en attente"],[1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-arrow-counterclockwise"],[1,"filter-results"],[1,"empty-state"],[1,"bi","bi-inbox"],[1,"comment-card"],[1,"comment-header"],[1,"comment-site-info"],[1,"bi","bi-geo-alt-fill"],[1,"comment-content"],[1,"comment-author"],[1,"bi","bi-person-circle"],[1,"comment-message"],[1,"comment-meta"],[1,"bi","bi-calendar3"],[1,"comment-rating"],[1,"comment-actions"],[1,"btn","btn-sm","btn-success"],[1,"btn","btn-sm","btn-warning"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"bi","bi-star-fill"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-check-lg"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"bi","bi-x-lg"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"h2"),E(3,"i",2),m(4," Comments Moderation"),d(),u(5,"p",3),m(6,"Manage and moderate user comments"),d()(),u(7,"div",4)(8,"div",5)(9,"div",6),E(10,"i",7),d(),u(11,"div",8)(12,"span",9),m(13),d(),u(14,"span",10),m(15,"Total Comments"),d()()(),u(16,"div",5)(17,"div",11),E(18,"i",12),d(),u(19,"div",8)(20,"span",9),m(21),d(),u(22,"span",10),m(23,"Approved"),d()()(),u(24,"div",5)(25,"div",13),E(26,"i",14),d(),u(27,"div",8)(28,"span",9),m(29),d(),u(30,"span",10),m(31,"Rejected"),d()()(),u(32,"div",5)(33,"div",15),E(34,"i",16),d(),u(35,"div",8)(36,"span",9),m(37),d(),u(38,"span",10),m(39,"Pending"),d()()()(),u(40,"div",17)(41,"div",18)(42,"div",19)(43,"label",20),E(44,"i",21),m(45," Filter by Site "),d(),u(46,"select",22),z("ngModelChange",function(o){return q(r.selectedSiteId,o)||(r.selectedSiteId=o),o}),u(47,"option",23),m(48,"All Sites"),d(),ve(49,Vj,2,3,"option",24,Fj),d()(),u(51,"div",19)(52,"label",20),E(53,"i",25),m(54," Filter by Status "),d(),u(55,"select",22),z("ngModelChange",function(o){return q(r.selectedStatus,o)||(r.selectedStatus=o),o}),u(56,"option",23),m(57,"All Status"),d(),u(58,"option",26),m(59,"\u2713 Approved"),d(),u(60,"option",27),m(61,"\u2717 Rejected"),d(),u(62,"option",28),m(63,"\u23F3 Pending"),d()()(),u(64,"div",19)(65,"button",29),N("click",function(){return r.selectedSiteId="",r.selectedStatus=""}),E(66,"i",30),m(67," Reset Filters "),d()()(),u(68,"div",31),m(69," Showing "),u(70,"strong"),m(71),d(),m(72," of "),u(73,"strong"),m(74),d(),m(75," comments "),d()(),P(76,jj,6,1,"div",32)(77,zj,2,0),d()),t&2&&(h(13),L(r.getTotalComments()),h(8),L(r.getApprovedCount()),h(8),L(r.getRejectedCount()),h(8),L(r.getPendingCount()),h(9),$("ngModel",r.selectedSiteId),h(3),ye(r.sites),h(6),$("ngModel",r.selectedStatus),h(16),L(r.filteredComments().length),h(3),L(r.getTotalComments()),h(2),O(r.filteredComments().length===0?76:77))},dependencies:[Ze,fn,Hr,$r,Jn,dn,Xt,L0],styles:[".moderation-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.moderation-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.moderation-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:5px}.moderation-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;margin-right:10px}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:20px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 10px #00000014;transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff}.stat-icon.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-icon.bg-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d)}.stat-icon.bg-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eb3349,#f45c43)}.stat-icon.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-number[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.stat-label[_ngcontent-%COMP%]{font-size:13px;color:#888}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:20px;margin-bottom:25px;box-shadow:0 2px 10px #00000014}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:15px}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px;margin-bottom:8px}.filter-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;margin-right:5px}.form-select[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;border:1px solid #ddd;font-size:14px;transition:all .3s ease}.form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.btn-outline-secondary[_ngcontent-%COMP%]{margin-top:28px;padding:10px 20px;border-radius:8px;font-weight:600;transition:all .3s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:translateY(-2px)}.filter-results[_ngcontent-%COMP%]{text-align:center;padding:10px;background:#f8f9fa;border-radius:8px;font-size:14px;color:#555}.comment-card[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:20px;border-radius:15px;border-left:4px solid #667eea;box-shadow:0 2px 10px #00000014;transition:transform .3s ease}.comment-card[_ngcontent-%COMP%]:hover{transform:translate(5px)}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:12px;border-bottom:1px solid #eee}.comment-site-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.comment-site-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;font-size:18px}.comment-site-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.badge[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px;font-weight:600;border-radius:20px}.badge-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.comment-content[_ngcontent-%COMP%]{margin-bottom:15px}.comment-author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:14px;color:#555}.comment-author[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;font-size:18px}.comment-message[_ngcontent-%COMP%]{margin:10px 0;line-height:1.6;color:#333;font-size:15px}.comment-meta[_ngcontent-%COMP%]{display:flex;gap:20px;font-size:13px;color:#888;margin-top:10px}.comment-meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.comment-rating[_ngcontent-%COMP%]{color:#f39c12;font-weight:600}.comment-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;transform:translateY(-2px)}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e0a800;transform:translateY(-2px)}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;transform:translateY(-2px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:15px;box-shadow:0 2px 10px #00000014}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin-bottom:10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;font-size:15px}@media (max-width: 768px){.moderation-container[_ngcontent-%COMP%]{padding:15px}.filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.btn-outline-secondary[_ngcontent-%COMP%]{margin-top:0}.comment-actions[_ngcontent-%COMP%]{flex-direction:column}.comment-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})};var Gj=(e,n)=>({"alert-success":e,"alert-danger":n}),qj=(e,n)=>({"bi-check-circle-fill":e,"bi-exclamation-circle-fill":n}),Wj=(e,n)=>({"text-success":e,"text-muted":n}),Zj=(e,n)=>n.id;function Kj(e,n){if(e&1&&(u(0,"div",6),E(1,"i",15),m(2),d()),e&2){let t=w();A("ngClass",an(3,Gj,t.messageType==="success",t.messageType==="error")),h(),A("ngClass",an(6,qj,t.messageType==="success",t.messageType==="error")),h(),G(" ",t.message," ")}}function Yj(e,n){e&1&&(u(0,"small",20),E(1,"i",29),m(2," Passwords do not match "),d())}function Qj(e,n){if(e&1&&(u(0,"li",23),E(1,"i",15),m(2),d()),e&2){let t=n.$implicit;A("ngClass",an(3,Wj,t.met,!t.met)),h(),A("ngClass",t.met?"bi-check-circle-fill":"bi-circle"),h(),G(" ",t.text," ")}}function Xj(e,n){e&1&&(E(0,"span",30),m(1," Updating... "))}function Jj(e,n){e&1&&(E(0,"i",31),m(1," Update Password "))}var up=class e{constructor(n){this.auth=n}oldPassword="";newPassword="";confirmPassword="";message="";messageType="";isLoading=!1;showOldPassword=!1;showNewPassword=!1;showConfirmPassword=!1;hasNumber(n){return/\d/.test(n)}hasUppercase(n){return/[A-Z]/.test(n)}isPasswordValid(){return this.newPassword.length>=6&&this.hasNumber(this.newPassword)&&this.hasUppercase(this.newPassword)}getPasswordRequirements(){return[{id:"length",text:"At least 6 characters",met:this.newPassword.length>=6},{id:"number",text:"Contains a number",met:this.hasNumber(this.newPassword)},{id:"uppercase",text:"Contains an uppercase letter",met:this.hasUppercase(this.newPassword)}]}updatePassword(){if(!this.oldPassword||!this.newPassword||!this.confirmPassword){this.message="Please fill all fields",this.messageType="error";return}if(this.newPassword!==this.confirmPassword){this.message="New passwords do not match",this.messageType="error";return}if(!this.isPasswordValid()){this.message="Password does not meet requirements",this.messageType="error";return}let n=this.auth.getUser();if(!n){this.message="User not authenticated",this.messageType="error";return}this.isLoading=!0,this.message="",this.messageType="",this.auth.changePassword(n.id,this.oldPassword,this.newPassword).subscribe({next:()=>{this.isLoading=!1,this.message="Password updated successfully!",this.messageType="success",this.oldPassword="",this.newPassword="",this.confirmPassword="",setTimeout(()=>{this.message="",this.messageType=""},5e3)},error:t=>{this.isLoading=!1,this.message=t.error?.message||t.message||"Failed to update password",this.messageType="error"}})}static \u0275fac=function(t){return new(t||e)(H(pn))};static \u0275cmp=ge({type:e,selectors:[["app-change-password"]],decls:54,vars:13,consts:[[1,"password-container"],[1,"password-card"],[1,"password-header"],[1,"header-icon"],[1,"bi","bi-shield-lock"],[1,"text-muted"],[1,"alert",3,"ngClass"],[1,"password-form",3,"ngSubmit"],[1,"mb-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-key"],["name","oldPassword","placeholder","Enter your current password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi",3,"ngClass"],[1,"bi","bi-lock"],["name","newPassword","placeholder","Enter your new password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"bi","bi-lock-fill"],["name","confirmPassword","placeholder","Confirm your new password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"text-danger"],[1,"password-requirements","mb-4"],[1,"mb-2"],[3,"ngClass"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"password-footer"],[1,"text-muted","mb-0"],[1,"bi","bi-info-circle","me-1"],[1,"bi","bi-x-circle"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check2-circle","me-2"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),E(4,"i",4),d(),u(5,"h2"),m(6,"Change Password"),d(),u(7,"p",5),m(8,"Update your account security"),d()(),P(9,Kj,3,9,"div",6),u(10,"form",7),N("ngSubmit",function(){return r.updatePassword()}),u(11,"div",8)(12,"label",9),m(13,"Current Password"),d(),u(14,"div",10)(15,"span",11),E(16,"i",12),d(),u(17,"input",13),z("ngModelChange",function(o){return q(r.oldPassword,o)||(r.oldPassword=o),o}),d(),u(18,"button",14),N("click",function(){return r.showOldPassword=!r.showOldPassword}),E(19,"i",15),d()()(),u(20,"div",8)(21,"label",9),m(22,"New Password"),d(),u(23,"div",10)(24,"span",11),E(25,"i",16),d(),u(26,"input",17),z("ngModelChange",function(o){return q(r.newPassword,o)||(r.newPassword=o),o}),d(),u(27,"button",14),N("click",function(){return r.showNewPassword=!r.showNewPassword}),E(28,"i",15),d()()(),u(29,"div",8)(30,"label",9),m(31,"Confirm New Password"),d(),u(32,"div",10)(33,"span",11),E(34,"i",18),d(),u(35,"input",19),z("ngModelChange",function(o){return q(r.confirmPassword,o)||(r.confirmPassword=o),o}),d(),u(36,"button",14),N("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),E(37,"i",15),d()(),P(38,Yj,3,0,"small",20),d(),u(39,"div",21)(40,"p",22)(41,"strong"),m(42,"Password Requirements:"),d()(),u(43,"ul"),ve(44,Qj,3,6,"li",23,Zj),d()(),u(46,"div",24)(47,"button",25),P(48,Xj,2,0)(49,Jj,2,0),d()()(),u(50,"div",26)(51,"p",27),E(52,"i",28),m(53," Make sure to remember your new password "),d()()()()),t&2&&(h(9),O(r.message?9:-1),h(8),A("type",r.showOldPassword?"text":"password"),$("ngModel",r.oldPassword),h(2),A("ngClass",r.showOldPassword?"bi-eye-slash":"bi-eye"),h(7),A("type",r.showNewPassword?"text":"password"),$("ngModel",r.newPassword),h(2),A("ngClass",r.showNewPassword?"bi-eye-slash":"bi-eye"),h(7),A("type",r.showConfirmPassword?"text":"password"),$("ngModel",r.confirmPassword),h(2),A("ngClass",r.showConfirmPassword?"bi-eye-slash":"bi-eye"),h(),O(r.confirmPassword&&r.newPassword!==r.confirmPassword?38:-1),h(6),ye(r.getPasswordRequirements()),h(3),A("disabled",r.isLoading||!r.oldPassword||!r.newPassword||!r.confirmPassword),h(),O(r.isLoading?48:49))},dependencies:[fn,Xn,un,dn,Qn,On,Xt,Pn,Ze,Ro],styles:[".password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.password-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;padding:40px;width:100%;max-width:480px;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.password-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:60px;color:#667eea;margin-bottom:15px}.password-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:8px}.password-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px;border-radius:10px;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.password-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px}.password-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ced4da;border-right:none;color:#667eea}.password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none;border-right:none;padding:12px 15px;font-size:15px;transition:all .3s ease}.password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#667eea}.password-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:#667eea;color:#764ba2}.password-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:#667eea}.password-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-left:none;background:#f8f9fa;color:#667eea;transition:all .3s ease}.password-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#764ba2}.password-requirements[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px 20px;border-radius:10px}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#555}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;padding:5px 0;transition:color .3s ease}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;padding:14px;font-weight:600;font-size:16px;border-radius:10px;transition:all .3s ease}.password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #667eea66}.password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.password-footer[_ngcontent-%COMP%]{text-align:center;margin-top:25px;padding-top:20px;border-top:1px solid #eee}.password-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}@media (max-width: 480px){.password-card[_ngcontent-%COMP%]{padding:30px 25px}.header-icon[_ngcontent-%COMP%]{font-size:50px}.password-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}}"]})};var dp=class e{constructor(n,t){this.auth=n;this.router=t}logout(){confirm("\xCAtes-vous s\xFBr de vouloir vous d\xE9connecter ?")&&(this.auth.logout(),this.router.navigate(["/login"]))}static \u0275fac=function(t){return new(t||e)(H(pn),H(Ke))};static \u0275cmp=ge({type:e,selectors:[["app-admin-layout"]],decls:21,vars:0,consts:[[1,"layout"],[1,"sidebar"],["routerLink","/admin/dashboard"],[1,"bi","bi-speedometer2"],["routerLink","/admin/site-crud"],[1,"bi","bi-geo-alt"],["routerLink","/admin/comments-moderation"],[1,"bi","bi-chat-square-text"],["routerLink","/admin/change-password"],[1,"bi","bi-key"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"content"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"aside",1)(2,"h2"),m(3,"Admin Panel"),d(),u(4,"a",2),E(5,"i",3),m(6," Dashboard "),d(),u(7,"a",4),E(8,"i",5),m(9," Manage Sites "),d(),u(10,"a",6),E(11,"i",7),m(12," Comments "),d(),u(13,"a",8),E(14,"i",9),m(15," Change Password "),d(),u(16,"a",10),N("click",function(){return r.logout()}),E(17,"i",11),m(18," Logout "),d()(),u(19,"main",12),E(20,"router-outlet"),d()())},dependencies:[xt,$o],styles:[".layout[_ngcontent-%COMP%]{display:flex;height:100vh}.sidebar[_ngcontent-%COMP%]{width:240px;background-color:#2c3e50;padding:20px;color:#fff}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin:15px 0;color:#fff;text-decoration:none}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.content[_ngcontent-%COMP%]{flex:1;padding:20px}"]})};var fa=class e{constructor(n,t){this.auth=n;this.router=t}canActivate(){return this.auth.isAuthenticated()?!0:this.router.createUrlTree(["/login"])}static \u0275fac=function(t){return new(t||e)(B(pn),B(Ke))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var pa=class e{constructor(n,t){this.auth=n;this.router=t}canActivate(){let n=this.auth.getUser(),t=this.auth.isAdmin();return n&&t?!0:this.router.createUrlTree(["/login"])}static \u0275fac=function(t){return new(t||e)(B(pn),B(Ke))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var JM=[{path:"",redirectTo:"patrimoines",pathMatch:"full"},{path:"patrimoines",component:Uf},{path:"monuments",component:ip},{path:"patrimoines/:patrimoineId",component:tp},{path:"patrimoines/:patrimoineId/monuments/:monumentId",component:rp},{path:"favoris",component:op},{path:"login",component:sp},{path:"admin",component:dp,canActivate:[fa,pa],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:ap},{path:"site-crud",component:lp},{path:"site-edit",component:ac},{path:"site-edit/:id",component:ac},{path:"comments-moderation",component:cp},{path:"change-password",component:up}]},{path:"**",redirectTo:"patrimoines"}];function e1(e){return new x(3e3,!1)}function e4(){return new x(3100,!1)}function t4(){return new x(3101,!1)}function n4(e){return new x(3001,!1)}function r4(e){return new x(3003,!1)}function i4(e){return new x(3004,!1)}function n1(e,n){return new x(3005,!1)}function r1(){return new x(3006,!1)}function i1(){return new x(3007,!1)}function o1(e,n){return new x(3008,!1)}function s1(e){return new x(3002,!1)}function a1(e,n,t,r,i){return new x(3010,!1)}function l1(){return new x(3011,!1)}function c1(){return new x(3012,!1)}function u1(){return new x(3200,!1)}function d1(){return new x(3202,!1)}function f1(){return new x(3013,!1)}function p1(e){return new x(3014,!1)}function m1(e){return new x(3015,!1)}function h1(e){return new x(3016,!1)}function g1(e,n){return new x(3404,!1)}function o4(e){return new x(3502,!1)}function v1(e){return new x(3503,!1)}function y1(){return new x(3300,!1)}function _1(e){return new x(3504,!1)}function C1(e){return new x(3301,!1)}function b1(e,n){return new x(3302,!1)}function E1(e){return new x(3303,!1)}function w1(e,n){return new x(3400,!1)}function D1(e){return new x(3401,!1)}function x1(e){return new x(3402,!1)}function M1(e,n){return new x(3505,!1)}function pi(e){switch(e.length){case 0:return new Vr;case 1:return e[0];default:return new Go(e)}}function Xv(e,n,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(n.forEach(l=>{let c=l.get("offset"),f=c==s,p=f&&a||new Map;l.forEach((v,g)=>{let y=g,_=v;if(g!=="offset")switch(y=e.normalizePropertyName(y,i),_){case na:_=t.get(g);break;case Yn:_=r.get(g);break;default:_=e.normalizeStyleValue(g,y,_,i);break}p.set(y,_)}),f||o.push(p),a=p,s=c}),i.length)throw o4(i);return o}function fp(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&Kv(t,"start",e)));break;case"done":e.onDone(()=>r(t&&Kv(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&Kv(t,"destroy",e)));break}}function Kv(e,n,t){let r=t.totalTime,i=!!t.disabled,o=pp(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,r??e.totalTime,i),s=e._data;return s!=null&&(o._data=s),o}function pp(e,n,t,r,i="",o=0,s){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function mn(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function Jv(e){let n=e.indexOf(":"),t=e.substring(1,n),r=e.slice(n+1);return[t,r]}var s4=typeof document>"u"?null:document.documentElement;function mp(e){let n=e.parentNode||e.host||null;return n===s4?null:n}function a4(e){return e.substring(1,6)=="ebkit"}var Zo=null,t1=!1;function S1(e){Zo||(Zo=l4()||{},t1=Zo.style?"WebkitAppearance"in Zo.style:!1);let n=!0;return Zo.style&&!a4(e)&&(n=e in Zo.style,!n&&t1&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Zo.style)),n}function l4(){return typeof document<"u"?document.body:null}function ey(e,n){for(;n;){if(n===e)return!0;n=mp(n)}return!1}function ty(e,n,t){if(t)return Array.from(e.querySelectorAll(n));let r=e.querySelector(n);return r?[r]:[]}var c4=1e3,ny="{{",u4="}}",ry="ng-enter",hp="ng-leave",lc="ng-trigger",cc=".ng-trigger",iy="ng-animating",gp=".ng-animating";function Gr(e){if(typeof e=="number")return e;let n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Yv(parseFloat(n[1]),n[2])}function Yv(e,n){switch(n){case"s":return e*c4;default:return e}}function uc(e,n,t){return e.hasOwnProperty("duration")?e:f4(e,n,t)}var d4=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function f4(e,n,t){let r,i=0,o="";if(typeof e=="string"){let s=e.match(d4);if(s===null)return n.push(e1(e)),{duration:0,delay:0,easing:""};r=Yv(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=Yv(parseFloat(a),s[4]));let l=s[5];l&&(o=l)}else r=e;if(!t){let s=!1,a=n.length;r<0&&(n.push(e4()),s=!0),i<0&&(n.push(t4()),s=!0),s&&n.splice(a,0,e1(e))}return{duration:r,delay:i,easing:o}}function I1(e){return e.length?e[0]instanceof Map?e:e.map(n=>new Map(Object.entries(n))):[]}function hr(e,n,t){n.forEach((r,i)=>{let o=vp(i);t&&!t.has(i)&&t.set(i,e.style[o]),e.style[o]=r})}function Ui(e,n){n.forEach((t,r)=>{let i=vp(r);e.style[i]=""})}function ma(e){return Array.isArray(e)?e.length==1?e[0]:yM(e):e}function T1(e,n,t){let r=n.params||{},i=oy(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(n4(o))})}var Qv=new RegExp(`${ny}\\s*(.+?)\\s*${u4}`,"g");function oy(e){let n=[];if(typeof e=="string"){let t;for(;t=Qv.exec(e);)n.push(t[1]);Qv.lastIndex=0}return n}function ha(e,n,t){let r=`${e}`,i=r.replace(Qv,(o,s)=>{let a=n[s];return a==null&&(t.push(r4(s)),a=""),a.toString()});return i==r?e:i}var p4=/-+([a-z0-9])/g;function vp(e){return e.replace(p4,(...n)=>n[1].toUpperCase())}function P1(e,n){return e===0||n===0}function O1(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<n.length;o++){let s=n[o];i.forEach(a=>s.set(a,yp(e,a)))}}return n}function hn(e,n,t){switch(n.type){case ce.Trigger:return e.visitTrigger(n,t);case ce.State:return e.visitState(n,t);case ce.Transition:return e.visitTransition(n,t);case ce.Sequence:return e.visitSequence(n,t);case ce.Group:return e.visitGroup(n,t);case ce.Animate:return e.visitAnimate(n,t);case ce.Keyframes:return e.visitKeyframes(n,t);case ce.Style:return e.visitStyle(n,t);case ce.Reference:return e.visitReference(n,t);case ce.AnimateChild:return e.visitAnimateChild(n,t);case ce.AnimateRef:return e.visitAnimateRef(n,t);case ce.Query:return e.visitQuery(n,t);case ce.Stagger:return e.visitStagger(n,t);default:throw i4(n.type)}}function yp(e,n){return window.getComputedStyle(e)[n]}var Ey=(()=>{class e{validateStyleProperty(t){return S1(t)}containsElement(t,r){return ey(t,r)}getParentElement(t){return mp(t)}query(t,r,i){return ty(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Vr(i,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Yo=class{static NOOP=new Ey},Qo=class{};var m4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wp=class extends Qo{normalizePropertyName(n,t){return vp(n)}normalizeStyleValue(n,t,r,i){let o="",s=r.toString().trim();if(m4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(n1(n,r))}return s+o}};var Dp="*";function h4(e,n){let t=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(r=>g4(r,t,n)):t.push(e),t}function g4(e,n,t){if(e[0]==":"){let l=v4(e,t);if(typeof l=="function"){n.push(l);return}e=l}let r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(m1(e)),n;let i=r[1],o=r[2],s=r[3];n.push(A1(i,s));let a=i==Dp&&s==Dp;o[0]=="<"&&!a&&n.push(A1(s,i))}function v4(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(h1(e)),"* => *"}}var _p=new Set(["true","1"]),Cp=new Set(["false","0"]);function A1(e,n){let t=_p.has(e)||Cp.has(e),r=_p.has(n)||Cp.has(n);return(i,o)=>{let s=e==Dp||e==i,a=n==Dp||n==o;return!s&&t&&typeof i=="boolean"&&(s=i?_p.has(e):Cp.has(e)),!a&&r&&typeof o=="boolean"&&(a=o?_p.has(n):Cp.has(n)),s&&a}}var H1=":self",y4=new RegExp(`s*${H1}s*,?`,"g");function $1(e,n,t,r){return new dy(e).build(n,t,r)}var N1="",dy=class{_driver;constructor(n){this._driver=n}build(n,t,r){let i=new fy(t);return this._resetContextStyleTimingState(i),hn(this,ma(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector=N1,n.collectedStyles=new Map,n.collectedStyles.set(N1,new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return n.name.charAt(0)=="@"&&t.errors.push(r1()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ce.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==ce.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(i1())}),{type:ce.Trigger,name:n.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,t){let r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{oy(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(o1(n.name,[...o.values()]))}return{type:ce.State,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;let r=hn(this,ma(n.animation),t),i=h4(n.expr,t.errors);return{type:ce.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ko(n.options)}}visitSequence(n,t){return{type:ce.Sequence,steps:n.steps.map(r=>hn(this,r,t)),options:Ko(n.options)}}visitGroup(n,t){let r=t.currentTime,i=0,o=n.steps.map(s=>{t.currentTime=r;let a=hn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ce.Group,steps:o,options:Ko(n.options)}}visitAnimate(n,t){let r=E4(n.timings,t.errors);t.currentAnimateTimings=r;let i,o=n.styles?n.styles:St({});if(o.type==ce.Keyframes)i=this.visitKeyframes(o,t);else{let s=n.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=St(c)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:ce.Animate,timings:r,style:i,options:null}}visitStyle(n,t){let r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){let r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)typeof a=="string"?a===Yn?r.push(a):t.errors.push(s1(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(ny)>=0){o=!0;break}}}),{type:ce.Style,styles:r,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),f=c.get(l),p=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push(a1(l,f.startTime,f.endTime,o,i)),p=!1),o=f.startTime),p&&c.set(l,{startTime:o,endTime:i}),t.options&&T1(a,t.options,t.errors)})})}visitKeyframes(n,t){let r={type:ce.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(l1()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,f=n.steps.map(C=>{let M=this._makeStyleAst(C,t),R=M.offset!=null?M.offset:b4(M.styles),V=0;return R!=null&&(o++,V=M.offset=R),l=l||V<0||V>1,a=a||V<c,c=V,s.push(V),M});l&&t.errors.push(c1()),a&&t.errors.push(u1());let p=n.steps.length,v=0;o>0&&o<p?t.errors.push(d1()):o==0&&(v=i/(p-1));let g=p-1,y=t.currentTime,_=t.currentAnimateTimings,b=_.duration;return f.forEach((C,M)=>{let R=v>0?M==g?1:v*M:s[M],V=R*b;t.currentTime=y+_.delay+V,_.duration=V,this._validateStyleAst(C,t),C.offset=R,r.styles.push(C)}),r}visitReference(n,t){return{type:ce.Reference,animation:hn(this,ma(n.animation),t),options:Ko(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:ce.AnimateChild,options:Ko(n.options)}}visitAnimateRef(n,t){return{type:ce.AnimateRef,animation:this.visitReference(n.animation,t),options:Ko(n.options)}}visitQuery(n,t){let r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;let[o,s]=_4(n.selector);t.currentQuerySelector=r.length?r+" "+o:o,mn(t.collectedStyles,t.currentQuerySelector,new Map);let a=hn(this,ma(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ce.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Ko(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(f1());let r=n.timings==="full"?{duration:0,delay:0,easing:"full"}:uc(n.timings,t.errors,!0);return{type:ce.Stagger,animation:hn(this,ma(n.animation),t),timings:r,options:null}}};function _4(e){let n=!!e.split(/\s*,\s*/).find(t=>t==H1);return n&&(e=e.replace(y4,"")),e=e.replace(/@\*/g,cc).replace(/@\w+/g,t=>cc+"-"+t.slice(1)).replace(/:animating/g,gp),[e,n]}function C4(e){return e?S({},e):null}var fy=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}};function b4(e){if(typeof e=="string")return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}function E4(e,n){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let o=uc(e,n).duration;return sy(o,0,"")}let t=e;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sy(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=uc(t,n);return sy(i.duration,i.delay,i.easing)}function Ko(e){return e?(e=S({},e),e.params&&(e.params=C4(e.params))):e={},e}function sy(e,n,t){return{duration:e,delay:n,easing:t}}function wy(e,n,t,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var fc=class{_map=new Map;get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}},w4=1,D4=":enter",x4=new RegExp(D4,"g"),M4=":leave",S4=new RegExp(M4,"g");function z1(e,n,t,r,i,o=new Map,s=new Map,a,l,c=[]){return new py().buildKeyframes(e,n,t,r,i,o,s,a,l,c)}var py=class{buildKeyframes(n,t,r,i,o,s,a,l,c,f=[]){c=c||new fc;let p=new my(n,t,c,i,o,f,[]);p.options=l;let v=l.delay?Gr(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),hn(this,r,p);let g=p.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let _=g.length-1;_>=0;_--){let b=g[_];if(b.element===t){y=b;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,p.errors,l)}return g.length?g.map(y=>y.buildKeyframes()):[wy(t,[],[],[],0,v,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(n.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=n}visitAnimateRef(n,t){let r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(let i of n){let o=i?.delay;if(o){let s=typeof o=="number"?o:Gr(ha(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Gr(r.duration):null,a=r.delay!=null?Gr(r.delay):null;return s!==0&&n.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),hn(this,n.animation,t),t.previousNode=n}visitSequence(n,t){let r=t.subContextCount,i=t,o=n.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ce.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xp);let s=Gr(o.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>hn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){let r=[],i=t.currentTimeline.currentTime,o=n.options&&n.options.delay?Gr(n.options.delay):0;n.steps.forEach(s=>{let a=t.createSubContext(n.options);o&&a.delayNextStep(o),hn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){let r=n.strValue,i=t.params?ha(r,t.params,t.errors):r;return uc(i,t.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){let r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=n.style;o.type==ce.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=n}visitQuery(n,t){let r=t.currentTimeline.currentTime,i=n.options||{},o=i.delay?Gr(i.delay):0;o&&(t.previousNode.type===ce.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xp);let s=r,a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{t.currentQueryIndex=f;let p=t.createSubContext(n.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),hn(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe();let v=p.currentTimeline.currentTime;s=Math.max(s,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){let r=t.parentContext,i=t.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let f=t.currentTimeline;l&&f.delayNextStep(l);let p=f.currentTime;hn(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},xp={},my=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=xp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,t,r,i,o,s,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Mp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;let r=n,i=this.options;r.duration!=null&&(i.duration=Gr(r.duration)),r.delay!=null&&(i.delay=Gr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ha(o[a],s,this.errors))})}}_copyOptions(){let n={};if(this.options){let t=this.options.params;if(t){let r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){let i=t||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=xp,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){let i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new hy(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,o,s){let a=[];if(i&&a.push(this.element),n.length>0){n=n.replace(x4,"."+this._enterClassName),n=n.replace(S4,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,n,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(p1(t)),a}},Mp=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new e(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=w4,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Yn),this._currentKeyframe.set(t,Yn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=I4(n,this._globalTimelineStyles);for(let[a,l]of s){let c=ha(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Yn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,p)=>{f===na?n.add(p):f===Yn&&t.add(p)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...n.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return wy(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},hy=class extends Mp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,t,r,i,o,s,a=!1){super(n,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",R1(a)),o.push(c);let f=n.length-1;for(let p=1;p<=f;p++){let v=new Map(n[p]),g=v.get("offset"),y=t+g*r;v.set("offset",R1(y/s)),o.push(v)}r=s,t=0,i="",n=o}return wy(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function R1(e,n=3){let t=Math.pow(10,n-1);return Math.round(e*t)/t}function I4(e,n){let t=new Map,r;return e.forEach(i=>{if(i==="*"){r??=n.keys();for(let o of r)t.set(o,Yn)}else for(let[o,s]of i)t.set(o,s)}),t}function k1(e,n,t,r,i,o,s,a,l,c,f,p,v){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:p,errors:v}}var ay={},Sp=class{_triggerName;ast;_stateStyles;constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return T4(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return n!==void 0&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,o,s,a,l,c,f){let p=[],v=this.ast.options&&this.ast.options.params||ay,g=a&&a.params||ay,y=this.buildStyles(r,g,p),_=l&&l.params||ay,b=this.buildStyles(i,_,p),C=new Set,M=new Map,R=new Map,V=i==="void",se={params:G1(_,v),delay:this.ast.options?.delay},re=f?[]:z1(n,t,this.ast.animation,o,s,y,b,se,c,p),K=0;return re.forEach(te=>{K=Math.max(te.duration+te.delay,K)}),p.length?k1(t,this._triggerName,r,i,V,y,b,[],[],M,R,K,p):(re.forEach(te=>{let be=te.element,je=mn(M,be,new Set);te.preStyleProps.forEach(tt=>je.add(tt));let ke=mn(R,be,new Set);te.postStyleProps.forEach(tt=>ke.add(tt)),be!==t&&C.add(be)}),k1(t,this._triggerName,r,i,V,y,b,re,[...C.values()],M,R,K))}};function T4(e,n,t,r,i){return e.some(o=>o(n,t,r,i))}function G1(e,n){let t=S({},n);return Object.entries(e).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var gy=class{styles;defaultParams;normalizer;constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){let r=new Map,i=G1(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ha(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function P4(e,n,t){return new vy(e,n,t)}var vy=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new gy(i.style,o,r))}),F1(this.states,"true","1"),F1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Sp(n,i,this.states))}),this.fallbackTransition=O4(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(s=>s.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}};function O4(e,n,t){let r=[(s,a)=>!0],i={type:ce.Sequence,steps:[],options:null},o={type:ce.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Sp(e,o,n)}function F1(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}var A4=new fc,yy=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r}register(n,t){let r=[],i=[],o=$1(this._driver,t,r,i);if(r.length)throw v1(r);this._animations.set(n,o)}_buildPlayer(n,t,r){let i=n.element,o=Xv(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){let i=[],o=this._animations.get(n),s,a=new Map;if(o?(s=z1(this._driver,t,o,ry,hp,new Map,new Map,r,A4,i),s.forEach(f=>{let p=mn(a,f.element,new Map);f.postStyleProps.forEach(v=>p.set(v,null))})):(i.push(y1()),s=[]),i.length)throw _1(i);a.forEach((f,p)=>{f.forEach((v,g)=>{f.set(g,this._driver.computeStyle(p,g,Yn))})});let l=s.map(f=>{let p=a.get(f.element);return this._buildPlayer(f,new Map,p)}),c=pi(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){let t=this._playersById.get(n);if(!t)throw C1(n);return t}listen(n,t,r,i){let o=pp(t,"","","");return fp(this._getPlayer(n),r,o,i),()=>{}}command(n,t,r,i){if(r=="register"){this.register(n,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(n,t,s);return}let o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n);break}}},L1="ng-animate-queued",N4=".ng-animate-queued",ly="ng-animate-disabled",R4=".ng-animate-disabled",k4="ng-star-inserted",F4=".ng-star-inserted",L4=[],q1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed",pc=class{namespaceId;value;options;get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;let r=n&&n.hasOwnProperty("value"),i=r?n.value:n;if(this.value=B4(i),r){let o=n,{value:s}=o,a=vc(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let t=n.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},dc="void",cy=new pc(dc),_y=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+n,er(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw b1(r,t);if(r==null||r.length==0)throw E1(t);if(!U4(r))throw w1(r,t);let o=mn(this._elementListeners,n,[]),s={name:t,phase:r,callback:i};o.push(s);let a=mn(this._engine.statesByElement,n,new Map);return a.has(t)||(er(n,lc),er(n,lc+"-"+t),a.set(t,cy)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return this._triggers.has(n)?!1:(this._triggers.set(n,t),!0)}_getTrigger(n){let t=this._triggers.get(n);if(!t)throw D1(n);return t}trigger(n,t,r,i=!0){let o=this._getTrigger(t),s=new mc(this.id,t,n),a=this._engine.statesByElement.get(n);a||(er(n,lc),er(n,lc+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t),c=new pc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=cy),!(c.value===dc)&&l.value===c.value){if(!z4(l.params,c.params)){let _=[],b=o.matchStyles(l.value,l.params,_),C=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Ui(n,b),hr(n,C)})}return}let v=mn(this._engine.playersByElement,n,[]);v.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let g=o.matchTransition(l.value,c.value,n,c.params),y=!1;if(!g){if(!i)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(er(n,L1),s.onStart(()=>{ga(n,L1)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let b=this._engine.playersByElement.get(n);if(b){let C=b.indexOf(s);C>=0&&b.splice(C,1)}}),this.players.push(s),v.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){let r=this._engine.driver.query(n,cc,!0);r.forEach(i=>{if(i[gr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){let o=this._engine.statesByElement.get(n),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let f=this.trigger(n,c,dc,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,s),r&&pi(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||cy,f=new pc(dc),p=new mc(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(n,t){let r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{let o=n[gr];(!o||o===q1)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){er(n,this._hostClassName)}drainQueuedTransitions(n){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=pp(o,r.triggerName,r.fromState.value,r.toState.value);l._data=n,fp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},Cy=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,t)=>{};_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r}get queuedPlayers(){let n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){let r=new _y(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let t=new Set,r=this.statesByElement.get(n);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(n,t,r,i){if(bp(t)){let o=this._fetchNamespace(n);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!bp(t))return;let o=t[gr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){let s=this._fetchNamespace(n);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),er(n,ly)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ga(n,ly))}removeNode(n,t,r){if(bp(t)){let i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,o){this.collectedLeaveElements.push(t),t[gr]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,r,i,o){return bp(t)?this._fetchNamespace(n).listen(t,r,i,o):()=>{}}_buildInstruction(n,t,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,cc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(n,gp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){let t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){let t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return pi(this.players).onDone(()=>n());n()})}processLeaveNode(n){let t=n[gr];if(t&&t.setForRemoval){if(n[gr]=q1,t.namespaceId){this.destroyInnerAnimations(n);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(ly)&&this.markElementAsDisabled(n,!1),this.driver.query(n,R4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];er(i,k4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?pi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw x1(n)}_flushAnimations(n,t){let r=new fc,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(j=>{f.add(j);let W=this.driver.query(j,N4,!0);for(let X=0;X<W.length;X++)f.add(W[X])});let p=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=B1(v,this.collectedEnterElements),y=new Map,_=0;g.forEach((j,W)=>{let X=ry+_++;y.set(W,X),j.forEach(fe=>er(fe,X))});let b=[],C=new Set,M=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){let W=this.collectedLeaveElements[j],X=W[gr];X&&X.setForRemoval&&(b.push(W),C.add(W),X.hasAnimation?this.driver.query(W,F4,!0).forEach(fe=>C.add(fe)):M.add(W))}let R=new Map,V=B1(v,Array.from(C));V.forEach((j,W)=>{let X=hp+_++;R.set(W,X),j.forEach(fe=>er(fe,X))}),n.push(()=>{g.forEach((j,W)=>{let X=y.get(W);j.forEach(fe=>ga(fe,X))}),V.forEach((j,W)=>{let X=R.get(W);j.forEach(fe=>ga(fe,X))}),b.forEach(j=>{this.processLeaveNode(j)})});let se=[],re=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(X=>{let fe=X.player,We=X.element;if(se.push(fe),this.collectedEnterElements.length){let Ne=We[gr];if(Ne&&Ne.setForMove){if(Ne.previousTriggersValues&&Ne.previousTriggersValues.has(X.triggerName)){let Ye=Ne.previousTriggersValues.get(X.triggerName),nt=this.statesByElement.get(X.element);if(nt&&nt.has(X.triggerName)){let It=nt.get(X.triggerName);It.value=Ye,nt.set(X.triggerName,It)}}fe.destroy();return}}let lt=!p||!this.driver.containsElement(p,We),pt=R.get(We),Ht=y.get(We),xe=this._buildInstruction(X,r,Ht,pt,lt);if(xe.errors&&xe.errors.length){re.push(xe);return}if(lt){fe.onStart(()=>Ui(We,xe.fromStyles)),fe.onDestroy(()=>hr(We,xe.toStyles)),i.push(fe);return}if(X.isFallbackTransition){fe.onStart(()=>Ui(We,xe.fromStyles)),fe.onDestroy(()=>hr(We,xe.toStyles)),i.push(fe);return}let mi=[];xe.timelines.forEach(Ne=>{Ne.stretchStartingKeyframe=!0,this.disabledNodes.has(Ne.element)||mi.push(Ne)}),xe.timelines=mi,r.append(We,xe.timelines);let Hi={instruction:xe,player:fe,element:We};s.push(Hi),xe.queriedElements.forEach(Ne=>mn(a,Ne,[]).push(fe)),xe.preStyleProps.forEach((Ne,Ye)=>{if(Ne.size){let nt=l.get(Ye);nt||l.set(Ye,nt=new Set),Ne.forEach((It,Be)=>nt.add(Be))}}),xe.postStyleProps.forEach((Ne,Ye)=>{let nt=c.get(Ye);nt||c.set(Ye,nt=new Set),Ne.forEach((It,Be)=>nt.add(Be))})});if(re.length){let j=[];re.forEach(W=>{j.push(M1(W.triggerName,W.errors))}),se.forEach(W=>W.destroy()),this.reportError(j)}let K=new Map,te=new Map;s.forEach(j=>{let W=j.element;r.has(W)&&(te.set(W,W),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,K))}),i.forEach(j=>{let W=j.element;this._getPreviousPlayers(W,!1,j.namespaceId,j.triggerName,null).forEach(fe=>{mn(K,W,[]).push(fe),fe.destroy()})});let be=b.filter(j=>U1(j,l,c)),je=new Map;j1(je,this.driver,M,c,Yn).forEach(j=>{U1(j,l,c)&&be.push(j)});let tt=new Map;g.forEach((j,W)=>{j1(tt,this.driver,new Set(j),l,na)}),be.forEach(j=>{let W=je.get(j),X=tt.get(j);je.set(j,new Map([...W?.entries()??[],...X?.entries()??[]]))});let Jt=[],gn=[],vn={};s.forEach(j=>{let{element:W,player:X,instruction:fe}=j;if(r.has(W)){if(f.has(W)){X.onDestroy(()=>hr(W,fe.toStyles)),X.disabled=!0,X.overrideTotalTime(fe.totalTime),i.push(X);return}let We=vn;if(te.size>1){let pt=W,Ht=[];for(;pt=pt.parentNode;){let xe=te.get(pt);if(xe){We=xe;break}Ht.push(pt)}Ht.forEach(xe=>te.set(xe,We))}let lt=this._buildAnimation(X.namespaceId,fe,K,o,tt,je);if(X.setRealPlayer(lt),We===vn)Jt.push(X);else{let pt=this.playersByElement.get(We);pt&&pt.length&&(X.parentPlayer=pi(pt)),i.push(X)}}else Ui(W,fe.fromStyles),X.onDestroy(()=>hr(W,fe.toStyles)),gn.push(X),f.has(W)&&i.push(X)}),gn.forEach(j=>{let W=o.get(j.element);if(W&&W.length){let X=pi(W);j.setRealPlayer(X)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<b.length;j++){let W=b[j],X=W[gr];if(ga(W,hp),X&&X.hasAnimation)continue;let fe=[];if(a.size){let lt=a.get(W);lt&&lt.length&&fe.push(...lt);let pt=this.driver.query(W,gp,!0);for(let Ht=0;Ht<pt.length;Ht++){let xe=a.get(pt[Ht]);xe&&xe.length&&fe.push(...xe)}}let We=fe.filter(lt=>!lt.destroyed);We.length?H4(this,W,We):this.processLeaveNode(W)}return b.length=0,Jt.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();let W=this.players.indexOf(j);this.players.splice(W,1)}),j.play()}),Jt}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(n);a&&(s=a)}else{let a=this.playersByElement.get(n);if(a){let l=!o||o==dc;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(n,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,f=c!==o,p=mn(r,c,[]);this._getPreviousPlayers(c,f,s,a,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),p.push(g)})}Ui(o,t.fromStyles)}_buildAnimation(n,t,r,i,o,s){let a=t.triggerName,l=t.element,c=[],f=new Set,p=new Set,v=t.timelines.map(y=>{let _=y.element;f.add(_);let b=_[gr];if(b&&b.removedBeforeQueried)return new Vr(y.duration,y.delay);let C=_!==l,M=$4((r.get(_)||L4).map(K=>K.getRealPlayer())).filter(K=>{let te=K;return te.element?te.element===_:!1}),R=o.get(_),V=s.get(_),se=Xv(this._normalizer,y.keyframes,R,V),re=this._buildPlayer(y,se,M);if(y.subTimeline&&i&&p.add(_),C){let K=new mc(n,a,_);K.setRealPlayer(re),c.push(K)}return re});c.forEach(y=>{mn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>j4(this.playersByQueriedElement,y.element,y))}),f.forEach(y=>er(y,iy));let g=pi(v);return g.onDestroy(()=>{f.forEach(y=>ga(y,iy)),hr(l,t.toStyles)}),p.forEach(y=>{mn(i,y,[]).push(g)}),g}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new Vr(n.duration,n.delay)}},mc=class{namespaceId;triggerName;element;_player=new Vr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>fp(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){mn(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let t=this._player;t.triggerCallback&&t.triggerCallback(n)}};function j4(e,n,t){let r=e.get(n);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&e.delete(n)}return r}function B4(e){return e??null}function bp(e){return e&&e.nodeType===1}function U4(e){return e=="start"||e=="done"}function V1(e,n){let t=e.style.display;return e.style.display=n??"none",t}function j1(e,n,t,r,i){let o=[];t.forEach(l=>o.push(V1(l)));let s=[];r.forEach((l,c)=>{let f=new Map;l.forEach(p=>{let v=n.computeStyle(c,p,i);f.set(p,v),(!v||v.length==0)&&(c[gr]=V4,s.push(c))}),e.set(c,f)});let a=0;return t.forEach(l=>V1(l,o[a++])),s}function B1(e,n){let t=new Map;if(e.forEach(a=>t.set(a,[])),n.length==0)return t;let r=1,i=new Set(n),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return n.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function er(e,n){e.classList?.add(n)}function ga(e,n){e.classList?.remove(n)}function H4(e,n,t){pi(t).onDone(()=>e.processLeaveNode(n))}function $4(e){let n=[];return W1(e,n),n}function W1(e,n){for(let t=0;t<e.length;t++){let r=e[t];r instanceof Go?W1(r.players,n):n.push(r)}}function z4(e,n){let t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}function U1(e,n,t){let r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(o=>i.add(o)):n.set(e,r),t.delete(e),!0}var va=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,t)=>{};constructor(n,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Cy(n.body,t,r),this._timelineEngine=new yy(n.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,t,r,i,o){let s=n+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],f=$1(this._driver,o,l,c);if(l.length)throw g1(i,l);a=P4(i,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Jv(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Jv(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(n,t,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function G4(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=uy(n[0]),n.length>1&&(r=uy(n[n.length-1]))):n instanceof Map&&(t=uy(n)),t||r?new q4(e,t,r):null}var q4=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hr(this._element,this._initialStyles),this._endStyles&&(hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ui(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),hr(this._element,this._initialStyles),this._state=3)}}return e})();function uy(e){let n=null;return e.forEach((t,r)=>{W4(r)&&(n=n||new Map,n.set(r,t))}),n}function W4(e){return e==="display"||e==="position"}var Ip=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let n=this.keyframes,t=this._triggerWebAnimation(this.element,n,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=n.length?n[n.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(n){let t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){let i=this._convertKeyframesToObject(t);try{return n.animate(i,r)}catch{return null}}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){let n=this._buildPlayer();n&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),n.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=n*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&n.set(i,this._finished?r:yp(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){let t=n==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Tp=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,t){return ey(n,t)}getParentElement(n){return mp(n)}query(n,t,r){return ty(n,t,r)}computeStyle(n,t,r){return yp(n,t)}animate(n,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,f=s.filter(g=>g instanceof Ip);P1(r,i)&&f.forEach(g=>{g.currentSnapshot.forEach((y,_)=>c.set(_,y))});let p=I1(t).map(g=>new Map(g));p=O1(n,p,c);let v=G4(n,p);return new Ip(n,p,l,v)}};var Ep="@",Z1="@.disabled",Pp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r,i){if(i){this.delegate.removeChild(n,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){t.charAt(0)==Ep&&t==Z1?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r,i){return this.delegate.listen(n,t,r,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}},by=class extends Pp{factory;constructor(n,t,r,i,o){super(t,r,i,o),this.factory=n,this.namespaceId=t}setProperty(n,t,r){t.charAt(0)==Ep?t.charAt(1)=="."&&t==Z1?(r=r===void 0?!0:!!r,this.disableAnimations(n,r)):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r,i){if(t.charAt(0)==Ep){let o=Z4(n),s=t.slice(1),a="";return s.charAt(0)!=Ep&&([s,a]=K4(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(n,t,r,i)}};function Z4(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function K4(e){let n=e.indexOf("."),t=e.substring(0,n),r=e.slice(n+1);return[t,r]}var Op=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,t,r){this.delegate=n,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(n,t){let i=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){let c=this._rendererCache,f=c.get(i);if(!f){let p=()=>c.delete(i);f=new Pp("",i,this.engine,p),c.set(i,f)}return f}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,n,c.name,c)};return t.data.animation.forEach(a),new by(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,r){if(n>=0&&n<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(n){this.engine.flush(),this.delegate.componentReplaced?.(n)}};var Q4=(()=>{class e extends va{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||e)(B(Le),B(Yo),B(Qo))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function X4(){return new wp}function J4(e,n,t){return new Op(e,n,t)}var K1=[{provide:Qo,useFactory:X4},{provide:va,useClass:Q4},{provide:ii,useFactory:J4,deps:[El,va,$e]}],jee=[{provide:Yo,useClass:Ey},{provide:nd,useValue:"NoopAnimations"},...K1],e5=[{provide:Yo,useFactory:()=>new Tp},{provide:nd,useFactory:()=>"BrowserAnimations"},...K1];function Y1(){return Nt("NgEagerAnimations"),[...e5]}var Q1={providers:[fa,pa,sh(),d0(),Av(JM,Vf()),vx(gx()),tv(nv()),Y1()]};function t5(e,n){if(e&1&&(u(0,"li")(1,"a",11)(2,"span"),m(3,"Dashboard"),d()()()),e&2){let t=w();h(),ue("active",t.isActive("/admin"))}}function n5(e,n){e&1&&(u(0,"li")(1,"span",12),m(2,"Dashboard"),d()())}function r5(e,n){e&1&&(J(),u(0,"svg",3),E(1,"path",13),d())}function i5(e,n){e&1&&(J(),u(0,"svg",3),E(1,"path",14),d())}var Ap=class e{theme=Z("dark");platformId=D(Pr);doc=D(Le);auth=D(pn);router=D(Ke);toggleTheme(){let n=this.theme()==="dark"?"light":"dark";this.theme.set(n),Qd(this.platformId)&&(this.doc.documentElement.dataset.theme=n)}isActive(n){return this.router.url.startsWith(n)}isAuthenticated(){return this.auth.isAuthenticated()}logout(){this.auth.logout(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-navbar"]],decls:23,vars:9,consts:[[1,"nav-shell"],[1,"inner"],["routerLink","/patrimoines",1,"brand"],["viewBox","0 0 24 24"],["fill","currentColor","d","M3 12 12 3l9 9-9 9-9-9Zm9-5.83L5.83 12 12 18.17 18.17 12 12 6.17Z"],[1,"menu"],["routerLink","/patrimoines"],["routerLink","/monuments"],[1,"actions"],["type","button",1,"ghost",3,"click"],["routerLink","/favoris","title","Voir vos favoris",1,"ghost"],["routerLink","/admin"],[1,"disabled"],["fill","currentColor","d","M12 3a9 9 0 0 0 0 18 9 9 0 0 0 0-18Zm0 2a7 7 0 0 1 0 14 7 7 0 0 1 0-14Z"],["fill","currentColor","d","M6.995 12a5 5 0 0 1 4.47-4.966 7 7 0 1 0 6.504 6.504A5 5 0 0 1 6.995 12Z"]],template:function(t,r){t&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),J(),u(3,"svg",3),E(4,"path",4),d(),m(5," Patrimoine Tunisien "),d(),Pe(),u(6,"ul",5)(7,"li")(8,"a",6)(9,"span"),m(10,"Sites"),d()()(),u(11,"li")(12,"a",7)(13,"span"),m(14,"Monuments"),d()()(),P(15,t5,4,2,"li")(16,n5,3,0,"li"),d(),u(17,"div",8)(18,"button",9),N("click",function(){return r.toggleTheme()}),P(19,r5,2,0,":svg:svg",3)(20,i5,2,0,":svg:svg",3),d(),u(21,"a",10),m(22," Favoris "),d()()()()),t&2&&(h(8),ue("active",r.isActive("/patrimoines")),h(4),ue("active",r.isActive("/monuments")),h(3),O(r.isAuthenticated()?15:16),h(3),ot("aria-label","Basculer th\xE8me "+r.theme()),h(),O(r.theme()==="dark"?19:20),h(2),ue("active",r.isActive("/favoris")))},dependencies:[xt,Rv],styles:[".nav-shell[_ngcontent-%COMP%]{position:sticky;top:10px;z-index:50;margin:0 auto 20px;max-width:1320px;padding:4px 10px}.inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:color-mix(in srgb,var(--color-surface) 92%,transparent);border:1px solid var(--color-border);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:18px;padding:10px 18px;box-shadow:var(--color-shadow);transition:background .35s,border-color .35s}.brand[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;font-weight:700;text-decoration:none;color:var(--color-text);letter-spacing:.6px}.brand[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px;height:26px;color:var(--color-accent-alt)}.menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:14px;align-items:center}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-size:.8rem;padding:8px 14px;border-radius:12px;color:var(--color-muted);font-weight:600;letter-spacing:.5px;transition:color .3s,background .3s}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-text)}.menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--color-text);background:linear-gradient(135deg,var(--color-accent) 0%,var(--color-accent-alt) 100%);box-shadow:0 8px 18px -6px color-mix(in srgb,var(--color-accent) 65%,transparent)}.menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.35;cursor:not-allowed}.actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.ghost[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-accent-soft) 65%,transparent);border:1px solid var(--color-border);color:var(--color-text);padding:8px 12px;font-size:.7rem;letter-spacing:.5px;border-radius:10px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-weight:600;transition:background .3s,transform .3s,box-shadow .3s}.ghost[_ngcontent-%COMP%]:hover:not(.disabled){background:color-mix(in srgb,var(--color-accent-alt) 40%,var(--color-accent-soft) 60%);transform:translateY(-2px);box-shadow:0 6px 14px -6px color-mix(in srgb,var(--color-accent) 55%,transparent)}.ghost.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed}.ghost[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--color-accent)}@media (max-width: 820px){.menu[_ngcontent-%COMP%]{display:none}}"]})};var Np=class e{year=new Date().getFullYear();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-footer"]],decls:47,vars:1,consts:[[1,"site-footer"],[1,"decor"],[1,"container"],[1,"row","g-4"],[1,"col-12","col-md-5"],[1,"text-light"],[1,"small","mb-2"],[1,"small","mb-3","text-secondary"],[1,"social"],["title","GitHub",1,"social-btn"],["viewBox","0 0 24 24"],["fill","currentColor","d","M12 2a10 10 0 0 0-3.16 19.49c.5.09.68-.22.68-.48v-1.7c-2.78.6-3.37-1.34-3.37-1.34a2.66 2.66 0 0 0-1.11-1.47c-.91-.62.07-.61.07-.61a2.1 2.1 0 0 1 1.53 1.02 2.14 2.14 0 0 0 2.93.84c.04-.5.21-.97.5-1.36-2.22-.25-4.56-1.11-4.56-4.95a3.88 3.88 0 0 1 1-2.69 3.6 3.6 0 0 1 .1-2.65s.84-.27 2.75 1.02a9.5 9.5 0 0 1 5 0c1.9-1.3 2.74-1.02 2.74-1.02a3.6 3.6 0 0 1 .1 2.65 3.87 3.87 0 0 1 1 2.69c0 3.85-2.34 4.7-4.57 4.95.36.43.58.97.58 1.56v2.31c0 .27.18.58.69.48A10 10 0 0 0 12 2Z"],["title","Twitter",1,"social-btn"],["fill","currentColor","d","M17.5 4h3L14 12l7 8h-3l-5.5-6-5.5 6H4l7-8L4 4h3l5.5 6L17.5 4Z"],[1,"col-6","col-md-3"],[1,"list-unstyled","small"],["routerLink","/patrimoines"],[1,"text-secondary"],[1,"col-6","col-md-4"],[1,"border-secondary"],[1,"d-flex","justify-content-between","small","flex-wrap"]],template:function(t,r){t&1&&(u(0,"footer",0),E(1,"div",1),u(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),m(6,"Patrimoine Tunisien"),d(),u(7,"p",6),m(8,"Exploration des sites et monuments historiques de Tunisie."),d(),u(9,"p",7),m(10,"Prototype p\xE9dagogique \u2013 donn\xE9es fictives."),d(),u(11,"div",8)(12,"button",9),J(),u(13,"svg",10),E(14,"path",11),d()(),Pe(),u(15,"button",12),J(),u(16,"svg",10),E(17,"path",13),d()()()(),Pe(),u(18,"div",14)(19,"h6",5),m(20,"Navigation"),d(),u(21,"ul",15)(22,"li")(23,"a",16),m(24,"Sites"),d()(),u(25,"li")(26,"span",17),m(27,"Monuments (\xE0 venir)"),d()(),u(28,"li")(29,"span",17),m(30,"Dashboard (\xE0 venir)"),d()()()(),u(31,"div",18)(32,"h6",5),m(33,"Stack"),d(),u(34,"ul",15)(35,"li"),m(36,"Angular 20 + Standalone"),d(),u(37,"li"),m(38,"Signals / Embla"),d(),u(39,"li"),m(40,"Dark UI exp\xE9rimental"),d()()()(),E(41,"hr",19),u(42,"div",20)(43,"span"),m(44),d(),u(45,"span"),m(46,"Design exp\xE9rimental \xE9volutif"),d()()()()),t&2&&(h(44),G("\xA9 ",r.year," Patrimoine Tunisien"))},dependencies:[xt],styles:[".site-footer[_ngcontent-%COMP%]{position:relative;padding:40px 0 24px;margin-top:auto;background:linear-gradient(180deg,#0f172a,#0b1220 70%);border-top:1px solid #1e293b;flex-shrink:0;width:100%}.site-footer[_ngcontent-%COMP%]   .decor[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 20% 30%,rgba(37,99,235,.25),transparent 60%),radial-gradient(circle at 80% 70%,rgba(14,165,233,.18),transparent 65%);pointer-events:none;opacity:.55;z-index:0}.site-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.site-footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600}.site-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.site-footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.social[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:12px}.social-btn[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid rgba(255,255,255,.15);width:42px;height:42px;display:grid;place-items:center;color:#e2e8f0;border-radius:10px;cursor:pointer;transition:background .3s,transform .3s}.social-btn[_ngcontent-%COMP%]:hover{background:#0ea5e940;transform:translateY(-4px)}.social-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.site-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{opacity:.18}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;text-decoration:none}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:underline}"]})};var Rp=class e{title=Z("Projet");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ge({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&(E(0,"app-navbar"),u(1,"main"),E(2,"router-outlet"),d(),E(3,"app-footer"))},dependencies:[$o,Ap,Np],styles:["[_nghost-%COMP%]{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#030712;color:#e5e7eb;display:flex;flex-direction:column;flex:1;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto;width:100%}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:14px 24px;background:#0f172a;border-bottom:1px solid #1e293b;position:sticky;top:0;z-index:50}.main-nav[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;text-decoration:none;color:#fff}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#93c5fd;text-decoration:none}"]})};W0(Rp,Q1).catch(e=>console.error(e));
